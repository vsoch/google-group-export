X-Received: by 2002:a62:10d9:: with SMTP id 86-v6mr2676438pfq.14.1541715413050;
        Thu, 08 Nov 2018 14:16:53 -0800 (PST)
X-BeenThere: singularity@lbl.gov
Received: by 2002:a65:6103:: with SMTP id z3-v6ls764669pgu.15.gmail; Thu, 08
 Nov 2018 14:16:52 -0800 (PST)
X-Received: by 2002:a62:5c41:: with SMTP id q62-v6mr6444019pfb.171.1541715411949;
        Thu, 08 Nov 2018 14:16:51 -0800 (PST)
ARC-Seal: i=1; a=rsa-sha256; t=1541715411; cv=none;
        d=google.com; s=arc-20160816;
        b=S8q2YGaWNFdcW9SSWYY4zFsTjdoPs89erRW+NIZFJYHDTH8oWD3wCQ0gFD5VKx2wt3
         btw+HpS0BvRz7/xlv0HqrNBn/mxESV3racVjmXKJNHqPVJA0Hc3qYlqHgUN5I2Yx0SKF
         jt0F8p4gQP/EdsxLMPiGxv9S7Scny1YCkiHc2KObFoEKTzl6YKD7zwJ5pwFfwjA12lJx
         owDNFCa/3sJgAc8WvWjzZbBNHsxzX4iZV4Q/6bO5BFLAVXTIGdIYpD/jXtIfsQ1f4NZG
         8kq0I6oAYGZDURmJPbobQMS3MwPuTM6XC2Fbz7vSKKiDwvK/k+NZu89ECmY1xTQztAsT
         5ldQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;
        h=to:subject:message-id:date:from:in-reply-to:references:mime-version
         :dkim-signature;
        bh=DFjZBJfMcbUChY4JhHt+ahLfaL9YLDbZgcqetveMB9c=;
        b=g779P6jo30g0locOUsAtOe2UhpxmiX2L/z5VFkShX5Z1+NAtoQlGN7MZFc8pNn9CRi
         rCvTbtPqb6eiKk6PvFI0x73RQWSEqXtDAVp0lY/1HgD1bny90Eavb4vz44YFwJEdoMeN
         F2c+pFuP+RCERZf0sMlhSZfwCPJhpNp/XPrtdzIV2GYKwIu10LDoE62XxYw8vT8zVBiM
         C9lmb6x/wI6JDEp/UHx0VijhhSUOliwsea/pinPc4S2oqZ0+6jk2vjJ+bHTd4558pCcu
         3g4rrG1HI94FirH7vEwwtPuIyUOVaAaVjchXEQZt8gnhKYtptUS0XjGCvmbUrjF2I1hx
         MpXA==
ARC-Authentication-Results: i=1; mx.google.com;
       dkim=pass head...@gmail.com header.s=20161025 header.b=CUCi9QZd;
       spf=pass (google.com: domain of trey...@gmail.com designates 209.85.221.53 as permitted sender) smtp.mailfrom=trey...@gmail.com
Return-Path: <trey...@gmail.com>
Received: from fe3.lbl.gov (fe3.lbl.gov. [128.3.41.68])
        by mx.google.com with ESMTP id m9-v6si4651408pgg.464.2018.11.08.14.16.51
        for <singu...@lbl.gov>;
        Thu, 08 Nov 2018 14:16:51 -0800 (PST)
Received-SPF: pass (google.com: domain of trey...@gmail.com designates 209.85.221.53 as permitted sender) client-ip=209.85.221.53;
Authentication-Results: mx.google.com;
       dkim=pass head...@gmail.com header.s=20161025 header.b=CUCi9QZd;
       spf=pass (google.com: domain of trey...@gmail.com designates 209.85.221.53 as permitted sender) smtp.mailfrom=trey...@gmail.com
X-Ironport-SBRS: 3.4
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: =?us-ascii?q?A2EdAAAeteRbhjXdVdFaCh0BAQUBBwUBg?=
 =?us-ascii?q?VEIAQsBgVqBD08zJ4N4gR2CXoQdi3yCDYoDjS8UgRADGDslAQwJg3hGAoMZIjQ?=
 =?us-ascii?q?NDQEDAQECAQECAQECEAEBAQgLCwgpIwyCNgUCAwIfBQRLOgEwAQEBAQEBAQEBA?=
 =?us-ascii?q?QEBAQEBAQEBAQEBFAIMIUMBAQEBAgEaCR0BDQ4YBgMBCwYDAgsNFQsKAgIiAQ4?=
 =?us-ascii?q?DAQUBHA4HBAEcBIMAASgBgT8BAw0IBQqMeZAHPIsNgREFAReCdwWBMQGDDgoZJ?=
 =?us-ascii?q?w1agTcCAQUSi2cXgUE/g3UugxsBAYEcCQkBBwsBCUMSgkWCVwKIbQ8LhnFOjwI?=
 =?us-ascii?q?JghuEV4okGIFXgV2GRoQOgmSNIIpBMIEibTBxcBU7MYI7ghsag1OKcCQwAQ+LB?=
 =?us-ascii?q?0eBdwEB?=
X-IronPort-AV: E=Sophos;i="5.54,481,1534834800"; 
   d="scan'208,217";a="134395101"
Received: from mail-wr1-f53.google.com ([209.85.221.53])
  by fe3.lbl.gov with ESMTP; 08 Nov 2018 14:16:48 -0800
Received: by mail-wr1-f53.google.com with SMTP id y3-v6so22596886wrh.10
        for <singu...@lbl.gov>; Thu, 08 Nov 2018 14:16:48 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:references:in-reply-to:from:date:message-id:subject:to;
        bh=DFjZBJfMcbUChY4JhHt+ahLfaL9YLDbZgcqetveMB9c=;
        b=CUCi9QZdvNwhc6G4UQ06ItBKL6h32DkKxG5xG05q0Sh+dP/AR6wNdxFPXpBBRQw1It
         Q53Od54E6l5QTjSh1+Et/1MTCKF33SU9d6lKxX/BPFx9xxfmQBChJwS6pn3fYr/Gvg7B
         weiypt2zhcQ2IrYoF4b3P1AJoNX5kXxbGiw6yRqtTdLrrB1Wtgkpj8zDzAkep5Nb9CzS
         2lc0QjJ5wlcYC3KPFi9oXg/IauqlFsqmtTlv+bJUwJDmU2RhmoqeLZ904XntCz0/wAkg
         t3ooctaScnXbqgFADf9Rg3aq4NK90eOalgGBAFK8Ocu4/ODXmoN0ttjG23RRBzrh9qcb
         YrzQ==
X-Gm-Message-State: AGRZ1gJhsk71WF1KCSSWQcHd4LlCn7g9sP1XC0IpkKrMyV8Jbj0E4BIf
	Xupdihdj2qN+kXPEiza14XUqgbMD/hA2C0kNeTbQ+w==
X-Received: by 2002:a5d:6b43:: with SMTP id x3-v6mr3559106wrw.304.1541715406874;
 Thu, 08 Nov 2018 14:16:46 -0800 (PST)
MIME-Version: 1.0
References: <1c61c128-20e5-4878-9072-5066ad6db42a@lbl.gov> <82bf324f-7463-4db9-b649-895c5768c36d@lbl.gov>
In-Reply-To: <82bf324f-7463-4db9-b649-895c5768c36d@lbl.gov>
From: Trey Dockendorf <trey...@gmail.com>
Date: Thu, 8 Nov 2018 17:16:37 -0500
Message-ID: <CAN0oX1aOvyepaZ4PwD6AFRy5+XFOgkGg3oqWyzudFBMNvZ8V3Q@mail.gmail.com>
Subject: Re: [Singularity] Re: Unable to run shell subcommand with Singularity 3.0
To: singularity@lbl.gov
Content-Type: multipart/alternative; boundary="0000000000002bedfc057a2e97a9"

--0000000000002bedfc057a2e97a9
Content-Type: text/plain; charset="UTF-8"

It's a docker image from CentOS, not sure how built.  The issue occurs for
any container, not just the centos one.  The commands don't fail for myself
and others, just this one person.

Thanks,
- Trey

On Thu, Nov 8, 2018 at 4:58 PM Justin Cook <jus...@sylabs.io> wrote:

> Trey,
>
> How is this container built?
>
> Justin
>
> On Wednesday, October 31, 2018 at 2:39:35 PM UTC-5, Trey Dockendorf wrote:
>>
>> One of my colleagues testing Singularity 3.0.0 ran into an issue where
>> they are unable to run "singularity shell" in a way that works for others.
>> I'm unable to identify what about this peron's account is breaking
>> singularity.  The same commands work just fine for me and for other staff
>> testing one this same system.
>>
>> Thanks,
>> - Trey
>>
>> Short version:
>>
>> p0070:~$ singularity shell docker://centos:7
>> WARNING: passwd file doesn't exist in container, not updating
>> WARNING: group file doesn't exist in container, not updating
>> FATAL:   exec /.singularity.d/actions/shell failed: permission denied
>>
>> Debug output:
>>
>> p0070:~$ singularity --debug shell docker://centos:7
>> DEBUG   [U=21485,P=76942]  parseURI()                    Parsing
>> docker://centos:7 into reference
>> DEBUG   [U=21485,P=76942]  updateCacheSubdir()           Caching
>> directory set to
>> /tmp/pbstmp.15579/oci-tmp/67dad89757a55bfdfabec8abd0e22f8c7c12a1856514726470228063ed86593b
>> DEBUG   [U=21485,P=76942]  updateCacheSubdir()           Caching
>> directory set to /tmp/pbstmp.15579/oci-tmp
>> DEBUG   [U=21485,P=76942]  updateCacheSubdir()           Caching
>> directory set to
>> /tmp/pbstmp.15579/oci-tmp/67dad89757a55bfdfabec8abd0e22f8c7c12a1856514726470228063ed86593b
>> DEBUG   [U=21485,P=76942]  updateCacheSubdir()           Caching
>> directory set to /tmp/pbstmp.15579/oci-tmp
>> VERBOSE [U=0,P=76942]      singularity_message_level()               Set
>> messagelevel to: 5
>> DEBUG   [U=0,P=76942]      init()
>> PIPE_EXEC_FD value: 8
>> VERBOSE [U=0,P=76942]      init()
>> Container runtime
>> VERBOSE [U=0,P=76942]      is_suid()
>>  Check if we are running as setuid
>> DEBUG   [U=0,P=76942]      init()
>> Overlay seems supported by kernel
>> DEBUG   [U=0,P=76942]      init()                                    Drop
>> privileges
>> DEBUG   [U=21485,P=76942]  init()                                    Read
>> json configuration from pipe
>> DEBUG   [U=21485,P=76942]  init()                                    Set
>> child signal mask
>> DEBUG   [U=21485,P=76942]  init()
>> Create socketpair for smaster communication channel
>> DEBUG   [U=21485,P=76942]  init()                                    Wait
>> C and JSON runtime configuration from scontainer stage 1
>> DEBUG   [U=21485,P=76965]  set_parent_death_signal()                 Set
>> parent death signal to 9
>> VERBOSE [U=21485,P=76965]  init()
>> Spawn scontainer stage 1
>> VERBOSE [U=21485,P=76965]  priv_escalate()                           Get
>> root privileges
>> DEBUG   [U=0,P=76965]      set_parent_death_signal()                 Set
>> parent death signal to 9
>> DEBUG   [U=0,P=76965]      prepare_scontainer_stage()
>> Entering in scontainer stage 1
>> DEBUG   [U=21485,P=76965]  set_parent_death_signal()                 Set
>> parent death signal to 9
>> VERBOSE [U=21485,P=76965]  startup()                     Execute
>> scontainer stage 1
>> DEBUG   [U=21485,P=76965]  SContainer()                  Entering
>> scontainer stage 1
>> DEBUG   [U=21485,P=76965]  prepareFd()                   Open file
>> descriptor for /fs/project
>> DEBUG   [U=21485,P=76965]  prepareFd()                   Open file
>> descriptor for /fs/scratch
>> DEBUG   [U=21485,P=76965]  prepareFd()                   Open file
>> descriptor for /apps/xalt/xalt
>> DEBUG   [U=21485,P=76965]  Init()                        Entering image
>> format intializer
>> DEBUG   [U=21485,P=76965]  Init()                        Check for image
>> format sif
>> DEBUG   [U=21485,P=76942]  init()
>> Receiving configuration from scontainer stage 1
>> DEBUG   [U=21485,P=76942]  init()                                    Wait
>> completion of scontainer stage1
>> VERBOSE [U=21485,P=76942]  priv_escalate()                           Get
>> root privileges
>> VERBOSE [U=0,P=76942]      create_namespace()
>> Create mount namespace
>> DEBUG   [U=0,P=76942]      init()
>> Create RPC socketpair for communication between scontainer and RPC server
>> VERBOSE [U=0,P=76942]      init()
>> Spawn smaster process
>> DEBUG   [U=0,P=76972]      set_parent_death_signal()                 Set
>> parent death signal to 9
>> VERBOSE [U=0,P=76972]      init()
>> Spawn scontainer stage 2
>> VERBOSE [U=0,P=76972]      create_namespace()
>> Create mount namespace
>> VERBOSE [U=0,P=76973]      init()
>> Spawn RPC server
>> VERBOSE [U=21485,P=76942]  startup()                     Execute smaster
>> process
>> VERBOSE [U=0,P=76973]      startup()                     Serve RPC
>> requests
>> DEBUG   [U=21485,P=76942]  setupSessionLayout()          Attempting to
>> use overlayfs (enable overlay = try)
>> DEBUG   [U=21485,P=76942]  setupOverlayLayout()          Creating overlay
>> SESSIONDIR layout
>> DEBUG   [U=21485,P=76942]  addRootfsMount()              Mount rootfs in
>> read-only mode
>> DEBUG   [U=21485,P=76942]  addRootfsMount()              Mounting block
>> [squashfs] image:
>> /tmp/pbstmp.15579/oci-tmp/67dad89757a55bfdfabec8abd0e22f8c7c12a1856514726470228063ed86593b/centos_7.sif
>> DEBUG   [U=21485,P=76942]  addKernelMount()              Checking
>> configuration file for 'mount proc'
>> DEBUG   [U=21485,P=76942]  addKernelMount()              Adding proc to
>> mount list
>> DEBUG   [U=21485,P=76942]  addKernelMount()              Checking
>> configuration file for 'mount sys'
>> DEBUG   [U=21485,P=76942]  addKernelMount()              Adding sysfs to
>> mount list
>> DEBUG   [U=21485,P=76942]  addDevMount()                 Checking
>> configuration file for 'mount dev'
>> DEBUG   [U=21485,P=76942]  addDevMount()                 Adding dev to
>> mount list
>> DEBUG   [U=21485,P=76942]  addHostMount()                Not mounting
>> host file systems per configuration
>> VERBOSE [U=21485,P=76942]  addBindsMount()               Found 'bind
>> path' = /etc/localtime, /etc/localtime
>> VERBOSE [U=21485,P=76942]  addBindsMount()               Found 'bind
>> path' = /etc/hosts, /etc/hosts
>> VERBOSE [U=21485,P=76942]  addBindsMount()               Found 'bind
>> path' = /fs/project, /fs/project
>> VERBOSE [U=21485,P=76942]  addBindsMount()               Found 'bind
>> path' = /fs/scratch, /fs/scratch
>> VERBOSE [U=21485,P=76942]  addBindsMount()               Found 'bind
>> path' = /apps/xalt/xalt, /apps/xalt/xalt
>> DEBUG   [U=21485,P=76942]  addHomeStagingDir()           Staging home
>> directory (/users/PZS0530/dheisterberg) at
>> /var/singularity/mnt/session/users/PZS0530/dheisterberg
>> DEBUG   [U=21485,P=76942]  addHomeMount()                Adding home
>> directory mount
>> [/var/singularity/mnt/session/users/PZS0530/dheisterberg:/users/PZS0530/dheisterberg]
>> to list using layer: overlay
>> DEBUG   [U=21485,P=76942]  isLayerEnabled()              Using Layer
>> system: overlay
>> DEBUG   [U=21485,P=76942]  addTmpMount()                 Checking for
>> 'mount tmp' in configuration file
>> DEBUG   [U=21485,P=76942]  addScratchMount()             Not mounting
>> scratch directory: Not requested
>> DEBUG   [U=21485,P=76942]  addLibsMount()                Checking for
>> 'user bind control' in configuration file
>> DEBUG   [U=21485,P=76942]  addResolvConfMount()          Adding
>> /etc/resolv.conf to mount list
>> DEBUG   [U=21485,P=76942]  addHostnameMount()            Skipping
>> hostname mount, not virtualizing UTS namespace on user request
>> DEBUG   [U=21485,P=76942]  create()                      Mount all
>> DEBUG   [U=21485,P=76942]  mountGeneric()                Mounting tmpfs
>> to /var/singularity/mnt/session
>> DEBUG   [U=21485,P=76942]  mountImage()                  Mounting loop
>> device /dev/loop0 to /var/singularity/mnt/session/rootfs
>> DEBUG   [U=21485,P=76942]  mountGeneric()                Mounting overlay
>> to /var/singularity/mnt/session/final
>> DEBUG   [U=21485,P=76942]  setSlaveMount()               Set RPC mount
>> propagation flag to SLAVE
>> VERBOSE [U=21485,P=76942]  Passwd()                      Checking for
>> template passwd file: /var/singularity/mnt/session/rootfs/etc/passwd
>> WARNING [U=21485,P=76942]  addIdentityMount()            passwd file
>> doesn't exist in container, not updating
>> VERBOSE [U=21485,P=76942]  Group()                       Checking for
>> template group file: /var/singularity/mnt/session/rootfs/etc/group
>> WARNING [U=21485,P=76942]  addIdentityMount()            group file
>> doesn't exist in container, not updating
>> DEBUG   [U=21485,P=76942]  mountGeneric()                Mounting /dev to
>> /var/singularity/mnt/session/final/dev
>> DEBUG   [U=21485,P=76942]  mountGeneric()                Mounting
>> /etc/localtime to /var/singularity/mnt/session/final/etc/localtime
>> DEBUG   [U=21485,P=76942]  mountGeneric()                Mounting
>> /etc/hosts to /var/singularity/mnt/session/final/etc/hosts
>> DEBUG   [U=21485,P=76942]  mountGeneric()                Mounting
>> /fs/project to /var/singularity/mnt/session/final/fs/project
>> DEBUG   [U=21485,P=76942]  mountGeneric()                Mounting
>> /fs/scratch to /var/singularity/mnt/session/final/fs/scratch
>> DEBUG   [U=21485,P=76942]  mountGeneric()                Mounting
>> /apps/xalt/xalt to /var/singularity/mnt/session/final/apps/xalt/xalt
>> DEBUG   [U=21485,P=76942]  mountGeneric()                Mounting
>> /etc/singularity/actions to
>> /var/singularity/mnt/session/final/.singularity.d/actions
>> DEBUG   [U=21485,P=76942]  mountGeneric()                Remounting
>> /var/singularity/mnt/session/final/.singularity.d/actions
>> DEBUG   [U=21485,P=76942]  mountGeneric()                Mounting /proc
>> to /var/singularity/mnt/session/final/proc
>> DEBUG   [U=21485,P=76942]  mountGeneric()                Remounting
>> /var/singularity/mnt/session/final/proc
>> DEBUG   [U=21485,P=76942]  mountGeneric()                Mounting sysfs
>> to /var/singularity/mnt/session/final/sys
>> DEBUG   [U=21485,P=76942]  mountGeneric()                Mounting
>> /users/PZS0530/dheisterberg to
>> /var/singularity/mnt/session/users/PZS0530/dheisterberg
>> DEBUG   [U=21485,P=76942]  mountGeneric()                Remounting
>> /var/singularity/mnt/session/users/PZS0530/dheisterberg
>> DEBUG   [U=21485,P=76942]  mountGeneric()                Mounting
>> /var/singularity/mnt/session/users/PZS0530/dheisterberg to
>> /var/singularity/mnt/session/final/users/PZS0530/dheisterberg
>> DEBUG   [U=21485,P=76942]  mountGeneric()                Remounting
>> /var/singularity/mnt/session/final/users/PZS0530/dheisterberg
>> DEBUG   [U=21485,P=76942]  mountGeneric()                Mounting /tmp to
>> /var/singularity/mnt/session/final/tmp
>> DEBUG   [U=21485,P=76942]  mountGeneric()                Remounting
>> /var/singularity/mnt/session/final/tmp
>> DEBUG   [U=21485,P=76942]  mountGeneric()                Mounting
>> /var/tmp to /var/singularity/mnt/session/final/var/tmp
>> DEBUG   [U=21485,P=76942]  mountGeneric()                Remounting
>> /var/singularity/mnt/session/final/var/tmp
>> DEBUG   [U=21485,P=76942]  mountGeneric()                Skipping mount
>> /var/singularity/mnt/session/final/users/PZS0530/dheisterberg,
>> /var/singularity/mnt/session/final/users/PZS0530/dheisterberg already
>> mounted
>> DEBUG   [U=21485,P=76942]  mountGeneric()                Mounting
>> /var/singularity/mnt/session/etc/resolv.conf to
>> /var/singularity/mnt/session/final/etc/resolv.conf
>> DEBUG   [U=21485,P=76942]  create()                      Chroot into
>> /var/singularity/mnt/session/final
>> DEBUG   [U=0,P=76973]      Chroot()                      Hold reference
>> to host / directory
>> DEBUG   [U=0,P=76973]      Chroot()                      Change current
>> directory to /var/singularity/mnt/session/final
>> DEBUG   [U=0,P=76973]      Chroot()                      Called
>> pivot_root on /var/singularity/mnt/session/final
>> DEBUG   [U=0,P=76973]      Chroot()                      Change current
>> directory to host / directory
>> DEBUG   [U=0,P=76973]      Chroot()                      Apply slave
>> mount propagation for host / directory
>> DEBUG   [U=0,P=76973]      Chroot()                      Called
>> unmount(/, syscall.MNT_DETACH)
>> DEBUG   [U=0,P=76973]      Chroot()                      Changing
>> directory to / to avoid getpwd issues
>> DEBUG   [U=21485,P=76942]  create()                      Chdir into / to
>> avoid errors
>> DEBUG   [U=0,P=76972]      set_parent_death_signal()                 Set
>> parent death signal to 9
>> DEBUG   [U=0,P=76972]      prepare_scontainer_stage()
>> Entering in scontainer stage 2
>> DEBUG   [U=21485,P=76972]  set_parent_death_signal()                 Set
>> parent death signal to 9
>> VERBOSE [U=21485,P=76972]  startup()                     Execute
>> scontainer stage 2
>> FATAL   [U=21485,P=76972]  SContainer()                  exec
>> /.singularity.d/actions/shell failed: permission denied
>> DEBUG   [U=21485,P=76942]  PostStartProcess()            Post start
>> process
>> DEBUG   [U=21485,P=76942]  CleanupContainer()            Cleanup container
>> DEBUG   [U=21485,P=76942]  SMaster()                     Child exited
>> with exit status 255
>>
>> --
> You received this message because you are subscribed to a topic in the
> Google Groups "singularity" group.
> To unsubscribe from this topic, visit
> https://groups.google.com/a/lbl.gov/d/topic/singularity/ccKBL6vAezE/unsubscribe
> .
> To unsubscribe from this group and all its topics, send an email to
> singu...@lbl.gov.
>

--0000000000002bedfc057a2e97a9
Content-Type: text/html; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">It&#39;s a docker image from CentOS, not sure how built.=
=C2=A0 The issue occurs for any container, not just the centos one.=C2=A0 T=
he commands don&#39;t fail for myself and others, just this one person.<div=
><br></div><div>Thanks,</div><div>- Trey</div></div><br><div class=3D"gmail=
_quote"><div dir=3D"ltr">On Thu, Nov 8, 2018 at 4:58 PM Justin Cook &lt;<a =
href=3D"mailto:jus...@sylabs.io">jus...@sylabs.io</a>&gt; wrote:<br></div><=
blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px=
 #ccc solid;padding-left:1ex"><div dir=3D"ltr"><div>Trey,</div><div><br></d=
iv>How is this container built?<div><br></div><div>Justin<br><br>On Wednesd=
ay, October 31, 2018 at 2:39:35 PM UTC-5, Trey Dockendorf wrote:<blockquote=
 class=3D"gmail_quote" style=3D"margin:0;margin-left:0.8ex;border-left:1px =
#ccc solid;padding-left:1ex"><div dir=3D"ltr">One of my colleagues testing =
Singularity 3.0.0 ran into an issue where they are unable to run &quot;sing=
ularity shell&quot; in a way that works for others.=C2=A0 I&#39;m unable to=
 identify what about this peron&#39;s account is breaking singularity.=C2=
=A0 The same commands work just fine for me and for other staff testing one=
 this same system.<div><br></div><div>Thanks,</div><div>- Trey<br><div><br>=
</div><div>Short version:</div><div><br></div><div><div>p0070:~$ singularit=
y shell docker://centos:7=C2=A0</div><div>WARNING: passwd file doesn&#39;t =
exist in container, not updating</div><div>WARNING: group file doesn&#39;t =
exist in container, not updating</div><div>FATAL:=C2=A0 =C2=A0exec /.singul=
arity.d/actions/shell failed: permission denied</div></div><div><br></div><=
div>Debug output:</div><div><br></div><div><div>p0070:~$ singularity --debu=
g shell docker://centos:7=C2=A0</div><div>DEBUG=C2=A0 =C2=A0[U=3D21485,P=3D=
76942]=C2=A0 parseURI()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 Parsing docker://centos:7 into reference</div><div>DEBUG=
=C2=A0 =C2=A0[U=3D21485,P=3D76942]=C2=A0 updateCacheSubdir()=C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0Caching directory set to /tmp/pbstmp.15579/oci-t=
mp/67dad89757a55bfdfabec8abd0e22f8c7c12a1856514726470228063ed86593b</div><d=
iv>DEBUG=C2=A0 =C2=A0[U=3D21485,P=3D76942]=C2=A0 updateCacheSubdir()=C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Caching directory set to /tmp/pbstmp.1557=
9/oci-tmp</div><div>DEBUG=C2=A0 =C2=A0[U=3D21485,P=3D76942]=C2=A0 updateCac=
heSubdir()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Caching directory set to=
 /tmp/pbstmp.15579/oci-tmp/67dad89757a55bfdfabec8abd0e22f8c7c12a18565147264=
70228063ed86593b</div><div>DEBUG=C2=A0 =C2=A0[U=3D21485,P=3D76942]=C2=A0 up=
dateCacheSubdir()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Caching directory=
 set to /tmp/pbstmp.15579/oci-tmp</div><div>VERBOSE [U=3D0,P=3D76942]=C2=A0=
 =C2=A0 =C2=A0 singularity_message_level()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0Set messagelevel to: 5</div><div>DEBUG=C2=A0 =C2=A0=
[U=3D0,P=3D76942]=C2=A0 =C2=A0 =C2=A0 init()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 PIPE_EXEC_FD value: 8</div><div>VERBOSE [U=3D0,P=3D769=
42]=C2=A0 =C2=A0 =C2=A0 init()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 Container runtime</div><div>VERBOSE [U=3D0,P=3D76942]=C2=A0 =C2=A0 =
=C2=A0 is_suid()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Check if we are =
running as setuid</div><div>DEBUG=C2=A0 =C2=A0[U=3D0,P=3D76942]=C2=A0 =C2=
=A0 =C2=A0 init()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Overl=
ay seems supported by kernel</div><div>DEBUG=C2=A0 =C2=A0[U=3D0,P=3D76942]=
=C2=A0 =C2=A0 =C2=A0 init()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 Drop privileges</div><div>DEBUG=C2=A0 =C2=A0[U=3D21485,P=3D76942]=C2=A0=
 init()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Read json confi=
guration from pipe</div><div>DEBUG=C2=A0 =C2=A0[U=3D21485,P=3D76942]=C2=A0 =
init()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Set child signal m=
ask</div><div>DEBUG=C2=A0 =C2=A0[U=3D21485,P=3D76942]=C2=A0 init()=C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Create socketpair for smaster=
 communication channel</div><div>DEBUG=C2=A0 =C2=A0[U=3D21485,P=3D76942]=C2=
=A0 init()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Wait C and J=
SON runtime configuration from scontainer stage 1</div><div>DEBUG=C2=A0 =C2=
=A0[U=3D21485,P=3D76965]=C2=A0 set_parent_death_signal()=C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Set parent death signal to 9</=
div><div>VERBOSE [U=3D21485,P=3D76965]=C2=A0 init()=C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 Spawn scontainer stage 1</div><div>VERBOSE [U=
=3D21485,P=3D76965]=C2=A0 priv_escalate()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Get root pri=
vileges</div><div>DEBUG=C2=A0 =C2=A0[U=3D0,P=3D76965]=C2=A0 =C2=A0 =C2=A0 s=
et_parent_death_signal()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0Set parent death signal to 9</div><div>DEBUG=C2=A0 =C2=A0[U=3D=
0,P=3D76965]=C2=A0 =C2=A0 =C2=A0 prepare_scontainer_stage()=C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Entering in scontainer stage 1</d=
iv><div>DEBUG=C2=A0 =C2=A0[U=3D21485,P=3D76965]=C2=A0 set_parent_death_sign=
al()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Set paren=
t death signal to 9</div><div>VERBOSE [U=3D21485,P=3D76965]=C2=A0 startup()=
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0Execute scontainer stage 1</div><div>DEBUG=C2=A0 =C2=A0[U=3D21485,P=3D76=
965]=C2=A0 SContainer()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 Entering scontainer stage 1</div><div>DEBUG=C2=A0 =C2=A0[U=3D214=
85,P=3D76965]=C2=A0 prepareFd()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0Open file descriptor for /fs/project</div><div>D=
EBUG=C2=A0 =C2=A0[U=3D21485,P=3D76965]=C2=A0 prepareFd()=C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Open file descriptor fo=
r /fs/scratch</div><div>DEBUG=C2=A0 =C2=A0[U=3D21485,P=3D76965]=C2=A0 prepa=
reFd()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
Open file descriptor for /apps/xalt/xalt</div><div>DEBUG=C2=A0 =C2=A0[U=3D2=
1485,P=3D76965]=C2=A0 Init()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Entering image format intializer</di=
v><div>DEBUG=C2=A0 =C2=A0[U=3D21485,P=3D76965]=C2=A0 Init()=C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Check=
 for image format sif</div><div>DEBUG=C2=A0 =C2=A0[U=3D21485,P=3D76942]=C2=
=A0 init()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Receiving co=
nfiguration from scontainer stage 1</div><div>DEBUG=C2=A0 =C2=A0[U=3D21485,=
P=3D76942]=C2=A0 init()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 W=
ait completion of scontainer stage1</div><div>VERBOSE [U=3D21485,P=3D76942]=
=C2=A0 priv_escalate()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Get root privileges</div><div>=
VERBOSE [U=3D0,P=3D76942]=C2=A0 =C2=A0 =C2=A0 create_namespace()=C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 C=
reate mount namespace</div><div>DEBUG=C2=A0 =C2=A0[U=3D0,P=3D76942]=C2=A0 =
=C2=A0 =C2=A0 init()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Crea=
te RPC socketpair for communication between scontainer and RPC server</div>=
<div>VERBOSE [U=3D0,P=3D76942]=C2=A0 =C2=A0 =C2=A0 init()=C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Spawn smaster process</div><div>DEBUG=C2=
=A0 =C2=A0[U=3D0,P=3D76972]=C2=A0 =C2=A0 =C2=A0 set_parent_death_signal()=
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Set parent de=
ath signal to 9</div><div>VERBOSE [U=3D0,P=3D76972]=C2=A0 =C2=A0 =C2=A0 ini=
t()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Spawn scontainer st=
age 2</div><div>VERBOSE [U=3D0,P=3D76972]=C2=A0 =C2=A0 =C2=A0 create_namesp=
ace()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 Create mount namespace</div><div>VERBOSE [U=3D0,P=3D76973]=C2=
=A0 =C2=A0 =C2=A0 init()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 Spawn RPC server</div><div>VERBOSE [U=3D21485,P=3D76942]=C2=A0 startup(=
)=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0Execute smaster process</div><div>VERBOSE [U=3D0,P=3D76973]=C2=A0 =C2=A0=
 =C2=A0 startup()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0Serve RPC requests</div><div>DEBUG=C2=A0 =C2=A0[U=3D214=
85,P=3D76942]=C2=A0 setupSessionLayout()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
Attempting to use overlayfs (enable overlay =3D try)</div><div>DEBUG=C2=A0 =
=C2=A0[U=3D21485,P=3D76942]=C2=A0 setupOverlayLayout()=C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 Creating overlay SESSIONDIR layout</div><div>DEBUG=C2=A0 =C2=
=A0[U=3D21485,P=3D76942]=C2=A0 addRootfsMount()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 Mount rootfs in read-only mode</div><div>DEBUG=C2=A0 =
=C2=A0[U=3D21485,P=3D76942]=C2=A0 addRootfsMount()=C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 Mounting block [squashfs] image: /tmp/pbstmp.15579=
/oci-tmp/67dad89757a55bfdfabec8abd0e22f8c7c12a1856514726470228063ed86593b/c=
entos_7.sif</div><div>DEBUG=C2=A0 =C2=A0[U=3D21485,P=3D76942]=C2=A0 addKern=
elMount()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Checking configur=
ation file for &#39;mount proc&#39;</div><div>DEBUG=C2=A0 =C2=A0[U=3D21485,=
P=3D76942]=C2=A0 addKernelMount()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 Adding proc to mount list</div><div>DEBUG=C2=A0 =C2=A0[U=3D21485,P=
=3D76942]=C2=A0 addKernelMount()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 Checking configuration file for &#39;mount sys&#39;</div><div>DEBUG=
=C2=A0 =C2=A0[U=3D21485,P=3D76942]=C2=A0 addKernelMount()=C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Adding sysfs to mount list</div><div>DEBUG=
=C2=A0 =C2=A0[U=3D21485,P=3D76942]=C2=A0 addDevMount()=C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Checking configuration file for &#=
39;mount dev&#39;</div><div>DEBUG=C2=A0 =C2=A0[U=3D21485,P=3D76942]=C2=A0 a=
ddDevMount()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0A=
dding dev to mount list</div><div>DEBUG=C2=A0 =C2=A0[U=3D21485,P=3D76942]=
=C2=A0 addHostMount()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 Not mounting host file systems per configuration</div><div>VERBOSE [U=
=3D21485,P=3D76942]=C2=A0 addBindsMount()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
 =C2=A0 =C2=A0 =C2=A0Found &#39;bind path&#39; =3D /etc/localtime, /etc/loc=
altime</div><div>VERBOSE [U=3D21485,P=3D76942]=C2=A0 addBindsMount()=C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Found &#39;bind path&#39; =
=3D /etc/hosts, /etc/hosts</div><div>VERBOSE [U=3D21485,P=3D76942]=C2=A0 ad=
dBindsMount()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Found &=
#39;bind path&#39; =3D /fs/project, /fs/project</div><div>VERBOSE [U=3D2148=
5,P=3D76942]=C2=A0 addBindsMount()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
 =C2=A0 =C2=A0Found &#39;bind path&#39; =3D /fs/scratch, /fs/scratch</div><=
div>VERBOSE [U=3D21485,P=3D76942]=C2=A0 addBindsMount()=C2=A0 =C2=A0 =C2=A0=
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Found &#39;bind path&#39; =3D /apps/xalt=
/xalt, /apps/xalt/xalt</div><div>DEBUG=C2=A0 =C2=A0[U=3D21485,P=3D76942]=C2=
=A0 addHomeStagingDir()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Staging hom=
e directory (/users/PZS0530/dheisterberg) at /var/singularity/mnt/session/u=
sers/PZS0530/dheisterberg</div><div>DEBUG=C2=A0 =C2=A0[U=3D21485,P=3D76942]=
=C2=A0 addHomeMount()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 Adding home directory mount [/var/singularity/mnt/session/users/PZS0530=
/dheisterberg:/users/PZS0530/dheisterberg] to list using layer: overlay</di=
v><div>DEBUG=C2=A0 =C2=A0[U=3D21485,P=3D76942]=C2=A0 isLayerEnabled()=C2=A0=
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Using Layer system: overlay</div=
><div>DEBUG=C2=A0 =C2=A0[U=3D21485,P=3D76942]=C2=A0 addTmpMount()=C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Checking for &#39;mount=
 tmp&#39; in configuration file</div><div>DEBUG=C2=A0 =C2=A0[U=3D21485,P=3D=
76942]=C2=A0 addScratchMount()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0Not mounting scratch directory: Not requested</div><div>DEBUG=C2=A0 =C2=
=A0[U=3D21485,P=3D76942]=C2=A0 addLibsMount()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 Checking for &#39;user bind control&#39; in con=
figuration file</div><div>DEBUG=C2=A0 =C2=A0[U=3D21485,P=3D76942]=C2=A0 add=
ResolvConfMount()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Adding /etc/resolv.conf=
 to mount list</div><div>DEBUG=C2=A0 =C2=A0[U=3D21485,P=3D76942]=C2=A0 addH=
ostnameMount()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Skipping hostname m=
ount, not virtualizing UTS namespace on user request</div><div>DEBUG=C2=A0 =
=C2=A0[U=3D21485,P=3D76942]=C2=A0 create()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Mount all</div><div>DEBUG=C2=
=A0 =C2=A0[U=3D21485,P=3D76942]=C2=A0 mountGeneric()=C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Mounting tmpfs to /var/singularity/mnt/s=
ession</div><div>DEBUG=C2=A0 =C2=A0[U=3D21485,P=3D76942]=C2=A0 mountImage()=
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Mounting loo=
p device /dev/loop0 to /var/singularity/mnt/session/rootfs</div><div>DEBUG=
=C2=A0 =C2=A0[U=3D21485,P=3D76942]=C2=A0 mountGeneric()=C2=A0 =C2=A0 =C2=A0=
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Mounting overlay to /var/singularity/mn=
t/session/final</div><div>DEBUG=C2=A0 =C2=A0[U=3D21485,P=3D76942]=C2=A0 set=
SlaveMount()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Set RPC =
mount propagation flag to SLAVE</div><div>VERBOSE [U=3D21485,P=3D76942]=C2=
=A0 Passwd()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 Checking for template passwd file: /var/singularity/mnt/sessi=
on/rootfs/etc/passwd</div><div>WARNING [U=3D21485,P=3D76942]=C2=A0 addIdent=
ityMount()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 passwd file doesn&#39;t=
 exist in container, not updating</div><div>VERBOSE [U=3D21485,P=3D76942]=
=C2=A0 Group()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0Checking for template group file: /var/singularity/=
mnt/session/rootfs/etc/group</div><div>WARNING [U=3D21485,P=3D76942]=C2=A0 =
addIdentityMount()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 group file does=
n&#39;t exist in container, not updating</div><div>DEBUG=C2=A0 =C2=A0[U=3D2=
1485,P=3D76942]=C2=A0 mountGeneric()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 Mounting /dev to /var/singularity/mnt/session/final/dev</=
div><div>DEBUG=C2=A0 =C2=A0[U=3D21485,P=3D76942]=C2=A0 mountGeneric()=C2=A0=
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Mounting /etc/localtime t=
o /var/singularity/mnt/session/final/etc/localtime</div><div>DEBUG=C2=A0 =
=C2=A0[U=3D21485,P=3D76942]=C2=A0 mountGeneric()=C2=A0 =C2=A0 =C2=A0 =C2=A0=
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Mounting /etc/hosts to /var/singularity/mnt/se=
ssion/final/etc/hosts</div><div>DEBUG=C2=A0 =C2=A0[U=3D21485,P=3D76942]=C2=
=A0 mountGeneric()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 M=
ounting /fs/project to /var/singularity/mnt/session/final/fs/project</div><=
div>DEBUG=C2=A0 =C2=A0[U=3D21485,P=3D76942]=C2=A0 mountGeneric()=C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Mounting /fs/scratch to /var/=
singularity/mnt/session/final/fs/scratch</div><div>DEBUG=C2=A0 =C2=A0[U=3D2=
1485,P=3D76942]=C2=A0 mountGeneric()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 Mounting /apps/xalt/xalt to /var/singularity/mnt/session/=
final/apps/xalt/xalt</div><div>DEBUG=C2=A0 =C2=A0[U=3D21485,P=3D76942]=C2=
=A0 mountGeneric()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 M=
ounting /etc/singularity/actions to /var/singularity/mnt/session/final/.sin=
gularity.d/actions</div><div>DEBUG=C2=A0 =C2=A0[U=3D21485,P=3D76942]=C2=A0 =
mountGeneric()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Remou=
nting /var/singularity/mnt/session/final/.singularity.d/actions</div><div>D=
EBUG=C2=A0 =C2=A0[U=3D21485,P=3D76942]=C2=A0 mountGeneric()=C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Mounting /proc to /var/singularit=
y/mnt/session/final/proc</div><div>DEBUG=C2=A0 =C2=A0[U=3D21485,P=3D76942]=
=C2=A0 mountGeneric()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 Remounting /var/singularity/mnt/session/final/proc</div><div>DEBUG=C2=
=A0 =C2=A0[U=3D21485,P=3D76942]=C2=A0 mountGeneric()=C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Mounting sysfs to /var/singularity/mnt/s=
ession/final/sys</div><div>DEBUG=C2=A0 =C2=A0[U=3D21485,P=3D76942]=C2=A0 mo=
untGeneric()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Mountin=
g /users/PZS0530/dheisterberg to /var/singularity/mnt/session/users/PZS0530=
/dheisterberg</div><div>DEBUG=C2=A0 =C2=A0[U=3D21485,P=3D76942]=C2=A0 mount=
Generic()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Remounting=
 /var/singularity/mnt/session/users/PZS0530/dheisterberg</div><div>DEBUG=C2=
=A0 =C2=A0[U=3D21485,P=3D76942]=C2=A0 mountGeneric()=C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Mounting /var/singularity/mnt/session/us=
ers/PZS0530/dheisterberg to /var/singularity/mnt/session/final/users/PZS053=
0/dheisterberg</div><div>DEBUG=C2=A0 =C2=A0[U=3D21485,P=3D76942]=C2=A0 moun=
tGeneric()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Remountin=
g /var/singularity/mnt/session/final/users/PZS0530/dheisterberg</div><div>D=
EBUG=C2=A0 =C2=A0[U=3D21485,P=3D76942]=C2=A0 mountGeneric()=C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Mounting /tmp to /var/singularity=
/mnt/session/final/tmp</div><div>DEBUG=C2=A0 =C2=A0[U=3D21485,P=3D76942]=C2=
=A0 mountGeneric()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 R=
emounting /var/singularity/mnt/session/final/tmp</div><div>DEBUG=C2=A0 =C2=
=A0[U=3D21485,P=3D76942]=C2=A0 mountGeneric()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 Mounting /var/tmp to /var/singularity/mnt/sessi=
on/final/var/tmp</div><div>DEBUG=C2=A0 =C2=A0[U=3D21485,P=3D76942]=C2=A0 mo=
untGeneric()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Remount=
ing /var/singularity/mnt/session/final/var/tmp</div><div>DEBUG=C2=A0 =C2=A0=
[U=3D21485,P=3D76942]=C2=A0 mountGeneric()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 Skipping mount /var/singularity/mnt/session/final/=
users/PZS0530/dheisterberg, /var/singularity/mnt/session/final/users/PZS053=
0/dheisterberg already mounted</div><div>DEBUG=C2=A0 =C2=A0[U=3D21485,P=3D7=
6942]=C2=A0 mountGeneric()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 Mounting /var/singularity/mnt/session/etc/resolv.conf to /var/singul=
arity/mnt/session/final/etc/resolv.conf</div><div>DEBUG=C2=A0 =C2=A0[U=3D21=
485,P=3D76942]=C2=A0 create()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Chroot into /var/singularity/mnt/session/fi=
nal</div><div>DEBUG=C2=A0 =C2=A0[U=3D0,P=3D76973]=C2=A0 =C2=A0 =C2=A0 Chroo=
t()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 Hold reference to host / directory</div><div>DEBUG=C2=A0 =C2=A0[U=3D=
0,P=3D76973]=C2=A0 =C2=A0 =C2=A0 Chroot()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Change current directory to /var=
/singularity/mnt/session/final</div><div>DEBUG=C2=A0 =C2=A0[U=3D0,P=3D76973=
]=C2=A0 =C2=A0 =C2=A0 Chroot()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Called pivot_root on /var/singularity/mnt/s=
ession/final</div><div>DEBUG=C2=A0 =C2=A0[U=3D0,P=3D76973]=C2=A0 =C2=A0 =C2=
=A0 Chroot()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 Change current directory to host / directory</div><div>DEBUG=
=C2=A0 =C2=A0[U=3D0,P=3D76973]=C2=A0 =C2=A0 =C2=A0 Chroot()=C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Apply slave =
mount propagation for host / directory</div><div>DEBUG=C2=A0 =C2=A0[U=3D0,P=
=3D76973]=C2=A0 =C2=A0 =C2=A0 Chroot()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Called unmount(/, syscall.MNT_DET=
ACH)</div><div>DEBUG=C2=A0 =C2=A0[U=3D0,P=3D76973]=C2=A0 =C2=A0 =C2=A0 Chro=
ot()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 Changing directory to / to avoid getpwd issues</div><div>DEBUG=C2=A0=
 =C2=A0[U=3D21485,P=3D76942]=C2=A0 create()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Chdir into / to avoid errors<=
/div><div>DEBUG=C2=A0 =C2=A0[U=3D0,P=3D76972]=C2=A0 =C2=A0 =C2=A0 set_paren=
t_death_signal()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0Set parent death signal to 9</div><div>DEBUG=C2=A0 =C2=A0[U=3D0,P=3D7697=
2]=C2=A0 =C2=A0 =C2=A0 prepare_scontainer_stage()=C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Entering in scontainer stage 2</div><div>DE=
BUG=C2=A0 =C2=A0[U=3D21485,P=3D76972]=C2=A0 set_parent_death_signal()=C2=A0=
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Set parent death si=
gnal to 9</div><div>VERBOSE [U=3D21485,P=3D76972]=C2=A0 startup()=C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Execute s=
container stage 2</div><div>FATAL=C2=A0 =C2=A0[U=3D21485,P=3D76972]=C2=A0 S=
Container()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 e=
xec /.singularity.d/actions/shell failed: permission denied</div><div>DEBUG=
=C2=A0 =C2=A0[U=3D21485,P=3D76942]=C2=A0 PostStartProcess()=C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 Post start process</div><div>DEBUG=C2=A0 =C2=A0=
[U=3D21485,P=3D76942]=C2=A0 CleanupContainer()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 Cleanup container</div><div>DEBUG=C2=A0 =C2=A0[U=3D21485,P=3D=
76942]=C2=A0 SMaster()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0Child exited with exit status 255</div></div><div><=
br></div></div></div></blockquote></div></div>

<p></p>

-- <br>
You received this message because you are subscribed to a topic in the Goog=
le Groups &quot;singularity&quot; group.<br>
To unsubscribe from this topic, visit <a href=3D"https://groups.google.com/=
a/lbl.gov/d/topic/singularity/ccKBL6vAezE/unsubscribe" target=3D"_blank">ht=
tps://groups.google.com/a/lbl.gov/d/topic/singularity/ccKBL6vAezE/unsubscri=
be</a>.<br>
To unsubscribe from this group and all its topics, send an email to <a href=
=3D"mailto:singu...@lbl.gov" target=3D"_blank">singu...@lbl.gov</a>.<br>
</blockquote></div>

--0000000000002bedfc057a2e97a9--
