Date: Thu, 7 Jul 2016 00:32:30 -0700 (PDT)
From: Raimon Bosch <raimo...@gmail.com>
To: singularity <singu...@lbl.gov>
Cc: r...@open-mpi.org
Message-Id: <04e82c6d-d356-4b8e-8cda-b85fcd26f016@lbl.gov>
In-Reply-To: <CAN7etTx_pbochnT6Cdhn52Gpb2by8woicBTpd+ViMVrV1ioOhQ@mail.gmail.com>
References: <6247ec64-6881-4978-82a0-f7d6e24039e9@lbl.gov> <CAN7etTx+2ETq_aarfJfez_p4YzoNJ49zwO2CQe=KRwSSZkuR5Q@mail.gmail.com>
 <3998ac67-7f95-475d-ac75-ceb562e19e3b@lbl.gov> <CAN7etTwNG_1G9YuuTQZWSE3SKZjXqNjt8bsZFrVQBJC8_1-mAw@mail.gmail.com>
 <1403bcbe-c615-4417-a629-f95568b75ee7@lbl.gov> <CAN7etTwnpqqbiF=PAqZKDY0yDtyqJGVg2N3x2_-RHFvd6+Qh8Q@mail.gmail.com>
 <054d2758-0acd-48f0-a9bd-b0d52ce02f38@lbl.gov> <613ECCC0-A9C9-42D0-9C26-36695C612DA4@open-mpi.org>
 <007b47f4-0aea-42dc-b871-d653bb7a67a1@lbl.gov> <CAN7etTxOGqMfyg_C2AWisRWCCs2RKkM91s6SbWTcjYb3X5_Aew@mail.gmail.com>
 <15574850-11a7-4317-b784-26631fad4f29@lbl.gov> <e8eb3fb2-05cc-4f5e-bbab-91da877b6e1c@lbl.gov>
 <CAN7etTy8-xQ5ATWaKxrUCi=AH+QHv8ddjTeG7P2XrikSAh2pug@mail.gmail.com>
 <920d9dbb-1b7b-48cf-9d14-42cd149142e0@lbl.gov> <1c0ffe32-bdb4-45b5-85fe-d6deac61850f@lbl.gov>
 <CAN7etTx_pbochnT6Cdhn52Gpb2by8woicBTpd+ViMVrV1ioOhQ@mail.gmail.com>
Subject: Re: [Singularity] Communication between singularity containers
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_31_878540389.1467876750809"

------=_Part_31_878540389.1467876750809
Content-Type: multipart/alternative; 
	boundary="----=_Part_32_1178676325.1467876750810"

------=_Part_32_1178676325.1467876750810
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable



Hi Gregory,

Attached you have the full execution in debug mode:

That's the command I did:
sudo sudo mpirun -n 1 singularity -d exec=20
/mnt/glusterfs/singularity/nasmpi-singularity.img /trace.sh=20
/NPB/NPB3.3-MPI/bin/bt.C.4 : -n 1 singularity -d exec=20
/mnt/glusterfs/singularity/nasmpi-singularity-2.img /trace.sh=20
/NPB/NPB3.3-MPI/bin/bt.C.4 : -n 1 singularity -d exec=20
/mnt/glusterfs/singularity/nasmpi-singularity-3.img /trace.sh=20
/NPB/NPB3.3-MPI/bin/bt.C.4 : -n 1 singularity -d exec=20
/mnt/glusterfs/singularity/nasmpi-singularity-4.img /trace.sh=20
/NPB/NPB3.3-MPI/bin/bt.C.4 2>&1 | tee /tmp/out.log


El mi=C3=A9rcoles, 6 de julio de 2016, 17:54:37 (UTC+2), Gregory M. Kurtzer=
=20
escribi=C3=B3:
>
> Hi Raimon,
>
>
> On Wed, Jul 6, 2016 at 7:39 AM, Raimon Bosch <rai...@gmail.com=20
> <javascript:>> wrote:
>
>>
>> Just guessing... but could not be singularity that does not detect=20
>> different containers and tries to mount the 4 containers in the same poi=
nt?
>>
>
> Yes, it does exactly that but thanks to CLONE_NEWNS, the mount namespaces=
=20
> never overlap or even see each other.
>
> Looking through your debug output, there are no errors. Can you run the=
=20
> command again with debugging enabled executing /NPB/NPB3.3-MPI/bin/bt.C.4=
=20
> instead of /bin/true?
>
> Thanks!
>
>
> =20
>
>>
>>
>> El mi=C3=A9rcoles, 6 de julio de 2016, 16:20:37 (UTC+2), Raimon Bosch es=
cribi=C3=B3:
>>>
>>>
>>> Hi Gregory,
>>>
>>> > /run/user is associated with the Singularity container?
>>>
>>> I guess it is. Because containers are 3G size and it matches with this=
=20
>>> instances on /run/user/**. Unmounting them did not help.
>>>
>>> > Can you show me the output of 'losetup -a' please?
>>>
>>> "sudo losetup -a" returns empty
>>>
>>> > Why are you are running it with sudo, you should not need to.
>>>
>>> I execute with sudo because the container inside needs 'root'. This is=
=20
>>> an old docker container that only has a unique user root with all the f=
iles=20
>>> (probably i should change this in the future).
>>>
>>> > It is weird, isn't -n a synonym for -np and if so, shouldn't it=20
>>> executing 1 process on the given node? It seems like it is doing more.=
=20
>>>
>>> In my local machine the behaviour is correct. Tested it with -np and th=
e=20
>>> behaviour is the same.
>>>
>>> > Lastly, what version of Singularity is this?
>>>
>>> Is the master. I did "git clone=20
>>> https://github.com/gmkurtzer/singularity.git" and followed the=20
>>> installation steps.
>>>
>>> As a side comment, If I deploy with a unique container I don't encounte=
r=20
>>> this problem. I think that when I want to mount extra containers that t=
he=20
>>> SO gets crazy or maybe singularity tries to assign containers to a=20
>>> /dev/loop* that is busy and does not try to look for one that is availa=
ble.=20
>>> In my final test I will need at least 16 containers in one host. Is tha=
t=20
>>> possible with singularity because I only see 8 loops?
>>>
>>> Here you have the debug output:
>>>
>>> > sudo mpirun -n 1 singularity -d exec=20
>>> /mnt/glusterfs/singularity/nasmpi-singularity.img true
>>> enabling debugging
>>> ending argument loop
>>> + '[' -f /usr/local/etc/singularity/init ']'
>>> + . /usr/local/etc/singularity/init
>>> ++ unset module
>>> ++=20
>>> PATH=3D/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/sbin:/usr/local/bin:/us=
r/sbin:/usr/bin:/sbin:/bin
>>> ++ HISTFILE=3D/dev/null
>>> ++ export PATH HISTFILE
>>> ++ '[' -n 1 ']'
>>> ++ SINGULARITY_NO_NAMESPACE_PID=3D1
>>> ++ export SINGULARITY_NO_NAMESPACE_PID
>>> + true
>>> + case $1 in
>>> + break
>>> + '[' -z /mnt/glusterfs/singularity/nasmpi-singularity.img ']'
>>> + SINGULARITY_IMAGE=3D/mnt/glusterfs/singularity/nasmpi-singularity.img
>>> + export SINGULARITY_IMAGE
>>> + shift
>>> + exec /usr/local/libexec/singularity/sexec true
>>> VERBOSE [U=3D0,P=3D3944]       message.c:46:init()                     =
   :=20
>>> Setting messagelevel to: 5
>>> DEBUG   [U=3D0,P=3D3944]       sexec.c:127:main()                      =
   :=20
>>> Gathering and caching user info.
>>> DEBUG   [U=3D0,P=3D3944]       privilege.c:43:get_user_privs()         =
   :=20
>>> Called get_user_privs(struct s_privinfo *uinfo)
>>> DEBUG   [U=3D0,P=3D3944]       privilege.c:54:get_user_privs()         =
   :=20
>>> Returning get_user_privs(struct s_privinfo *uinfo) =3D 0
>>> DEBUG   [U=3D0,P=3D3944]       sexec.c:134:main()                      =
   :=20
>>> Checking if we can escalate privs properly.
>>> DEBUG   [U=3D0,P=3D3944]       privilege.c:61:escalate_privs()         =
   :=20
>>> Called escalate_privs(void)
>>> DEBUG   [U=3D0,P=3D3944]       privilege.c:73:escalate_privs()         =
   :=20
>>> Returning escalate_privs(void) =3D 0
>>> DEBUG   [U=3D0,P=3D3944]       sexec.c:141:main()                      =
   :=20
>>> Setting privs to calling user
>>> DEBUG   [U=3D0,P=3D3944]       privilege.c:79:drop_privs()             =
   :=20
>>> Called drop_privs(struct s_privinfo *uinfo)
>>> DEBUG   [U=3D0,P=3D3944]       privilege.c:87:drop_privs()             =
   :=20
>>> Dropping privileges to GID =3D '0'
>>> DEBUG   [U=3D0,P=3D3944]       privilege.c:93:drop_privs()             =
   :=20
>>> Dropping privileges to UID =3D '0'
>>> DEBUG   [U=3D0,P=3D3944]       privilege.c:103:drop_privs()            =
   :=20
>>> Confirming we have correct GID
>>> DEBUG   [U=3D0,P=3D3944]       privilege.c:109:drop_privs()            =
   :=20
>>> Confirming we have correct UID
>>> DEBUG   [U=3D0,P=3D3944]       privilege.c:115:drop_privs()            =
   :=20
>>> Returning drop_privs(struct s_privinfo *uinfo) =3D 0
>>> DEBUG   [U=3D0,P=3D3944]       sexec.c:146:main()                      =
   :=20
>>> Obtaining user's homedir
>>> DEBUG   [U=3D0,P=3D3944]       sexec.c:150:main()                      =
   :=20
>>> Obtaining file descriptor to current directory
>>> DEBUG   [U=3D0,P=3D3944]       sexec.c:155:main()                      =
   :=20
>>> Getting current working directory path string
>>> DEBUG   [U=3D0,P=3D3944]       sexec.c:161:main()                      =
   :=20
>>> Obtaining SINGULARITY_COMMAND from environment
>>> DEBUG   [U=3D0,P=3D3944]       sexec.c:168:main()                      =
   :=20
>>> Obtaining SINGULARITY_IMAGE from environment
>>> DEBUG   [U=3D0,P=3D3944]       sexec.c:174:main()                      =
   :=20
>>> Checking container image is a file:=20
>>> /mnt/glusterfs/singularity/nasmpi-singularity.img
>>> DEBUG   [U=3D0,P=3D3944]       sexec.c:180:main()                      =
   :=20
>>> Building configuration file location
>>> DEBUG   [U=3D0,P=3D3944]       sexec.c:183:main()                      =
   :=20
>>> Config location: /usr/local/etc/singularity/singularity.conf
>>> DEBUG   [U=3D0,P=3D3944]       sexec.c:185:main()                      =
   :=20
>>> Checking Singularity configuration is a file:=20
>>> /usr/local/etc/singularity/singularity.conf
>>> DEBUG   [U=3D0,P=3D3944]       sexec.c:191:main()                      =
   :=20
>>> Checking Singularity configuration file is owned by root
>>> DEBUG   [U=3D0,P=3D3944]       sexec.c:197:main()                      =
   :=20
>>> Opening Singularity configuration file
>>> DEBUG   [U=3D0,P=3D3944]       sexec.c:210:main()                      =
   :=20
>>> Checking Singularity configuration for 'sessiondir prefix'
>>> DEBUG   [U=3D0,P=3D3944]       config_parser.c:43:config_get_key_value(=
)  :=20
>>> Called config_get_key_value(fp, sessiondir prefix)
>>> DEBUG   [U=3D0,P=3D3944]       config_parser.c:61:config_get_key_value(=
)  :=20
>>> Return config_get_key_value(fp, sessiondir prefix) =3D NULL
>>> DEBUG   [U=3D0,P=3D3944]       file.c:48:file_id()                     =
   :=20
>>> Called file_id(/mnt/glusterfs/singularity/nasmpi-singularity.img)
>>> VERBOSE [U=3D0,P=3D3944]       file.c:58:file_id()                     =
   :=20
>>> Generated file_id: 0.39.12911060245380037651
>>> DEBUG   [U=3D0,P=3D3944]       file.c:60:file_id()                     =
   :=20
>>> Returning file_id(/mnt/glusterfs/singularity/nasmpi-singularity.img) =
=3D=20
>>> 0.39.12911060245380037651
>>> DEBUG   [U=3D0,P=3D3944]       sexec.c:217:main()                      =
   :=20
>>> Set sessiondir to: /tmp/.singularity-session-0.39.12911060245380037651
>>> DEBUG   [U=3D0,P=3D3944]       sexec.c:221:main()                      =
   :=20
>>> Set containername to: nasmpi-singularity.img
>>> DEBUG   [U=3D0,P=3D3944]       sexec.c:223:main()                      =
   :=20
>>> Setting loop_dev_* paths
>>> DEBUG   [U=3D0,P=3D3944]       sexec.c:229:main()                      =
   :=20
>>> Set image mount path to: /usr/local/var/singularity/mnt
>>> LOG     [U=3D0,P=3D3944]       sexec.c:231:main()                      =
   :=20
>>> Command=3Dexec, Container=3D/mnt/glusterfs/singularity/nasmpi-singulari=
ty.img,=20
>>> CWD=3D/tmp/result, Arg1=3Dtrue
>>> DEBUG   [U=3D0,P=3D3944]       sexec.c:236:main()                      =
   :=20
>>> Set prompt to: Singularity/nasmpi-singularity.img>=20
>>> DEBUG   [U=3D0,P=3D3944]       sexec.c:238:main()                      =
   :=20
>>> Checking if we are opening image as read/write
>>> DEBUG   [U=3D0,P=3D3944]       sexec.c:240:main()                      =
   :=20
>>> Opening image as read only:=20
>>> /mnt/glusterfs/singularity/nasmpi-singularity.img
>>> DEBUG   [U=3D0,P=3D3944]       sexec.c:247:main()                      =
   :=20
>>> Setting shared lock on file descriptor: 6
>>> DEBUG   [U=3D0,P=3D3944]       sexec.c:267:main()                      =
   :=20
>>> Checking for namespace daemon pidfile
>>> DEBUG   [U=3D0,P=3D3944]       sexec.c:301:main()                      =
   :=20
>>> Escalating privledges
>>> DEBUG   [U=3D0,P=3D3944]       privilege.c:61:escalate_privs()         =
   :=20
>>> Called escalate_privs(void)
>>> DEBUG   [U=3D0,P=3D3944]       privilege.c:73:escalate_privs()         =
   :=20
>>> Returning escalate_privs(void) =3D 0
>>> VERBOSE [U=3D0,P=3D3944]       sexec.c:306:main()                      =
   :=20
>>> Creating/Verifying session directory:=20
>>> /tmp/.singularity-session-0.39.12911060245380037651
>>> DEBUG   [U=3D0,P=3D3944]       file.c:196:s_mkpath()                   =
   :=20
>>> Creating directory: /tmp/.singularity-session-0.39.12911060245380037651
>>> DEBUG   [U=3D0,P=3D3944]       sexec.c:320:main()                      =
   :=20
>>> Setting shared lock on session directory
>>> DEBUG   [U=3D0,P=3D3944]       sexec.c:331:main()                      =
   :=20
>>> Caching info into sessiondir
>>> DEBUG   [U=3D0,P=3D3944]       file.c:255:fileput()                    =
   :=20
>>> Called fileput(/tmp/.singularity-session-0.39.12911060245380037651/imag=
e,=20
>>> nasmpi-singularity.img)
>>> DEBUG   [U=3D0,P=3D3944]       sexec.c:337:main()                      =
   :=20
>>> Checking for set loop device
>>> DEBUG   [U=3D0,P=3D3944]       loop-control.c:52:obtain_loop_dev()     =
   :=20
>>> Called obtain_loop_dev(void)
>>> DEBUG   [U=3D0,P=3D3944]       loop-control.c:66:obtain_loop_dev()     =
   :=20
>>> Found available existing loop device number: 0
>>> VERBOSE [U=3D0,P=3D3944]       loop-control.c:81:obtain_loop_dev()     =
   :=20
>>> Using loop device: /dev/loop0
>>> DEBUG   [U=3D0,P=3D3944]       loop-control.c:95:obtain_loop_dev()     =
   :=20
>>> Returning obtain_loop_dev(void) =3D /dev/loop0
>>> DEBUG   [U=3D0,P=3D3944]       loop-control.c:106:associate_loop()     =
   :=20
>>> Called associate_loop(image_fp, loop_fp, 1)
>>> DEBUG   [U=3D0,P=3D3944]       loop-control.c:109:associate_loop()     =
   :=20
>>> Setting loop flags to LO_FLAGS_AUTOCLEAR
>>> VERBOSE [U=3D0,P=3D3944]       image.c:39:image_offset()               =
   :=20
>>> Calculating image offset
>>> VERBOSE [U=3D0,P=3D3944]       image.c:48:image_offset()               =
   :=20
>>> Found image at an offset of 31 bytes
>>> DEBUG   [U=3D0,P=3D3944]       image.c:53:image_offset()               =
   :=20
>>> Returning image_offset(image_fp) =3D 31
>>> DEBUG   [U=3D0,P=3D3944]       loop-control.c:114:associate_loop()     =
   :=20
>>> Setting image offset to: 31
>>> VERBOSE [U=3D0,P=3D3944]       loop-control.c:116:associate_loop()     =
   :=20
>>> Associating image to loop device
>>> VERBOSE [U=3D0,P=3D3944]       loop-control.c:122:associate_loop()     =
   :=20
>>> Setting loop device flags
>>> DEBUG   [U=3D0,P=3D3944]       loop-control.c:130:associate_loop()     =
   :=20
>>> Returning associate_loop(image_fp, loop_fp, 1) =3D 0
>>> DEBUG   [U=3D0,P=3D3944]       file.c:255:fileput()                    =
   :=20
>>> Called=20
>>> fileput(/tmp/.singularity-session-0.39.12911060245380037651/loop_dev,=
=20
>>> /dev/loop0)
>>> DEBUG   [U=3D0,P=3D3944]       sexec.c:375:main()                      =
   :=20
>>> Creating container image mount path: /usr/local/var/singularity/mnt
>>> DEBUG   [U=3D0,P=3D3944]       sexec.c:441:main()                      =
   :=20
>>> Checking to see if we are joining an existing namespace
>>> VERBOSE [U=3D0,P=3D3944]       sexec.c:444:main()                      =
   :=20
>>> Creating namespace process
>>> DEBUG   [U=3D0,P=3D3944]       privilege.c:79:drop_privs()             =
   :=20
>>> Called drop_privs(struct s_privinfo *uinfo)
>>> DEBUG   [U=3D0,P=3D3944]       privilege.c:87:drop_privs()             =
   :=20
>>> Dropping privileges to GID =3D '0'
>>> DEBUG   [U=3D0,P=3D3944]       privilege.c:93:drop_privs()             =
   :=20
>>> Dropping privileges to UID =3D '0'
>>> DEBUG   [U=3D0,P=3D3944]       privilege.c:103:drop_privs()            =
   :=20
>>> Confirming we have correct GID
>>> DEBUG   [U=3D0,P=3D3944]       privilege.c:109:drop_privs()            =
   :=20
>>> Confirming we have correct UID
>>> DEBUG   [U=3D0,P=3D3944]       privilege.c:115:drop_privs()            =
   :=20
>>> Returning drop_privs(struct s_privinfo *uinfo) =3D 0
>>> DEBUG   [U=3D0,P=3D3949]       sexec.c:449:main()                      =
   :=20
>>> Hello from namespace child process
>>> VERBOSE [U=3D0,P=3D3949]       sexec.c:461:main()                      =
   :=20
>>> Not virtualizing PID namespace
>>> DEBUG   [U=3D0,P=3D3949]       sexec.c:480:main()                      =
   :=20
>>> Virtualizing FS namespace
>>> DEBUG   [U=3D0,P=3D3949]       sexec.c:488:main()                      =
   :=20
>>> Virtualizing mount namespace
>>> DEBUG   [U=3D0,P=3D3949]       sexec.c:495:main()                      =
   :=20
>>> Making mounts private
>>> DEBUG   [U=3D0,P=3D3949]       sexec.c:505:main()                      =
   :=20
>>> Mounting Singularity image file read/write
>>> DEBUG   [U=3D0,P=3D3949]       mounts.c:48:mount_image()               =
   :=20
>>> Called mount_image(/dev/loop0, /usr/local/var/singularity/mnt, 0)
>>> DEBUG   [U=3D0,P=3D3949]       mounts.c:50:mount_image()               =
   :=20
>>> Checking mount point is present
>>> DEBUG   [U=3D0,P=3D3949]       mounts.c:56:mount_image()               =
   :=20
>>> Checking loop is a block device
>>> DEBUG   [U=3D0,P=3D3949]       mounts.c:75:mount_image()               =
   :=20
>>> Trying to mount read only as ext4 with discard option
>>> DEBUG   [U=3D0,P=3D3949]       mounts.c:88:mount_image()               =
   :=20
>>> Returning mount_image(/dev/loop0, /usr/local/var/singularity/mnt, 0) =
=3D 0
>>> DEBUG   [U=3D0,P=3D3949]       sexec.c:518:main()                      =
   :=20
>>> Checking if container has /bin/sh
>>> DEBUG   [U=3D0,P=3D3949]       sexec.c:526:main()                      =
   :=20
>>> Checking to see if we should do bind mounts
>>> DEBUG   [U=3D0,P=3D3949]       sexec.c:530:main()                      =
   :=20
>>> Checking configuration file for 'mount home'
>>> DEBUG   [U=3D0,P=3D3949]       config_parser.c:69:config_get_key_bool()=
   :=20
>>> Called config_get_key_bool(fp, mount home, 1)
>>> DEBUG   [U=3D0,P=3D3949]       config_parser.c:43:config_get_key_value(=
)  :=20
>>> Called config_get_key_value(fp, mount home)
>>> DEBUG   [U=3D0,P=3D3949]       config_parser.c:54:config_get_key_value(=
)  :=20
>>> Return config_get_key_value(fp, mount home) =3D yes
>>> DEBUG   [U=3D0,P=3D3949]       config_parser.c:75:config_get_key_bool()=
   :=20
>>> Return config_get_key_bool(fp, mount home, 1) =3D 1
>>> VERBOSE [U=3D0,P=3D3949]       sexec.c:536:main()                      =
   :=20
>>> Mounting home directory base path: /root
>>> DEBUG   [U=3D0,P=3D3949]       mounts.c:96:mount_bind()                =
   :=20
>>> Called mount_bind(/root, 19992816, 1)
>>> DEBUG   [U=3D0,P=3D3949]       mounts.c:98:mount_bind()                =
   :=20
>>> Checking that source exists and is a file or directory
>>> DEBUG   [U=3D0,P=3D3949]       mounts.c:104:mount_bind()               =
   :=20
>>> Checking that destination exists and is a file or directory
>>> DEBUG   [U=3D0,P=3D3949]       mounts.c:110:mount_bind()               =
   :=20
>>> Calling mount(/root, /usr/local/var/singularity/mnt//root, ...)
>>> DEBUG   [U=3D0,P=3D3949]       mounts.c:124:mount_bind()               =
   :=20
>>> Returning mount_bind(/root, 19992816, 1) =3D 0
>>> DEBUG   [U=3D0,P=3D3949]       sexec.c:551:main()                      =
   :=20
>>> Checking configuration file for 'bind path'
>>> DEBUG   [U=3D0,P=3D3949]       config_parser.c:43:config_get_key_value(=
)  :=20
>>> Called config_get_key_value(fp, bind path)
>>> DEBUG   [U=3D0,P=3D3949]       config_parser.c:54:config_get_key_value(=
)  :=20
>>> Return config_get_key_value(fp, bind path) =3D /etc/resolv.conf
>>> VERBOSE [U=3D0,P=3D3949]       sexec.c:566:main()                      =
   :=20
>>> Found 'bind path' =3D /etc/resolv.conf, /etc/resolv.conf
>>> VERBOSE [U=3D0,P=3D3949]       sexec.c:583:main()                      =
   :=20
>>> Binding '/etc/resolv.conf' to 'nasmpi-singularity.img:/etc/resolv.conf'
>>> DEBUG   [U=3D0,P=3D3949]       mounts.c:96:mount_bind()                =
   :=20
>>> Called mount_bind(/etc/resolv.conf, 19995920, 1)
>>> DEBUG   [U=3D0,P=3D3949]       mounts.c:98:mount_bind()                =
   :=20
>>> Checking that source exists and is a file or directory
>>> DEBUG   [U=3D0,P=3D3949]       mounts.c:104:mount_bind()               =
   :=20
>>> Checking that destination exists and is a file or directory
>>> DEBUG   [U=3D0,P=3D3949]       mounts.c:110:mount_bind()               =
   :=20
>>> Calling mount(/etc/resolv.conf,=20
>>> /usr/local/var/singularity/mnt//etc/resolv.conf, ...)
>>> DEBUG   [U=3D0,P=3D3949]       mounts.c:124:mount_bind()               =
   :=20
>>> Returning mount_bind(/etc/resolv.conf, 19995920, 1) =3D 0
>>> DEBUG   [U=3D0,P=3D3949]       config_parser.c:43:config_get_key_value(=
)  :=20
>>> Called config_get_key_value(fp, bind path)
>>> DEBUG   [U=3D0,P=3D3949]       config_parser.c:54:config_get_key_value(=
)  :=20
>>> Return config_get_key_value(fp, bind path) =3D /etc/hosts
>>> VERBOSE [U=3D0,P=3D3949]       sexec.c:566:main()                      =
   :=20
>>> Found 'bind path' =3D /etc/hosts, /etc/hosts
>>> VERBOSE [U=3D0,P=3D3949]       sexec.c:583:main()                      =
   :=20
>>> Binding '/etc/hosts' to 'nasmpi-singularity.img:/etc/hosts'
>>> DEBUG   [U=3D0,P=3D3949]       mounts.c:96:mount_bind()                =
   :=20
>>> Called mount_bind(/etc/hosts, 19998528, 1)
>>> DEBUG   [U=3D0,P=3D3949]       mounts.c:98:mount_bind()                =
   :=20
>>> Checking that source exists and is a file or directory
>>> DEBUG   [U=3D0,P=3D3949]       mounts.c:104:mount_bind()               =
   :=20
>>> Checking that destination exists and is a file or directory
>>> DEBUG   [U=3D0,P=3D3949]       mounts.c:110:mount_bind()               =
   :=20
>>> Calling mount(/etc/hosts, /usr/local/var/singularity/mnt//etc/hosts, ..=
.)
>>> DEBUG   [U=3D0,P=3D3949]       mounts.c:124:mount_bind()               =
   :=20
>>> Returning mount_bind(/etc/hosts, 19998528, 1) =3D 0
>>> DEBUG   [U=3D0,P=3D3949]       config_parser.c:43:config_get_key_value(=
)  :=20
>>> Called config_get_key_value(fp, bind path)
>>> DEBUG   [U=3D0,P=3D3949]       config_parser.c:54:config_get_key_value(=
)  :=20
>>> Return config_get_key_value(fp, bind path) =3D /dev
>>> VERBOSE [U=3D0,P=3D3949]       sexec.c:566:main()                      =
   :=20
>>> Found 'bind path' =3D /dev, /dev
>>> VERBOSE [U=3D0,P=3D3949]       sexec.c:583:main()                      =
   :=20
>>> Binding '/dev' to 'nasmpi-singularity.img:/dev'
>>> DEBUG   [U=3D0,P=3D3949]       mounts.c:96:mount_bind()                =
   :=20
>>> Called mount_bind(/dev, 20000832, 1)
>>> DEBUG   [U=3D0,P=3D3949]       mounts.c:98:mount_bind()                =
   :=20
>>> Checking that source exists and is a file or directory
>>> DEBUG   [U=3D0,P=3D3949]       mounts.c:104:mount_bind()               =
   :=20
>>> Checking that destination exists and is a file or directory
>>> DEBUG   [U=3D0,P=3D3949]       mounts.c:110:mount_bind()               =
   :=20
>>> Calling mount(/dev, /usr/local/var/singularity/mnt//dev, ...)
>>> DEBUG   [U=3D0,P=3D3949]       mounts.c:124:mount_bind()               =
   :=20
>>> Returning mount_bind(/dev, 20000832, 1) =3D 0
>>> DEBUG   [U=3D0,P=3D3949]       config_parser.c:43:config_get_key_value(=
)  :=20
>>> Called config_get_key_value(fp, bind path)
>>> DEBUG   [U=3D0,P=3D3949]       config_parser.c:54:config_get_key_value(=
)  :=20
>>> Return config_get_key_value(fp, bind path) =3D /tmp
>>> VERBOSE [U=3D0,P=3D3949]       sexec.c:566:main()                      =
   :=20
>>> Found 'bind path' =3D /tmp, /tmp
>>> VERBOSE [U=3D0,P=3D3949]       sexec.c:583:main()                      =
   :=20
>>> Binding '/tmp' to 'nasmpi-singularity.img:/tmp'
>>> DEBUG   [U=3D0,P=3D3949]       mounts.c:96:mount_bind()                =
   :=20
>>> Called mount_bind(/tmp, 20003376, 1)
>>> DEBUG   [U=3D0,P=3D3949]       mounts.c:98:mount_bind()                =
   :=20
>>> Checking that source exists and is a file or directory
>>> DEBUG   [U=3D0,P=3D3949]       mounts.c:104:mount_bind()               =
   :=20
>>> Checking that destination exists and is a file or directory
>>> DEBUG   [U=3D0,P=3D3949]       mounts.c:110:mount_bind()               =
   :=20
>>> Calling mount(/tmp, /usr/local/var/singularity/mnt//tmp, ...)
>>> DEBUG   [U=3D0,P=3D3949]       mounts.c:124:mount_bind()               =
   :=20
>>> Returning mount_bind(/tmp, 20003376, 1) =3D 0
>>> DEBUG   [U=3D0,P=3D3949]       config_parser.c:43:config_get_key_value(=
)  :=20
>>> Called config_get_key_value(fp, bind path)
>>> DEBUG   [U=3D0,P=3D3949]       config_parser.c:54:config_get_key_value(=
)  :=20
>>> Return config_get_key_value(fp, bind path) =3D /var/tmp
>>> VERBOSE [U=3D0,P=3D3949]       sexec.c:566:main()                      =
   :=20
>>> Found 'bind path' =3D /var/tmp, /var/tmp
>>> VERBOSE [U=3D0,P=3D3949]       sexec.c:583:main()                      =
   :=20
>>> Binding '/var/tmp' to 'nasmpi-singularity.img:/var/tmp'
>>> DEBUG   [U=3D0,P=3D3949]       mounts.c:96:mount_bind()                =
   :=20
>>> Called mount_bind(/var/tmp, 20005936, 1)
>>> DEBUG   [U=3D0,P=3D3949]       mounts.c:98:mount_bind()                =
   :=20
>>> Checking that source exists and is a file or directory
>>> DEBUG   [U=3D0,P=3D3949]       mounts.c:104:mount_bind()               =
   :=20
>>> Checking that destination exists and is a file or directory
>>> DEBUG   [U=3D0,P=3D3949]       mounts.c:110:mount_bind()               =
   :=20
>>> Calling mount(/var/tmp, /usr/local/var/singularity/mnt//var/tmp, ...)
>>> DEBUG   [U=3D0,P=3D3949]       mounts.c:124:mount_bind()               =
   :=20
>>> Returning mount_bind(/var/tmp, 20005936, 1) =3D 0
>>> DEBUG   [U=3D0,P=3D3949]       config_parser.c:43:config_get_key_value(=
)  :=20
>>> Called config_get_key_value(fp, bind path)
>>> DEBUG   [U=3D0,P=3D3949]       config_parser.c:54:config_get_key_value(=
)  :=20
>>> Return config_get_key_value(fp, bind path) =3D /home
>>> VERBOSE [U=3D0,P=3D3949]       sexec.c:566:main()                      =
   :=20
>>> Found 'bind path' =3D /home, /home
>>> VERBOSE [U=3D0,P=3D3949]       sexec.c:583:main()                      =
   :=20
>>> Binding '/home' to 'nasmpi-singularity.img:/home'
>>> DEBUG   [U=3D0,P=3D3949]       mounts.c:96:mount_bind()                =
   :=20
>>> Called mount_bind(/home, 20008528, 1)
>>> DEBUG   [U=3D0,P=3D3949]       mounts.c:98:mount_bind()                =
   :=20
>>> Checking that source exists and is a file or directory
>>> DEBUG   [U=3D0,P=3D3949]       mounts.c:104:mount_bind()               =
   :=20
>>> Checking that destination exists and is a file or directory
>>> DEBUG   [U=3D0,P=3D3949]       mounts.c:110:mount_bind()               =
   :=20
>>> Calling mount(/home, /usr/local/var/singularity/mnt//home, ...)
>>> DEBUG   [U=3D0,P=3D3949]       mounts.c:124:mount_bind()               =
   :=20
>>> Returning mount_bind(/home, 20008528, 1) =3D 0
>>> DEBUG   [U=3D0,P=3D3949]       config_parser.c:43:config_get_key_value(=
)  :=20
>>> Called config_get_key_value(fp, bind path)
>>> DEBUG   [U=3D0,P=3D3949]       config_parser.c:61:config_get_key_value(=
)  :=20
>>> Return config_get_key_value(fp, bind path) =3D NULL
>>> VERBOSE [U=3D0,P=3D3949]       sexec.c:633:main()                      =
   :=20
>>> Not staging passwd or group (running as root)
>>> VERBOSE [U=3D0,P=3D3949]       sexec.c:638:main()                      =
   :=20
>>> Forking exec process
>>> DEBUG   [U=3D0,P=3D3949]       sexec.c:770:main()                      =
   :=20
>>> Dropping privs...
>>> DEBUG   [U=3D0,P=3D3949]       privilege.c:79:drop_privs()             =
   :=20
>>> Called drop_privs(struct s_privinfo *uinfo)
>>> DEBUG   [U=3D0,P=3D3949]       privilege.c:87:drop_privs()             =
   :=20
>>> Dropping privileges to GID =3D '0'
>>> DEBUG   [U=3D0,P=3D3949]       privilege.c:93:drop_privs()             =
   :=20
>>> Dropping privileges to UID =3D '0'
>>> DEBUG   [U=3D0,P=3D3949]       privilege.c:103:drop_privs()            =
   :=20
>>> Confirming we have correct GID
>>> DEBUG   [U=3D0,P=3D3949]       privilege.c:109:drop_privs()            =
   :=20
>>> Confirming we have correct UID
>>> DEBUG   [U=3D0,P=3D3949]       privilege.c:115:drop_privs()            =
   :=20
>>> Returning drop_privs(struct s_privinfo *uinfo) =3D 0
>>> VERBOSE [U=3D0,P=3D3949]       sexec.c:776:main()                      =
   :=20
>>> Waiting for Exec process...
>>> DEBUG   [U=3D0,P=3D3959]       sexec.c:642:main()                      =
   :=20
>>> Hello from exec child process
>>> VERBOSE [U=3D0,P=3D3959]       sexec.c:644:main()                      =
   :=20
>>> Entering container file system space
>>> DEBUG   [U=3D0,P=3D3959]       sexec.c:649:main()                      =
   :=20
>>> Changing dir to '/' within the new root
>>> DEBUG   [U=3D0,P=3D3959]       sexec.c:657:main()                      =
   :=20
>>> Checking configuration file for 'mount proc'
>>> DEBUG   [U=3D0,P=3D3959]       config_parser.c:69:config_get_key_bool()=
   :=20
>>> Called config_get_key_bool(fp, mount proc, 1)
>>> DEBUG   [U=3D0,P=3D3959]       config_parser.c:43:config_get_key_value(=
)  :=20
>>> Called config_get_key_value(fp, mount proc)
>>> DEBUG   [U=3D0,P=3D3959]       config_parser.c:54:config_get_key_value(=
)  :=20
>>> Return config_get_key_value(fp, mount proc) =3D yes
>>> DEBUG   [U=3D0,P=3D3959]       config_parser.c:75:config_get_key_bool()=
   :=20
>>> Return config_get_key_bool(fp, mount proc, 1) =3D 1
>>> VERBOSE [U=3D0,P=3D3959]       sexec.c:661:main()                      =
   :=20
>>> Mounting /proc
>>> DEBUG   [U=3D0,P=3D3959]       sexec.c:674:main()                      =
   :=20
>>> Checking configuration file for 'mount sys'
>>> DEBUG   [U=3D0,P=3D3959]       config_parser.c:69:config_get_key_bool()=
   :=20
>>> Called config_get_key_bool(fp, mount sys, 1)
>>> DEBUG   [U=3D0,P=3D3959]       config_parser.c:43:config_get_key_value(=
)  :=20
>>> Called config_get_key_value(fp, mount sys)
>>> DEBUG   [U=3D0,P=3D3959]       config_parser.c:54:config_get_key_value(=
)  :=20
>>> Return config_get_key_value(fp, mount sys) =3D yes
>>> DEBUG   [U=3D0,P=3D3959]       config_parser.c:75:config_get_key_bool()=
   :=20
>>> Return config_get_key_bool(fp, mount sys, 1) =3D 1
>>> VERBOSE [U=3D0,P=3D3959]       sexec.c:678:main()                      =
   :=20
>>> Mounting /sys
>>> VERBOSE [U=3D0,P=3D3959]       sexec.c:692:main()                      =
   :=20
>>> Dropping all privileges
>>> DEBUG   [U=3D0,P=3D3959]       privilege.c:121:drop_privs_perm()       =
   :=20
>>> Called drop_privs_perm(struct s_privinfo *uinfo)
>>> DEBUG   [U=3D0,P=3D3959]       privilege.c:129:drop_privs_perm()       =
   :=20
>>> Resetting supplementary groups
>>> DEBUG   [U=3D0,P=3D3959]       privilege.c:135:drop_privs_perm()       =
   :=20
>>> Dropping real and effective privileges to GID =3D '0'
>>> DEBUG   [U=3D0,P=3D3959]       privilege.c:141:drop_privs_perm()       =
   :=20
>>> Dropping real and effective privileges to UID =3D '0'
>>> DEBUG   [U=3D0,P=3D3959]       privilege.c:151:drop_privs_perm()       =
   :=20
>>> Confirming we have correct GID
>>> DEBUG   [U=3D0,P=3D3959]       privilege.c:157:drop_privs_perm()       =
   :=20
>>> Confirming we have correct UID
>>> DEBUG   [U=3D0,P=3D3959]       privilege.c:163:drop_privs_perm()       =
   :=20
>>> Returning drop_privs_perm(struct s_privinfo *uinfo) =3D 0
>>> VERBOSE [U=3D0,P=3D3959]       sexec.c:699:main()                      =
   :=20
>>> Changing to correct working directory: /tmp/result
>>> DEBUG   [U=3D0,P=3D3959]       sexec.c:713:main()                      =
   :=20
>>> Setting environment variable 'SINGULARITY_CONTAINER=3D1'
>>> VERBOSE [U=3D0,P=3D3959]       sexec.c:732:main()                      =
   :=20
>>> COMMAND=3Dexec
>>> DEBUG   [U=3D0,P=3D3959]       container_actions.c:59:container_exec() =
   :=20
>>> Called container_exec(2, **argv)
>>> VERBOSE [U=3D0,P=3D3959]       container_actions.c:65:container_exec() =
   :=20
>>> Exec'ing program: true
>>> VERBOSE [U=3D0,P=3D3949]       sexec.c:785:main()                      =
   :=20
>>> Exec parent process returned: 0
>>> VERBOSE [U=3D0,P=3D3944]       sexec.c:804:main()                      =
   :=20
>>> Starting cleanup...
>>> DEBUG   [U=3D0,P=3D3944]       sexec.c:955:main()                      =
   :=20
>>> Checking to see if we are the last process running in this sessiondir
>>> DEBUG   [U=3D0,P=3D3944]       sexec.c:959:main()                      =
   :=20
>>> Escalating privs to clean session directory
>>> DEBUG   [U=3D0,P=3D3944]       privilege.c:61:escalate_privs()         =
   :=20
>>> Called escalate_privs(void)
>>> DEBUG   [U=3D0,P=3D3944]       privilege.c:73:escalate_privs()         =
   :=20
>>> Returning escalate_privs(void) =3D 0
>>> VERBOSE [U=3D0,P=3D3944]       sexec.c:964:main()                      =
   :=20
>>> Cleaning sessiondir: /tmp/.singularity-session-0.39.1291106024538003765=
1
>>> DEBUG   [U=3D0,P=3D3944]       file.c:212:s_rmdir()                    =
   :=20
>>> Removing dirctory: /tmp/.singularity-session-0.39.12911060245380037651
>>> DEBUG   [U=3D0,P=3D3944]       loop-control.c:138:disassociate_loop()  =
   :=20
>>> Called disassociate_loop(loop_fp)
>>> VERBOSE [U=3D0,P=3D3944]       loop-control.c:140:disassociate_loop()  =
   :=20
>>> Disassociating image from loop device
>>> DEBUG   [U=3D0,P=3D3944]       loop-control.c:146:disassociate_loop()  =
   :=20
>>> Returning disassociate_loop(loop_fp) =3D 0
>>> DEBUG   [U=3D0,P=3D3944]       privilege.c:79:drop_privs()             =
   :=20
>>> Called drop_privs(struct s_privinfo *uinfo)
>>> DEBUG   [U=3D0,P=3D3944]       privilege.c:87:drop_privs()             =
   :=20
>>> Dropping privileges to GID =3D '0'
>>> DEBUG   [U=3D0,P=3D3944]       privilege.c:93:drop_privs()             =
   :=20
>>> Dropping privileges to UID =3D '0'
>>> DEBUG   [U=3D0,P=3D3944]       privilege.c:103:drop_privs()            =
   :=20
>>> Confirming we have correct GID
>>> DEBUG   [U=3D0,P=3D3944]       privilege.c:109:drop_privs()            =
   :=20
>>> Confirming we have correct UID
>>> DEBUG   [U=3D0,P=3D3944]       privilege.c:115:drop_privs()            =
   :=20
>>> Returning drop_privs(struct s_privinfo *uinfo) =3D 0
>>> VERBOSE [U=3D0,P=3D3944]       sexec.c:981:main()                      =
   :=20
>>> Cleaning up...
>>>
>>> Thanks,
>>>
>>> El mi=C3=A9rcoles, 6 de julio de 2016, 16:00:36 (UTC+2), Gregory M. Kur=
tzer=20
>>> escribi=C3=B3:
>>>>
>>>> Hi,=20
>>>>
>>>> /run/user is associated with the Singularity container?
>>>>
>>>> Can you show me the output of 'losetup -a' please?
>>>>
>>>> Why are you are running it with sudo, you should not need to.
>>>>
>>>> It is weird, isn't -n a synonym for -np and if so, shouldn't it=20
>>>> executing 1 process on the given node? It seems like it is doing more.=
=20
>>>>
>>>> Lastly, what version of Singularity is this? If from Git master when=
=20
>>>> did you do the last pull? Can you try this in debug mode and with a=20
>>>> simple binary for testing:
>>>>
>>>> $ mpirun -n 1 singularity=20
>>>> -d exec /mnt/glusterfs/singularity/nasmpi-1.img true
>>>>
>>>> And send that output please.=20
>>>>
>>>>
>>>> On Wednesday, July 6, 2016, Raimon Bosch <rai...@gmail.com> wrote:
>>>>
>>>>>
>>>>> When I do "df -h" I see the singularity container still mounted. Mayb=
e=20
>>>>> I need to run a command to unmount it:
>>>>>
>>>>> > df -h
>>>>> Filesystem                 Size  Used Avail Use% Mounted on
>>>>> ****
>>>>> tmpfs                      3.2G     0  3.2G   0% /run/user/1006
>>>>> ****
>>>>>
>>>>> El mi=C3=A9rcoles, 6 de julio de 2016, 10:25:24 (UTC+2), Raimon Bosch=
=20
>>>>> escribi=C3=B3:
>>>>>>
>>>>>>
>>>>>> Hi Gregory,
>>>>>>
>>>>>> It fails depending on your environment. In my Ubuntu 14.04 it worked=
=20
>>>>>> fine, but in this instance of Debian jessie I get the following:
>>>>>>
>>>>>> > ERROR: Failed to associate image to loop: Device or resource busy
>>>>>>
>>>>>> Maybe is because we are using a glusterfs shared disk to keep the=20
>>>>>> containers?
>>>>>>
>>>>>> Here you have the entire output:
>>>>>>
>>>>>> > sudo mpirun -n 1 singularity exec=20
>>>>>> /mnt/glusterfs/singularity/nasmpi-1.img /trace.sh=20
>>>>>> /NPB/NPB3.3-MPI/bin/bt.C.4 : -n 1 singularity exec=20
>>>>>> /mnt/glusterfs/singularity/nasmpi-2.img /trace.sh=20
>>>>>> /NPB/NPB3.3-MPI/bin/bt.C.4 : -n 1 singularity exec=20
>>>>>> /mnt/glusterfs/singularity/nasmpi-3.img /trace.sh=20
>>>>>> /NPB/NPB3.3-MPI/bin/bt.C.4 : -n 1 singularity exec=20
>>>>>> /mnt/glusterfs/singularity/nasmpi-4.img /trace.sh /NPB/NPB3.3-MPI/bi=
n/bt.C.4
>>>>>> ERROR: Failed to associate image to loop: Device or resource busy
>>>>>> ERROR: Failed to associate image to loop: Device or resource busy
>>>>>> /bin/bash: warning: setlocale: LC_ALL: cannot change locale=20
>>>>>> (en_US.UTF-8)
>>>>>> ERROR: Failed to associate image to loop: Device or resource busy
>>>>>>
>>>>>> --------------------------------------------------------------------=
------
>>>>>> mpirun has exited due to process rank 2 with PID 63416 on
>>>>>> node bscgrid30 exiting improperly. There are two reasons this could=
=20
>>>>>> occur:
>>>>>>
>>>>>> 1. this process did not call "init" before exiting, but others in
>>>>>> the job did. This can cause a job to hang indefinitely while it wait=
s
>>>>>> for all processes to call "init". By rule, if one process calls=20
>>>>>> "init",
>>>>>> then ALL processes must call "init" prior to termination.
>>>>>>
>>>>>> 2. this process called "init", but exited without calling "finalize"=
.
>>>>>> By rule, all processes that call "init" MUST call "finalize" prior t=
o
>>>>>> exiting or it will be considered an "abnormal termination"
>>>>>>
>>>>>> This may have caused other processes in the application to be
>>>>>> terminated by signals sent by mpirun (as reported here).
>>>>>>
>>>>>> --------------------------------------------------------------------=
------
>>>>>>
>>>>>> Thanks in advance,
>>>>>>
>>>>>> El martes, 5 de julio de 2016, 18:21:48 (UTC+2), Gregory M. Kurtzer=
=20
>>>>>> escribi=C3=B3:
>>>>>>>
>>>>>>> Hi Raimon,
>>>>>>>
>>>>>>> I am confused as to what the issue is that you are having.=20
>>>>>>> Singularity supports running both across nodes as well as multiple=
=20
>>>>>>> processes per node in any number of containers. Can you paste your =
command=20
>>>>>>> and the error you are getting, maybe that will help.
>>>>>>>
>>>>>>> Thanks!
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> On Tue, Jul 5, 2016 at 8:25 AM, Raimon Bosch <rai...@gmail.com>=20
>>>>>>> wrote:
>>>>>>>
>>>>>>>>
>>>>>>>> That solution does not work with nas/mpi benchmark. That's because=
=20
>>>>>>>> bt.C.16 expects 16 processes. When you split processes it throws a=
n=20
>>>>>>>> exception because number of processes is lower than 16. <
>>>>>>>>
>>>>>>>
------=_Part_32_1178676325.1467876750810
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><br><br>Hi Gregory,<br><br>Attached you have the full exec=
ution in debug mode:<br><br>That&#39;s the command I did:<br>sudo sudo mpir=
un -n 1 singularity -d exec /mnt/glusterfs/singularity/nasmpi-singularity.i=
mg /trace.sh /NPB/NPB3.3-MPI/bin/bt.C.4 : -n 1 singularity -d exec /mnt/glu=
sterfs/singularity/nasmpi-singularity-2.img /trace.sh /NPB/NPB3.3-MPI/bin/b=
t.C.4 : -n 1 singularity -d exec /mnt/glusterfs/singularity/nasmpi-singular=
ity-3.img /trace.sh /NPB/NPB3.3-MPI/bin/bt.C.4 : -n 1 singularity -d exec /=
mnt/glusterfs/singularity/nasmpi-singularity-4.img /trace.sh /NPB/NPB3.3-MP=
I/bin/bt.C.4 2&gt;&amp;1 | tee /tmp/out.log<br><br><br>El mi=C3=A9rcoles, 6=
 de julio de 2016, 17:54:37 (UTC+2), Gregory M. Kurtzer  escribi=C3=B3:<blo=
ckquote class=3D"gmail_quote" style=3D"margin: 0;margin-left: 0.8ex;border-=
left: 1px #ccc solid;padding-left: 1ex;"><div dir=3D"ltr">Hi Raimon,<div><b=
r></div><div><br><div class=3D"gmail_quote">On Wed, Jul 6, 2016 at 7:39 AM,=
 Raimon Bosch <span dir=3D"ltr">&lt;<a href=3D"javascript:" target=3D"_blan=
k" gdf-obfuscated-mailto=3D"VA4wgK3sBgAJ" rel=3D"nofollow" onmousedown=3D"t=
his.href=3D&#39;javascript:&#39;;return true;" onclick=3D"this.href=3D&#39;=
javascript:&#39;;return true;">rai...@gmail.com</a>&gt;</span> wrote:<br><b=
lockquote class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;border-le=
ft-width:1px;border-left-style:solid;border-left-color:rgb(204,204,204);pad=
ding-left:1ex"><div dir=3D"ltr"><br>Just guessing... but could not be singu=
larity that does not detect different containers and tries to mount the 4 c=
ontainers in the same point?</div></blockquote><div><br></div><div>Yes, it =
does exactly that but thanks to CLONE_NEWNS, the mount namespaces never ove=
rlap or even see each other.</div><div><br></div><div>Looking through your =
debug output, there are no errors. Can you run the command again with debug=
ging enabled executing=C2=A0/NPB/NPB3.3-MPI/bin/<wbr>bt.C.4 instead of /bin=
/true?</div><div><br></div><div>Thanks!</div><div><br></div><div><br></div>=
<div>=C2=A0</div><blockquote class=3D"gmail_quote" style=3D"margin:0px 0px =
0px 0.8ex;border-left-width:1px;border-left-style:solid;border-left-color:r=
gb(204,204,204);padding-left:1ex"><div dir=3D"ltr"><div><div><br><br>El mi=
=C3=A9rcoles, 6 de julio de 2016, 16:20:37 (UTC+2), Raimon Bosch  escribi=
=C3=B3:<blockquote class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;=
border-left-width:1px;border-left-style:solid;border-left-color:rgb(204,204=
,204);padding-left:1ex"><div dir=3D"ltr"><br>Hi Gregory,<br><br>&gt; /run/u=
ser is associated with the Singularity container?<br><br>I guess it is. Bec=
ause containers are 3G size and it matches with this instances on /run/user=
/**. Unmounting them did not help.<br><br>&gt; Can you show me the output o=
f &#39;losetup -a&#39; please?<br><br>&quot;sudo losetup -a&quot; returns e=
mpty<br><br>&gt; Why are=C2=A0<span></span>you are running it with sudo, yo=
u should not need to.<br><br>I execute with sudo because the container insi=
de needs &#39;root&#39;. This is an old docker container that only has a un=
ique user root with all the files (probably i should change this in the fut=
ure).<br><br>&gt; It is weird, isn&#39;t -n a synonym for -np and if so, sh=
ouldn&#39;t it=20
executing 1 process on the given node? It seems like it is doing more. <br>=
<br>In my local machine the behaviour is correct. Tested it with -np and th=
e behaviour is the same.<br><br>&gt; Lastly, what version of Singularity is=
 this?<br><br>Is the master. I did &quot;git clone <a href=3D"https://githu=
b.com/gmkurtzer/singularity.git" rel=3D"nofollow" target=3D"_blank" onmouse=
down=3D"this.href=3D&#39;https://www.google.com/url?q\x3dhttps%3A%2F%2Fgith=
ub.com%2Fgmkurtzer%2Fsingularity.git\x26sa\x3dD\x26sntz\x3d1\x26usg\x3dAFQj=
CNFRIVzUMn8HjgEm4KbOCoAhjcN9tA&#39;;return true;" onclick=3D"this.href=3D&#=
39;https://www.google.com/url?q\x3dhttps%3A%2F%2Fgithub.com%2Fgmkurtzer%2Fs=
ingularity.git\x26sa\x3dD\x26sntz\x3d1\x26usg\x3dAFQjCNFRIVzUMn8HjgEm4KbOCo=
AhjcN9tA&#39;;return true;">https://github.com/gmkurtzer/<wbr>singularity.g=
it</a>&quot; and followed the installation steps.<br><br>As a side comment,=
 If I deploy with a unique container I don&#39;t encounter this problem. I =
think that when I want to mount extra containers that the SO gets crazy or =
maybe singularity tries to assign containers to a /dev/loop* that is busy a=
nd does not try to look for one that is available. In my final test I will =
need at least 16 containers in one host. Is that possible with singularity =
because I only see 8 loops?<br><br>Here you have the debug output:<br><br>&=
gt; sudo mpirun -n 1 singularity -d exec /mnt/glusterfs/singularity/<wbr>na=
smpi-singularity.img true<br>enabling debugging<br>ending argument loop<br>=
+ &#39;[&#39; -f /usr/local/etc/singularity/<wbr>init &#39;]&#39;<br>+ . /u=
sr/local/etc/singularity/<wbr>init<br>++ unset module<br>++ PATH=3D/bin:/sb=
in:/usr/bin:/usr/<wbr>sbin:/usr/local/sbin:/usr/<wbr>local/bin:/usr/sbin:/u=
sr/bin:/<wbr>sbin:/bin<br>++ HISTFILE=3D/dev/null<br>++ export PATH HISTFIL=
E<br>++ &#39;[&#39; -n 1 &#39;]&#39;<br>++ SINGULARITY_NO_NAMESPACE_PID=3D1=
<br>++ export SINGULARITY_NO_NAMESPACE_PID<br>+ true<br>+ case $1 in<br>+ b=
reak<br>+ &#39;[&#39; -z /mnt/glusterfs/singularity/<wbr>nasmpi-singularity=
.img &#39;]&#39;<br>+ SINGULARITY_IMAGE=3D/mnt/<wbr>glusterfs/singularity/n=
asmpi-<wbr>singularity.img<br>+ export SINGULARITY_IMAGE<br>+ shift<br>+ ex=
ec /usr/local/libexec/<wbr>singularity/sexec true<br>VERBOSE [U=3D0,P=3D394=
4]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 message.c:46:init()=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Setting messagelev=
el to: 5<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0 sexec.c:127:main()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Gathering and caching user info.<br>DEBUG=
=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 privilege=
.c:43:get_user_privs(<wbr>)=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0 : Called get_user_privs(struct s_privinfo *uinfo)<br>DEB=
UG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 privile=
ge.c:54:get_user_privs(<wbr>)=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0 : Returning get_user_privs(struct s_privinfo *uinfo) =
=3D 0<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0 sexec.c:134:main()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Checking if we can escalate privs properly.<b=
r>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 pr=
ivilege.c:61:escalate_privs(<wbr>)=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Called escalate_privs(void)<br>DEBUG=C2=A0=C2=
=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 privilege.c:73:esc=
alate_privs(<wbr>)=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0 : Returning escalate_privs(void) =3D 0<br>DEBUG=C2=A0=C2=A0 [U=3D=
0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 sexec.c:141:main()=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Settin=
g privs to calling user<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0 privilege.c:79:drop_privs()=C2=A0=C2=A0=C2=A0<wbr>=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : =
Called drop_privs(struct s_privinfo *uinfo)<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=
=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 privilege.c:87:drop_privs()=C2=
=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0 : Dropping privileges to GID =3D &#39;0&#39;<br>DEBUG=C2=
=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 privilege.c:=
93:drop_privs()=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Dropping privileges to UID =3D &#39;=
0&#39;<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0 privilege.c:103:drop_privs()=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Confirming we have co=
rrect GID<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0 privilege.c:109:drop_privs()=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Confirming we have=
 correct UID<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0 privilege.c:115:drop_privs()=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Returning drop_=
privs(struct s_privinfo *uinfo) =3D 0<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 sexec.c:146:main()=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Obtaining user&=
#39;s homedir<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0 sexec.c:150:main()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Obtaining file descriptor to current di=
rectory<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0 sexec.c:155:main()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Getting current working directory path string=
<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 =
sexec.c:161:main()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0 : Obtaining SINGULARITY_COMMAND from environment<br>DEBU=
G=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 sexec.c:=
168:main()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0 : Obtaining SINGULARITY_IMAGE from environment<br>DEBUG=C2=A0=
=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 sexec.c:174:mai=
n()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0 : Checking container image is a file: /mnt/glusterfs/singularity/<wbr>n=
asmpi-singularity.img<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0 sexec.c:180:main()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Building configuration file lo=
cation<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0 sexec.c:183:main()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Config location: /usr/local/etc/singularity/<=
wbr>singularity.conf<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0 sexec.c:185:main()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Checking Singularity configura=
tion is a file: /usr/local/etc/singularity/<wbr>singularity.conf<br>DEBUG=
=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 sexec.c:1=
91:main()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0 : Checking Singularity configuration file is owned by root<br>DEB=
UG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 sexec.c=
:197:main()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0 : Opening Singularity configuration file<br>DEBUG=C2=A0=C2=A0 =
[U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 sexec.c:210:main()=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : =
Checking Singularity configuration for &#39;sessiondir prefix&#39;<br>DEBUG=
=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 config_pa=
rser.c:43:config_get_<wbr>key_value()=C2=A0 : Called config_get_key_value(f=
p, sessiondir prefix)<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0 config_parser.c:61:config_get_<wbr>key_value()=C2=A0 =
: Return config_get_key_value(fp, sessiondir prefix) =3D NULL<br>DEBUG=C2=
=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 file.c:48:fi=
le_id()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<w=
br>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
 : Called file_id(/mnt/glusterfs/<wbr>singularity/nasmpi-<wbr>singularity.i=
mg)<br>VERBOSE [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 file.c:=
58:file_id()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0 : Generated file_id: 0.39.12911060245380037651<br>DEBUG=C2=A0=C2=A0 =
[U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 file.c:60:file_id()=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Return=
ing file_id(/mnt/glusterfs/<wbr>singularity/nasmpi-<wbr>singularity.img) =
=3D 0.39.12911060245380037651<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 sexec.c:217:main()=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Set sessiondir to: /t=
mp/.singularity-session-0.<wbr>39.12911060245380037651<br>DEBUG=C2=A0=C2=A0=
 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 sexec.c:221:main()=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : =
Set containername to: nasmpi-singularity.img<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=
=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 sexec.c:223:main()=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Setting l=
oop_dev_* paths<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0 sexec.c:229:main()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Set image mount path to: /usr/local/=
var/singularity/mnt<br>LOG=C2=A0=C2=A0=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 sexec.c:231:main()=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Command=3Dexec, Conta=
iner=3D/mnt/glusterfs/<wbr>singularity/nasmpi-<wbr>singularity.img, CWD=3D/=
tmp/result, Arg1=3Dtrue<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0 sexec.c:236:main()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Set prompt to: Singularity/=
nasmpi-<wbr>singularity.img&gt; <br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 sexec.c:238:main()=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Checking if we are=
 opening image as read/write<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0 sexec.c:240:main()=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Opening image as read on=
ly: /mnt/glusterfs/singularity/<wbr>nasmpi-singularity.img<br>DEBUG=C2=A0=
=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 sexec.c:247:mai=
n()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0 : Setting shared lock on file descriptor: 6<br>DEBUG=C2=A0=C2=A0 [U=3D0=
,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 sexec.c:267:main()=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Checki=
ng for namespace daemon pidfile<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 sexec.c:301:main()=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Escalating privledges=
<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 =
privilege.c:61:escalate_privs(<wbr>)=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Called escalate_privs(void)<br>DEBUG=C2=A0=C2=
=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 privilege.c:73:esc=
alate_privs(<wbr>)=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0 : Returning escalate_privs(void) =3D 0<br>VERBOSE [U=3D0,P=3D3944=
]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 sexec.c:306:main()=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Creating/Verify=
ing session directory: /tmp/.singularity-session-0.<wbr>39.1291106024538003=
7651<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0 file.c:196:s_mkpath()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0 : Creating directory: /tmp/.singularity-session-0.<wbr>39.1291106=
0245380037651<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0 sexec.c:320:main()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Setting shared lock on session director=
y<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
 sexec.c:331:main()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0 : Caching info into sessiondir<br>DEBUG=C2=A0=C2=A0 [=
U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 file.c:255:fileput()=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Called filep=
ut(/tmp/.singularity-<wbr>session-0.39.<wbr>12911060245380037651/image, nas=
mpi-singularity.img)<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0 sexec.c:337:main()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Checking for set loop device<b=
r>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 lo=
op-control.c:52:obtain_loop_<wbr>dev()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0 : Called obtain_loop_dev(void)<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 loop-control.c:66:obtain_loop_<wbr>dev=
()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Found available existing loo=
p device number: 0<br>VERBOSE [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0 loop-control.c:81:obtain_loop_<wbr>dev()=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0 : Using loop device: /dev/loop0<br>DEBUG=C2=A0=C2=A0 [U=
=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 loop-control.c:95:obtain=
_loop_<wbr>dev()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Returning obta=
in_loop_dev(void) =3D /dev/loop0<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 loop-control.c:106:associate_<wbr>loop()=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Called associate_loop(image_fp=
, loop_fp, 1)<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0 loop-control.c:109:associate_<wbr>loop()=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0 : Setting loop flags to LO_FLAGS_AUTOCLEAR<br>VERBOSE=
 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 image.c:39:image_offs=
et()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Calculating image offset<br>VERBOSE =
[U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 image.c:48:image_offse=
t()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Found image at an offset of 31 bytes=
<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 =
image.c:53:image_offset()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Returning image=
_offset(image_fp) =3D 31<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0 loop-control.c:114:associate_<wbr>loop()=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Setting image offset to: 31<br>VERBOSE =
[U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 loop-control.c:116:ass=
ociate_<wbr>loop()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Associating =
image to loop device<br>VERBOSE [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0 loop-control.c:122:associate_<wbr>loop()=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0 : Setting loop device flags<br>DEBUG=C2=A0=C2=A0 [U=3D0,=
P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 loop-control.c:130:associate_=
<wbr>loop()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Returning associate=
_loop(image_fp, loop_fp, 1) =3D 0<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 file.c:255:fileput()=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Called fileput(/tmp/.singulari=
ty-<wbr>session-0.39.<wbr>12911060245380037651/loop_dev, /dev/loop0)<br>DEB=
UG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 sexec.c=
:375:main()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0 : Creating container image mount path: /usr/local/var/singular=
ity/mnt<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0 sexec.c:441:main()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Checking to see if we are joining an existing=
 namespace<br>VERBOSE [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 =
sexec.c:444:main()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0 : Creating namespace process<br>DEBUG=C2=A0=C2=A0 [U=3D0=
,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 privilege.c:79:drop_privs()=
=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0 : Called drop_privs(struct s_privinfo *uinfo)<br>DEBU=
G=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 privileg=
e.c:87:drop_privs()=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Dropping privileges to GID =3D &#=
39;0&#39;<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0 privilege.c:93:drop_privs()=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Dropping privil=
eges to UID =3D &#39;0&#39;<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0 privilege.c:103:drop_privs()=C2=A0=C2=A0<wbr>=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : =
Confirming we have correct GID<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 privilege.c:109:drop_privs()=C2=A0=C2=A0<wbr=
>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 :=
 Confirming we have correct UID<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 privilege.c:115:drop_privs()=C2=A0=C2=A0<wbr=
>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 :=
 Returning drop_privs(struct s_privinfo *uinfo) =3D 0<br>DEBUG=C2=A0=C2=A0 =
[U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 sexec.c:449:main()=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : =
Hello from namespace child process<br>VERBOSE [U=3D0,P=3D3949]=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0 sexec.c:461:main()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Not virtualizing PID namesp=
ace<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0 sexec.c:480:main()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0 : Virtualizing FS namespace<br>DEBUG=C2=A0=C2=A0 [=
U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 sexec.c:488:main()=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : =
Virtualizing mount namespace<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0 sexec.c:495:main()=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Making mounts private<br=
>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 sex=
ec.c:505:main()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0 : Mounting Singularity image file read/write<br>DEBUG=C2=A0=
=C2=A0 [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 mounts.c:48:mou=
nt_image()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Called mount_image(/dev/loop0,=
 /usr/local/var/singularity/<wbr>mnt, 0)<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D39=
49]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 mounts.c:50:mount_image()=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0 : Checking mount point is present<br>DEBUG=C2=A0=
=C2=A0 [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 mounts.c:56:mou=
nt_image()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Checking loop is a block devic=
e<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
 mounts.c:75:mount_image()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Trying to mo=
unt read only as ext4 with discard option<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3=
949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 mounts.c:88:mount_image()=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0 : Returning mount_image(/dev/loop0, /usr/local/var=
/singularity/<wbr>mnt, 0) =3D 0<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 sexec.c:518:main()=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Checking if container=
 has /bin/sh<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0 sexec.c:526:main()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Checking to see if we should do bind mo=
unts<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0 sexec.c:530:main()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0 : Checking configuration file for &#39;mount home&=
#39;<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0 config_parser.c:69:config_get_<wbr>key_bool()=C2=A0=C2=A0 : Called conf=
ig_get_key_bool(fp, mount home, 1)<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 config_parser.c:43:config_get_<wbr>key_va=
lue()=C2=A0 : Called config_get_key_value(fp, mount home)<br>DEBUG=C2=A0=C2=
=A0 [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 config_parser.c:54=
:config_get_<wbr>key_value()=C2=A0 : Return config_get_key_value(fp, mount =
home) =3D yes<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0 config_parser.c:75:config_get_<wbr>key_bool()=C2=A0=C2=A0 : Re=
turn config_get_key_bool(fp, mount home, 1) =3D 1<br>VERBOSE [U=3D0,P=3D394=
9]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 sexec.c:536:main()=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Mounting home d=
irectory base path: /root<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0 mounts.c:96:mount_bind()=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0 : Called mount_bind(/root, 19992816, 1)<br>DEBUG=C2=A0=C2=
=A0 [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 mounts.c:98:mount_=
bind()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Checking that source exists=
 and is a file or directory<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0 mounts.c:104:mount_bind()=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0 : Checking that destination exists and is a file or directory<=
br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 m=
ounts.c:110:mount_bind()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Calling mount(/=
root, /usr/local/var/singularity/<wbr>mnt//root, ...)<br>DEBUG=C2=A0=C2=A0 =
[U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 mounts.c:124:mount_bin=
d()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Returning mount_bind(/root, 19992816=
, 1) =3D 0<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0 sexec.c:551:main()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Checking configuration file for &#39;bind =
path&#39;<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0 config_parser.c:43:config_get_<wbr>key_value()=C2=A0 : Called con=
fig_get_key_value(fp, bind path)<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 config_parser.c:54:config_get_<wbr>key_va=
lue()=C2=A0 : Return config_get_key_value(fp, bind path) =3D /etc/resolv.co=
nf<br>VERBOSE [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 sexec.c:=
566:main()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0 : Found &#39;bind path&#39; =3D /etc/resolv.conf, /etc/resolv.=
conf<br>VERBOSE [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 sexec.=
c:583:main()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0 : Binding &#39;/etc/resolv.conf&#39; to &#39;nasmpi-singularit=
y.img:/etc/<wbr>resolv.conf&#39;<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 mounts.c:96:mount_bind()=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0 : Called mount_bind(/etc/resolv.conf, 19995920, 1)=
<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 =
mounts.c:98:mount_bind()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Checking =
that source exists and is a file or directory<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=
=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 mounts.c:104:mount_bind()=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Checking that destination exists and is a =
file or directory<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0 mounts.c:110:mount_bind()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<=
wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0 : Calling mount(/etc/resolv.conf, /usr/local/var/singularity/<wbr>mnt//=
etc/resolv.conf, ...)<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0 mounts.c:124:mount_bind()=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0 : Returning mount_bind(/etc/resolv.conf, 19995920, 1) =3D 0<br>DEBUG=
=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 config_pa=
rser.c:43:config_get_<wbr>key_value()=C2=A0 : Called config_get_key_value(f=
p, bind path)<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0 config_parser.c:54:config_get_<wbr>key_value()=C2=A0 : Return =
config_get_key_value(fp, bind path) =3D /etc/hosts<br>VERBOSE [U=3D0,P=3D39=
49]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 sexec.c:566:main()=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Found &#39;b=
ind path&#39; =3D /etc/hosts, /etc/hosts<br>VERBOSE [U=3D0,P=3D3949]=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 sexec.c:583:main()=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Binding &#39;/etc/hos=
ts&#39; to &#39;nasmpi-singularity.img:/etc/<wbr>hosts&#39;<br>DEBUG=C2=A0=
=C2=A0 [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 mounts.c:96:mou=
nt_bind()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Called mount_bind(/etc/h=
osts, 19998528, 1)<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0 mounts.c:98:mount_bind()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0 : Checking that source exists and is a file or directory<br>DEBUG=
=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 mounts.c:=
104:mount_bind()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Checking that destinatio=
n exists and is a file or directory<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3949]=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 mounts.c:110:mount_bind()=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0 : Calling mount(/etc/hosts, /usr/local/var/singularit=
y/<wbr>mnt//etc/hosts, ...)<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0 mounts.c:124:mount_bind()=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0 : Returning mount_bind(/etc/hosts, 19998528, 1) =3D 0<br>DEBUG=
=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 config_pa=
rser.c:43:config_get_<wbr>key_value()=C2=A0 : Called config_get_key_value(f=
p, bind path)<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0 config_parser.c:54:config_get_<wbr>key_value()=C2=A0 : Return =
config_get_key_value(fp, bind path) =3D /dev<br>VERBOSE [U=3D0,P=3D3949]=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 sexec.c:566:main()=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Found &#39;bind pa=
th&#39; =3D /dev, /dev<br>VERBOSE [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0 sexec.c:583:main()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Binding &#39;/dev&#39; to &#39;nasmpi-s=
ingularity.img:/dev&#39;<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0 mounts.c:96:mount_bind()=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0 : Called mount_bind(/dev, 20000832, 1)<br>DEBUG=C2=A0=C2=A0=
 [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 mounts.c:98:mount_bin=
d()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Checking that source exists an=
d is a file or directory<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0 mounts.c:104:mount_bind()=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0 : Checking that destination exists and is a file or directory<br>=
DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 moun=
ts.c:110:mount_bind()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Calling mount(/dev=
, /usr/local/var/singularity/<wbr>mnt//dev, ...)<br>DEBUG=C2=A0=C2=A0 [U=3D=
0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 mounts.c:124:mount_bind()=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Returning mount_bind(/dev, 20000832, 1)=
 =3D 0<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0 config_parser.c:43:config_get_<wbr>key_value()=C2=A0 : Called config=
_get_key_value(fp, bind path)<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 config_parser.c:54:config_get_<wbr>key_value=
()=C2=A0 : Return config_get_key_value(fp, bind path) =3D /tmp<br>VERBOSE [=
U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 sexec.c:566:main()=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : =
Found &#39;bind path&#39; =3D /tmp, /tmp<br>VERBOSE [U=3D0,P=3D3949]=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 sexec.c:583:main()=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Binding &#39;/tmp&#39=
; to &#39;nasmpi-singularity.img:/tmp&#39;<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D=
3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 mounts.c:96:mount_bind()=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Called mount_bind(/tmp, 20003376, 1)<br>DE=
BUG=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 mounts=
.c:98:mount_bind()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Checking that s=
ource exists and is a file or directory<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D394=
9]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 mounts.c:104:mount_bind()=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0 : Checking that destination exists and is a file o=
r directory<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0 mounts.c:110:mount_bind()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : =
Calling mount(/tmp, /usr/local/var/singularity/<wbr>mnt//tmp, ...)<br>DEBUG=
=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 mounts.c:=
124:mount_bind()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Returning mount_bind(/tm=
p, 20003376, 1) =3D 0<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0 config_parser.c:43:config_get_<wbr>key_value()=C2=A0 =
: Called config_get_key_value(fp, bind path)<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=
=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 config_parser.c:54:config_get_=
<wbr>key_value()=C2=A0 : Return config_get_key_value(fp, bind path) =3D /va=
r/tmp<br>VERBOSE [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 sexec=
.c:566:main()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0 : Found &#39;bind path&#39; =3D /var/tmp, /var/tmp<br>VERBO=
SE [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 sexec.c:583:main()=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wb=
r>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 =
: Binding &#39;/var/tmp&#39; to &#39;nasmpi-singularity.img:/var/<wbr>tmp&#=
39;<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0 mounts.c:96:mount_bind()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Called=
 mount_bind(/var/tmp, 20005936, 1)<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 mounts.c:98:mount_bind()=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0 : Checking that source exists and is a file or dir=
ectory<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0 mounts.c:104:mount_bind()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Checki=
ng that destination exists and is a file or directory<br>DEBUG=C2=A0=C2=A0 =
[U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 mounts.c:110:mount_bin=
d()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Calling mount(/var/tmp, /usr/local/v=
ar/singularity/<wbr>mnt//var/tmp, ...)<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3949=
]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 mounts.c:124:mount_bind()=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0 : Returning mount_bind(/var/tmp, 20005936, 1) =3D 0<b=
r>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 co=
nfig_parser.c:43:config_get_<wbr>key_value()=C2=A0 : Called config_get_key_=
value(fp, bind path)<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0 config_parser.c:54:config_get_<wbr>key_value()=C2=A0 =
: Return config_get_key_value(fp, bind path) =3D /home<br>VERBOSE [U=3D0,P=
=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 sexec.c:566:main()=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Found &#3=
9;bind path&#39; =3D /home, /home<br>VERBOSE [U=3D0,P=3D3949]=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0 sexec.c:583:main()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Binding &#39;/home&#39; to =
&#39;nasmpi-singularity.img:/home&#39;<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3949=
]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 mounts.c:96:mount_bind()=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Called mount_bind(/home, 20008528, 1)<br>DEBU=
G=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 mounts.c=
:98:mount_bind()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Checking that sour=
ce exists and is a file or directory<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3949]=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 mounts.c:104:mount_bind()=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0 : Checking that destination exists and is a file or d=
irectory<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0 mounts.c:110:mount_bind()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Cal=
ling mount(/home, /usr/local/var/singularity/<wbr>mnt//home, ...)<br>DEBUG=
=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 mounts.c:=
124:mount_bind()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Returning mount_bind(/ho=
me, 20008528, 1) =3D 0<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0 config_parser.c:43:config_get_<wbr>key_value()=C2=A0 =
: Called config_get_key_value(fp, bind path)<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=
=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 config_parser.c:61:config_get_=
<wbr>key_value()=C2=A0 : Return config_get_key_value(fp, bind path) =3D NUL=
L<br>VERBOSE [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 sexec.c:6=
33:main()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0 : Not staging passwd or group (running as root)<br>VERBOSE [U=3D0=
,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 sexec.c:638:main()=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Forkin=
g exec process<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0 sexec.c:770:main()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Dropping privs...<br>DEBUG=C2=A0=C2=
=A0 [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 privilege.c:79:dro=
p_privs()=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Called drop_privs(struct s_privinfo *uinfo=
)<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
 privilege.c:87:drop_privs()=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Dropping privileges to G=
ID =3D &#39;0&#39;<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0 privilege.c:93:drop_privs()=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Droppi=
ng privileges to UID =3D &#39;0&#39;<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3949]=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 privilege.c:103:drop_privs()=C2=A0=C2=
=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0 : Confirming we have correct GID<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D394=
9]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 privilege.c:109:drop_privs()=C2=A0=
=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0 : Confirming we have correct UID<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D=
3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 privilege.c:115:drop_privs()=C2=
=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0 : Returning drop_privs(struct s_privinfo *uinfo) =3D 0<br>VERB=
OSE [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 sexec.c:776:main()=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wb=
r>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 =
: Waiting for Exec process...<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3959]=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 sexec.c:642:main()=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Hello from exec child=
 process<br>VERBOSE [U=3D0,P=3D3959]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 se=
xec.c:644:main()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0 : Entering container file system space<br>DEBUG=C2=A0=C2=
=A0 [U=3D0,P=3D3959]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 sexec.c:649:main()=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wb=
r>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 =
: Changing dir to &#39;/&#39; within the new root<br>DEBUG=C2=A0=C2=A0 [U=
=3D0,P=3D3959]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 sexec.c:657:main()=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Che=
cking configuration file for &#39;mount proc&#39;<br>DEBUG=C2=A0=C2=A0 [U=
=3D0,P=3D3959]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 config_parser.c:69:confi=
g_get_<wbr>key_bool()=C2=A0=C2=A0 : Called config_get_key_bool(fp, mount pr=
oc, 1)<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3959]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0 config_parser.c:43:config_get_<wbr>key_value()=C2=A0 : Called config=
_get_key_value(fp, mount proc)<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3959]=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 config_parser.c:54:config_get_<wbr>key_value=
()=C2=A0 : Return config_get_key_value(fp, mount proc) =3D yes<br>DEBUG=C2=
=A0=C2=A0 [U=3D0,P=3D3959]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 config_parse=
r.c:75:config_get_<wbr>key_bool()=C2=A0=C2=A0 : Return config_get_key_bool(=
fp, mount proc, 1) =3D 1<br>VERBOSE [U=3D0,P=3D3959]=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0 sexec.c:661:main()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Mounting /proc<br>DEBUG=C2=A0=C2=A0 =
[U=3D0,P=3D3959]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 sexec.c:674:main()=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : =
Checking configuration file for &#39;mount sys&#39;<br>DEBUG=C2=A0=C2=A0 [U=
=3D0,P=3D3959]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 config_parser.c:69:confi=
g_get_<wbr>key_bool()=C2=A0=C2=A0 : Called config_get_key_bool(fp, mount sy=
s, 1)<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3959]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0 config_parser.c:43:config_get_<wbr>key_value()=C2=A0 : Called config=
_get_key_value(fp, mount sys)<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3959]=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 config_parser.c:54:config_get_<wbr>key_value=
()=C2=A0 : Return config_get_key_value(fp, mount sys) =3D yes<br>DEBUG=C2=
=A0=C2=A0 [U=3D0,P=3D3959]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 config_parse=
r.c:75:config_get_<wbr>key_bool()=C2=A0=C2=A0 : Return config_get_key_bool(=
fp, mount sys, 1) =3D 1<br>VERBOSE [U=3D0,P=3D3959]=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0 sexec.c:678:main()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Mounting /sys<br>VERBOSE [U=3D0,P=3D395=
9]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 sexec.c:692:main()=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Dropping all pr=
ivileges<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3959]=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0 privilege.c:121:drop_privs_<wbr>perm()=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Called drop_privs_perm(struct s_privinfo *uin=
fo)<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3959]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0 privilege.c:129:drop_privs_<wbr>perm()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0 : Resetting supplementary groups<br>DEBUG=C2=A0=C2=A0=
 [U=3D0,P=3D3959]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 privilege.c:135:drop_=
privs_<wbr>perm()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : D=
ropping real and effective privileges to GID =3D &#39;0&#39;<br>DEBUG=C2=A0=
=C2=A0 [U=3D0,P=3D3959]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 privilege.c:141=
:drop_privs_<wbr>perm()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0 : Dropping real and effective privileges to UID =3D &#39;0&#39;<br>DEBU=
G=C2=A0=C2=A0 [U=3D0,P=3D3959]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 privileg=
e.c:151:drop_privs_<wbr>perm()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0 : Confirming we have correct GID<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D=
3959]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 privilege.c:157:drop_privs_<wbr>p=
erm()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Confirming we=
 have correct UID<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3959]=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0 privilege.c:163:drop_privs_<wbr>perm()=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Returning drop_privs_perm(struct s_p=
rivinfo *uinfo) =3D 0<br>VERBOSE [U=3D0,P=3D3959]=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0 sexec.c:699:main()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Changing to correct working directory: =
/tmp/result<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3959]=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0 sexec.c:713:main()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Setting environment variable &#39;SINGU=
LARITY_CONTAINER=3D1&#39;<br>VERBOSE [U=3D0,P=3D3959]=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0 sexec.c:732:main()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : COMMAND=3Dexec<br>DEBUG=C2=A0=C2=A0 =
[U=3D0,P=3D3959]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 container_actions.c:59=
:<wbr>container_exec()=C2=A0=C2=A0=C2=A0 : Called container_exec(2, **argv)=
<br>VERBOSE [U=3D0,P=3D3959]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 container_=
actions.c:65:<wbr>container_exec()=C2=A0=C2=A0=C2=A0 : Exec&#39;ing program=
: true<br>VERBOSE [U=3D0,P=3D3949]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 sexe=
c.c:785:main()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0 : Exec parent process returned: 0<br>VERBOSE [U=3D0,P=3D394=
4]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 sexec.c:804:main()=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Starting cleanu=
p...<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0 sexec.c:955:main()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0 : Checking to see if we are the last process runni=
ng in this sessiondir<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0 sexec.c:959:main()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Escalating privs to clean sess=
ion directory<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0 privilege.c:61:escalate_privs(<wbr>)=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Called escalate_privs(void)<br=
>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 pri=
vilege.c:73:escalate_privs(<wbr>)=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0 : Returning escalate_privs(void) =3D 0<br>VERBOSE =
[U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 sexec.c:964:main()=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : =
Cleaning sessiondir: /tmp/.singularity-session-0.<wbr>39.129110602453800376=
51<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0 file.c:212:s_rmdir()=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0 : Removing dirctory: /tmp/.singularity-session-0.<wbr>39.12911=
060245380037651<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0 loop-control.c:138:<wbr>disassociate_loop()=C2=A0=C2=A0=C2=
=A0=C2=A0 : Called disassociate_loop(loop_fp)<br>VERBOSE [U=3D0,P=3D3944]=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 loop-control.c:140:<wbr>disassociate_l=
oop()=C2=A0=C2=A0=C2=A0=C2=A0 : Disassociating image from loop device<br>DE=
BUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 loop-c=
ontrol.c:146:<wbr>disassociate_loop()=C2=A0=C2=A0=C2=A0=C2=A0 : Returning d=
isassociate_loop(loop_fp) =3D 0<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 privilege.c:79:drop_privs()=C2=A0=C2=A0=C2=
=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0 : Called drop_privs(struct s_privinfo *uinfo)<br>DEBUG=C2=A0=C2=A0 [=
U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 privilege.c:87:drop_pri=
vs()=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0 : Dropping privileges to GID =3D &#39;0&#39;<br>DE=
BUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 privil=
ege.c:93:drop_privs()=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Dropping privileges to UID =3D=
 &#39;0&#39;<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0 privilege.c:103:drop_privs()=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Confirming we h=
ave correct GID<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0 privilege.c:109:drop_privs()=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Confirming w=
e have correct UID<br>DEBUG=C2=A0=C2=A0 [U=3D0,P=3D3944]=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0 privilege.c:115:drop_privs()=C2=A0=C2=A0<wbr>=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Returning=
 drop_privs(struct s_privinfo *uinfo) =3D 0<br>VERBOSE [U=3D0,P=3D3944]=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 sexec.c:981:main()=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0<wbr>=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 : Cleaning up...<br>=
<br>Thanks,<br><br>El mi=C3=A9rcoles, 6 de julio de 2016, 16:00:36 (UTC+2),=
 Gregory M. Kurtzer  escribi=C3=B3:<blockquote class=3D"gmail_quote" style=
=3D"margin:0px 0px 0px 0.8ex;border-left-width:1px;border-left-style:solid;=
border-left-color:rgb(204,204,204);padding-left:1ex">Hi,=C2=A0<div><br></di=
v><div>/run/user is associated with the Singularity container?</div><div><b=
r></div><div>Can you show me the output of &#39;losetup -a&#39; please?</di=
v><div><br></div><div>Why are=C2=A0<span></span>you are running it with sud=
o, you should not need to.</div><div><br></div><div>It is weird, isn&#39;t =
-n a synonym for -np and if so, shouldn&#39;t it executing 1 process on the=
 given node? It seems like it is doing more.=C2=A0</div><div><br></div><div=
>Lastly, what version of Singularity is this? If from Git=C2=A0master when =
did you do the last pull? Can you try this in debug mode and with a simple=
=C2=A0binary for testing:</div><div><br></div><div>$=C2=A0<font size=3D"2">=
<span style=3D"background-color:rgba(255,255,255,0)">mpirun -n 1 singularit=
y -d=C2=A0exec=C2=A0/mnt/glusterfs/<wbr>singularity/nasmpi-1.img=C2=A0</spa=
n></font><span style=3D"font-size:small;background-color:rgba(255,255,255,0=
)">true</span></div><div><span style=3D"font-size:small;background-color:rg=
ba(255,255,255,0)"><br></span></div><div>And send that output please.=C2=A0=
</div><div><br></div><div><br>On Wednesday, July 6, 2016, Raimon Bosch &lt;=
<a rel=3D"nofollow">rai...@gmail.com</a>&gt; wrote:<br><blockquote class=3D=
"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;border-left-width:1px;borde=
r-left-style:solid;border-left-color:rgb(204,204,204);padding-left:1ex"><di=
v dir=3D"ltr"><br>When I do &quot;df -h&quot; I see the singularity contain=
er still mounted. Maybe I need to run a command to unmount it:<br><br>&gt; =
df -h<br>Filesystem=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 Size=C2=A0 Used Avail Use% Mount=
ed on<br>****<br>tmpfs=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
 3.2G=C2=A0=C2=A0=C2=A0=C2=A0 0=C2=A0 3.2G=C2=A0=C2=A0 0% /run/user/1006<br=
>****<br><br>El mi=C3=A9rcoles, 6 de julio de 2016, 10:25:24 (UTC+2), Raimo=
n Bosch  escribi=C3=B3:<blockquote class=3D"gmail_quote" style=3D"margin:0p=
x 0px 0px 0.8ex;border-left-width:1px;border-left-style:solid;border-left-c=
olor:rgb(204,204,204);padding-left:1ex"><div dir=3D"ltr"><br>Hi Gregory,<br=
><br>It fails depending on your environment. In my Ubuntu 14.04 it worked f=
ine, but in this instance of Debian jessie I get the following:<br><br>&gt;=
 ERROR: Failed to associate image to loop: Device or resource busy<br><br>M=
aybe is because we are using a glusterfs shared disk to keep the containers=
?<br><br>Here you have the entire output:<br><br>&gt; sudo mpirun -n 1 sing=
ularity exec /mnt/glusterfs/singularity/<wbr>nasmpi-1.img /trace.sh /NPB/NP=
B3.3-MPI/bin/bt.C.4 : -n 1 singularity exec /mnt/glusterfs/singularity/<wbr=
>nasmpi-2.img /trace.sh /NPB/NPB3.3-MPI/bin/bt.C.4 : -n 1 singularity exec =
/mnt/glusterfs/singularity/<wbr>nasmpi-3.img /trace.sh /NPB/NPB3.3-MPI/bin/=
bt.C.4 : -n 1 singularity exec /mnt/glusterfs/singularity/<wbr>nasmpi-4.img=
 /trace.sh /NPB/NPB3.3-MPI/bin/bt.C.4<br>ERROR: Failed to associate image t=
o loop: Device or resource busy<br>ERROR: Failed to associate image to loop=
: Device or resource busy<br>/bin/bash: warning: setlocale: LC_ALL: cannot =
change locale (en_US.UTF-8)<br>ERROR: Failed to associate image to loop: De=
vice or resource busy<br>------------------------------<wbr>---------------=
---------------<wbr>--------------<br>mpirun has exited due to process rank=
 2 with PID 63416 on<br>node bscgrid30 exiting improperly. There are two re=
asons this could occur:<br><br>1. this process did not call &quot;init&quot=
; before exiting, but others in<br>the job did. This can cause a job to han=
g indefinitely while it waits<br>for all processes to call &quot;init&quot;=
. By rule, if one process calls &quot;init&quot;,<br>then ALL processes mus=
t call &quot;init&quot; prior to termination.<br><br>2. this process called=
 &quot;init&quot;, but exited without calling &quot;finalize&quot;.<br>By r=
ule, all processes that call &quot;init&quot; MUST call &quot;finalize&quot=
; prior to<br>exiting or it will be considered an &quot;abnormal terminatio=
n&quot;<br><br>This may have caused other processes in the application to b=
e<br>terminated by signals sent by mpirun (as reported here).<br>----------=
--------------------<wbr>------------------------------<wbr>--------------<=
br><br>Thanks in advance,<br><br>El martes, 5 de julio de 2016, 18:21:48 (U=
TC+2), Gregory M. Kurtzer  escribi=C3=B3:<blockquote class=3D"gmail_quote" =
style=3D"margin:0px 0px 0px 0.8ex;border-left-width:1px;border-left-style:s=
olid;border-left-color:rgb(204,204,204);padding-left:1ex"><div dir=3D"ltr">=
Hi Raimon,<div><br></div><div>I am confused as to what the issue is that yo=
u are having. Singularity supports running both across nodes as well as mul=
tiple processes per node in any number of containers. Can you paste your co=
mmand and the error you are getting, maybe that will help.</div><div><br></=
div><div>Thanks!</div><div><br></div><div><br></div></div><div><br><div cla=
ss=3D"gmail_quote">On Tue, Jul 5, 2016 at 8:25 AM, Raimon Bosch <span dir=
=3D"ltr">&lt;<a rel=3D"nofollow">rai...@gmail.com</a>&gt;</span> wrote:<br>=
<blockquote class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;border-=
left-width:1px;border-left-style:solid;border-left-color:rgb(204,204,204);p=
adding-left:1ex"><div dir=3D"ltr"><br>That solution does not work with nas/=
mpi benchmark. That&#39;s because bt.C.16 expects 16 processes. When you sp=
lit processes it throws an exception because number of processes is lower t=
han 16. &lt;</div></blockquote></div></div></blockquote></div></blockquote>=
</div></blockquote></div></blockquote></div></blockquote></div></div></div>=
</blockquote></div></div></div></blockquote></div>
------=_Part_32_1178676325.1467876750810--

------=_Part_31_878540389.1467876750809
Content-Type: text/plain; charset=US-ASCII; name=out.log
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment; filename=out.log
X-Attachment-Id: 23830690-698b-4557-9971-5517e1a769f4
Content-ID: <23830690-698b-4557-9971-5517e1a769f4>

enabling debugging
ending argument loop
enabling debugging
ending argument loop
enabling debugging
ending argument loop
+ '[' -f /usr/local/etc/singularity/init ']'
+ . /usr/local/etc/singularity/init
+ '[' -f /usr/local/etc/singularity/init ']'
+ . /usr/local/etc/singularity/init
++ unset module
++ unset module
++ PATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
++ HISTFILE=/dev/null
++ export PATH HISTFILE
++ PATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
++ HISTFILE=/dev/null
++ export PATH HISTFILE
++ '[' -n 4 ']'
++ SINGULARITY_NO_NAMESPACE_PID=1
++ export SINGULARITY_NO_NAMESPACE_PID
++ '[' -n 4 ']'
++ SINGULARITY_NO_NAMESPACE_PID=1
++ export SINGULARITY_NO_NAMESPACE_PID
+ true
+ case $1 in
+ break
+ true
+ case $1 in
+ '[' -z /mnt/glusterfs/singularity/nasmpi-singularity-2.img ']'
+ break
+ SINGULARITY_IMAGE=/mnt/glusterfs/singularity/nasmpi-singularity-2.img
+ export SINGULARITY_IMAGE
+ shift
+ '[' -z /mnt/glusterfs/singularity/nasmpi-singularity.img ']'
+ SINGULARITY_IMAGE=/mnt/glusterfs/singularity/nasmpi-singularity.img
+ exec /usr/local/libexec/singularity/sexec /trace.sh /NPB/NPB3.3-MPI/bin/bt.C.4
+ export SINGULARITY_IMAGE
+ shift
+ exec /usr/local/libexec/singularity/sexec /trace.sh /NPB/NPB3.3-MPI/bin/bt.C.4
+ '[' -f /usr/local/etc/singularity/init ']'
+ . /usr/local/etc/singularity/init
++ unset module
++ PATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
++ HISTFILE=/dev/null
++ export PATH HISTFILE
++ '[' -n 4 ']'
++ SINGULARITY_NO_NAMESPACE_PID=1
++ export SINGULARITY_NO_NAMESPACE_PID
VERBOSE [U=0,P=24117]      message.c:46:init()                        : Setting messagelevel to: 5
DEBUG   [U=0,P=24117]      sexec.c:127:main()                         : Gathering and caching user info.
DEBUG   [U=0,P=24117]      privilege.c:43:get_user_privs()            : Called get_user_privs(struct s_privinfo *uinfo)
DEBUG   [U=0,P=24117]      privilege.c:54:get_user_privs()            : Returning get_user_privs(struct s_privinfo *uinfo) = 0
DEBUG   [U=0,P=24117]      sexec.c:134:main()                         : Checking if we can escalate privs properly.
DEBUG   [U=0,P=24117]      privilege.c:61:escalate_privs()            : Called escalate_privs(void)
DEBUG   [U=0,P=24117]      privilege.c:73:escalate_privs()            : Returning escalate_privs(void) = 0
DEBUG   [U=0,P=24117]      sexec.c:141:main()                         : Setting privs to calling user
DEBUG   [U=0,P=24117]      privilege.c:79:drop_privs()                : Called drop_privs(struct s_privinfo *uinfo)
DEBUG   [U=0,P=24117]      privilege.c:87:drop_privs()                : Dropping privileges to GID = '0'
DEBUG   [U=0,P=24117]      privilege.c:93:drop_privs()                : Dropping privileges to UID = '0'
DEBUG   [U=0,P=24117]      privilege.c:103:drop_privs()               : Confirming we have correct GID
DEBUG   [U=0,P=24117]      privilege.c:109:drop_privs()               : Confirming we have correct UID
DEBUG   [U=0,P=24117]      privilege.c:115:drop_privs()               : Returning drop_privs(struct s_privinfo *uinfo) = 0
DEBUG   [U=0,P=24117]      sexec.c:146:main()                         : Obtaining user's homedir
DEBUG   [U=0,P=24117]      sexec.c:150:main()                         : Obtaining file descriptor to current directory
DEBUG   [U=0,P=24117]      sexec.c:155:main()                         : Getting current working directory path string
DEBUG   [U=0,P=24117]      sexec.c:161:main()                         : Obtaining SINGULARITY_COMMAND from environment
DEBUG   [U=0,P=24117]      sexec.c:168:main()                         : Obtaining SINGULARITY_IMAGE from environment
DEBUG   [U=0,P=24117]      sexec.c:174:main()                         : Checking container image is a file: /mnt/glusterfs/singularity/nasmpi-singularity-2.img
+ true
+ case $1 in
+ break
+ '[' -z /mnt/glusterfs/singularity/nasmpi-singularity-3.img ']'
+ SINGULARITY_IMAGE=/mnt/glusterfs/singularity/nasmpi-singularity-3.img
+ export SINGULARITY_IMAGE
+ shift
+ exec /usr/local/libexec/singularity/sexec /trace.sh /NPB/NPB3.3-MPI/bin/bt.C.4
VERBOSE [U=0,P=24116]      message.c:46:init()                        : Setting messagelevel to: 5
DEBUG   [U=0,P=24116]      sexec.c:127:main()                         : Gathering and caching user info.
DEBUG   [U=0,P=24116]      privilege.c:43:get_user_privs()            : Called get_user_privs(struct s_privinfo *uinfo)
DEBUG   [U=0,P=24116]      privilege.c:54:get_user_privs()            : Returning get_user_privs(struct s_privinfo *uinfo) = 0
DEBUG   [U=0,P=24116]      sexec.c:134:main()                         : Checking if we can escalate privs properly.
DEBUG   [U=0,P=24116]      privilege.c:61:escalate_privs()            : Called escalate_privs(void)
DEBUG   [U=0,P=24116]      privilege.c:73:escalate_privs()            : Returning escalate_privs(void) = 0
DEBUG   [U=0,P=24116]      sexec.c:141:main()                         : Setting privs to calling user
DEBUG   [U=0,P=24116]      privilege.c:79:drop_privs()                : Called drop_privs(struct s_privinfo *uinfo)
DEBUG   [U=0,P=24116]      privilege.c:87:drop_privs()                : Dropping privileges to GID = '0'
DEBUG   [U=0,P=24116]      privilege.c:93:drop_privs()                : Dropping privileges to UID = '0'
DEBUG   [U=0,P=24116]      privilege.c:103:drop_privs()               : Confirming we have correct GID
DEBUG   [U=0,P=24116]      privilege.c:109:drop_privs()               : Confirming we have correct UID
DEBUG   [U=0,P=24116]      privilege.c:115:drop_privs()               : Returning drop_privs(struct s_privinfo *uinfo) = 0
DEBUG   [U=0,P=24116]      sexec.c:146:main()                         : Obtaining user's homedir
DEBUG   [U=0,P=24116]      sexec.c:150:main()                         : Obtaining file descriptor to current directory
DEBUG   [U=0,P=24116]      sexec.c:155:main()                         : Getting current working directory path string
DEBUG   [U=0,P=24116]      sexec.c:161:main()                         : Obtaining SINGULARITY_COMMAND from environment
DEBUG   [U=0,P=24116]      sexec.c:168:main()                         : Obtaining SINGULARITY_IMAGE from environment
DEBUG   [U=0,P=24116]      sexec.c:174:main()                         : Checking container image is a file: /mnt/glusterfs/singularity/nasmpi-singularity.img
VERBOSE [U=0,P=24118]      message.c:46:init()                        : Setting messagelevel to: 5
DEBUG   [U=0,P=24118]      sexec.c:127:main()                         : Gathering and caching user info.
DEBUG   [U=0,P=24118]      privilege.c:43:get_user_privs()            : Called get_user_privs(struct s_privinfo *uinfo)
DEBUG   [U=0,P=24118]      privilege.c:54:get_user_privs()            : Returning get_user_privs(struct s_privinfo *uinfo) = 0
DEBUG   [U=0,P=24118]      sexec.c:134:main()                         : Checking if we can escalate privs properly.
DEBUG   [U=0,P=24118]      privilege.c:61:escalate_privs()            : Called escalate_privs(void)
DEBUG   [U=0,P=24118]      privilege.c:73:escalate_privs()            : Returning escalate_privs(void) = 0
DEBUG   [U=0,P=24118]      sexec.c:141:main()                         : Setting privs to calling user
DEBUG   [U=0,P=24118]      privilege.c:79:drop_privs()                : Called drop_privs(struct s_privinfo *uinfo)
DEBUG   [U=0,P=24118]      privilege.c:87:drop_privs()                : Dropping privileges to GID = '0'
DEBUG   [U=0,P=24118]      privilege.c:93:drop_privs()                : Dropping privileges to UID = '0'
DEBUG   [U=0,P=24118]      privilege.c:103:drop_privs()               : Confirming we have correct GID
DEBUG   [U=0,P=24118]      privilege.c:109:drop_privs()               : Confirming we have correct UID
DEBUG   [U=0,P=24118]      privilege.c:115:drop_privs()               : Returning drop_privs(struct s_privinfo *uinfo) = 0
DEBUG   [U=0,P=24118]      sexec.c:146:main()                         : Obtaining user's homedir
DEBUG   [U=0,P=24118]      sexec.c:150:main()                         : Obtaining file descriptor to current directory
DEBUG   [U=0,P=24118]      sexec.c:155:main()                         : Getting current working directory path string
DEBUG   [U=0,P=24118]      sexec.c:161:main()                         : Obtaining SINGULARITY_COMMAND from environment
DEBUG   [U=0,P=24118]      sexec.c:168:main()                         : Obtaining SINGULARITY_IMAGE from environment
DEBUG   [U=0,P=24118]      sexec.c:174:main()                         : Checking container image is a file: /mnt/glusterfs/singularity/nasmpi-singularity-3.img
enabling debugging
ending argument loop
DEBUG   [U=0,P=24117]      sexec.c:180:main()                         : Building configuration file location
DEBUG   [U=0,P=24117]      sexec.c:183:main()                         : Config location: /usr/local/etc/singularity/singularity.conf
DEBUG   [U=0,P=24117]      sexec.c:185:main()                         : Checking Singularity configuration is a file: /usr/local/etc/singularity/singularity.conf
DEBUG   [U=0,P=24117]      sexec.c:191:main()                         : Checking Singularity configuration file is owned by root
DEBUG   [U=0,P=24117]      sexec.c:197:main()                         : Opening Singularity configuration file
DEBUG   [U=0,P=24117]      sexec.c:210:main()                         : Checking Singularity configuration for 'sessiondir prefix'
DEBUG   [U=0,P=24117]      config_parser.c:43:config_get_key_value()  : Called config_get_key_value(fp, sessiondir prefix)
DEBUG   [U=0,P=24117]      config_parser.c:61:config_get_key_value()  : Return config_get_key_value(fp, sessiondir prefix) = NULL
DEBUG   [U=0,P=24117]      file.c:48:file_id()                        : Called file_id(/mnt/glusterfs/singularity/nasmpi-singularity-2.img)
VERBOSE [U=0,P=24117]      file.c:58:file_id()                        : Generated file_id: 0.41.12634123856317638710
DEBUG   [U=0,P=24117]      file.c:60:file_id()                        : Returning file_id(/mnt/glusterfs/singularity/nasmpi-singularity-2.img) = 0.41.12634123856317638710
DEBUG   [U=0,P=24117]      sexec.c:217:main()                         : Set sessiondir to: /tmp/.singularity-session-0.41.12634123856317638710
DEBUG   [U=0,P=24117]      sexec.c:221:main()                         : Set containername to: nasmpi-singularity-2.img
DEBUG   [U=0,P=24117]      sexec.c:223:main()                         : Setting loop_dev_* paths
DEBUG   [U=0,P=24117]      sexec.c:229:main()                         : Set image mount path to: /usr/local/var/singularity/mnt
DEBUG   [U=0,P=24118]      sexec.c:180:main()                         : Building configuration file location
DEBUG   [U=0,P=24118]      sexec.c:183:main()                         : Config location: /usr/local/etc/singularity/singularity.conf
DEBUG   [U=0,P=24118]      sexec.c:185:main()                         : Checking Singularity configuration is a file: /usr/local/etc/singularity/singularity.conf
DEBUG   [U=0,P=24118]      sexec.c:191:main()                         : Checking Singularity configuration file is owned by root
LOG     [U=0,P=24117]      sexec.c:231:main()                         : Command=exec, Container=/mnt/glusterfs/singularity/nasmpi-singularity-2.img, CWD=/home/rbosch/singularity, Arg1=/trace.sh
DEBUG   [U=0,P=24117]      sexec.c:236:main()                         : Set prompt to: Singularity/nasmpi-singularity-2.img> 
DEBUG   [U=0,P=24117]      sexec.c:238:main()                         : Checking if we are opening image as read/write
DEBUG   [U=0,P=24117]      sexec.c:240:main()                         : Opening image as read only: /mnt/glusterfs/singularity/nasmpi-singularity-2.img
DEBUG   [U=0,P=24118]      sexec.c:197:main()                         : Opening Singularity configuration file
DEBUG   [U=0,P=24118]      sexec.c:210:main()                         : Checking Singularity configuration for 'sessiondir prefix'
DEBUG   [U=0,P=24118]      config_parser.c:43:config_get_key_value()  : Called config_get_key_value(fp, sessiondir prefix)
DEBUG   [U=0,P=24116]      sexec.c:180:main()                         : Building configuration file location
DEBUG   [U=0,P=24116]      sexec.c:183:main()                         : Config location: /usr/local/etc/singularity/singularity.conf
DEBUG   [U=0,P=24116]      sexec.c:185:main()                         : Checking Singularity configuration is a file: /usr/local/etc/singularity/singularity.conf
DEBUG   [U=0,P=24116]      sexec.c:191:main()                         : Checking Singularity configuration file is owned by root
DEBUG   [U=0,P=24116]      sexec.c:197:main()                         : Opening Singularity configuration file
DEBUG   [U=0,P=24116]      sexec.c:210:main()                         : Checking Singularity configuration for 'sessiondir prefix'
DEBUG   [U=0,P=24116]      config_parser.c:43:config_get_key_value()  : Called config_get_key_value(fp, sessiondir prefix)
DEBUG   [U=0,P=24118]      config_parser.c:61:config_get_key_value()  : Return config_get_key_value(fp, sessiondir prefix) = NULL
DEBUG   [U=0,P=24116]      config_parser.c:61:config_get_key_value()  : Return config_get_key_value(fp, sessiondir prefix) = NULL
DEBUG   [U=0,P=24116]      file.c:48:file_id()                        : Called file_id(/mnt/glusterfs/singularity/nasmpi-singularity.img)
VERBOSE [U=0,P=24116]      file.c:58:file_id()                        : Generated file_id: 0.41.12911060245380037651
DEBUG   [U=0,P=24116]      file.c:60:file_id()                        : Returning file_id(/mnt/glusterfs/singularity/nasmpi-singularity.img) = 0.41.12911060245380037651
DEBUG   [U=0,P=24116]      sexec.c:217:main()                         : Set sessiondir to: /tmp/.singularity-session-0.41.12911060245380037651
DEBUG   [U=0,P=24116]      sexec.c:221:main()                         : Set containername to: nasmpi-singularity.img
DEBUG   [U=0,P=24116]      sexec.c:223:main()                         : Setting loop_dev_* paths
DEBUG   [U=0,P=24116]      sexec.c:229:main()                         : Set image mount path to: /usr/local/var/singularity/mnt
DEBUG   [U=0,P=24118]      file.c:48:file_id()                        : Called file_id(/mnt/glusterfs/singularity/nasmpi-singularity-3.img)
VERBOSE [U=0,P=24118]      file.c:58:file_id()                        : Generated file_id: 0.41.12294647133991167379
DEBUG   [U=0,P=24118]      file.c:60:file_id()                        : Returning file_id(/mnt/glusterfs/singularity/nasmpi-singularity-3.img) = 0.41.12294647133991167379
DEBUG   [U=0,P=24118]      sexec.c:217:main()                         : Set sessiondir to: /tmp/.singularity-session-0.41.12294647133991167379
DEBUG   [U=0,P=24118]      sexec.c:221:main()                         : Set containername to: nasmpi-singularity-3.img
DEBUG   [U=0,P=24118]      sexec.c:223:main()                         : Setting loop_dev_* paths
DEBUG   [U=0,P=24118]      sexec.c:229:main()                         : Set image mount path to: /usr/local/var/singularity/mnt
LOG     [U=0,P=24116]      sexec.c:231:main()                         : Command=exec, Container=/mnt/glusterfs/singularity/nasmpi-singularity.img, CWD=/home/rbosch/singularity, Arg1=/trace.sh
DEBUG   [U=0,P=24116]      sexec.c:236:main()                         : Set prompt to: Singularity/nasmpi-singularity.img> 
DEBUG   [U=0,P=24116]      sexec.c:238:main()                         : Checking if we are opening image as read/write
DEBUG   [U=0,P=24116]      sexec.c:240:main()                         : Opening image as read only: /mnt/glusterfs/singularity/nasmpi-singularity.img
LOG     [U=0,P=24118]      sexec.c:231:main()                         : Command=exec, Container=/mnt/glusterfs/singularity/nasmpi-singularity-3.img, CWD=/home/rbosch/singularity, Arg1=/trace.sh
DEBUG   [U=0,P=24118]      sexec.c:236:main()                         : Set prompt to: Singularity/nasmpi-singularity-3.img> 
DEBUG   [U=0,P=24118]      sexec.c:238:main()                         : Checking if we are opening image as read/write
DEBUG   [U=0,P=24118]      sexec.c:240:main()                         : Opening image as read only: /mnt/glusterfs/singularity/nasmpi-singularity-3.img
DEBUG   [U=0,P=24117]      sexec.c:247:main()                         : Setting shared lock on file descriptor: 6
DEBUG   [U=0,P=24116]      sexec.c:247:main()                         : Setting shared lock on file descriptor: 6
DEBUG   [U=0,P=24118]      sexec.c:247:main()                         : Setting shared lock on file descriptor: 6
DEBUG   [U=0,P=24117]      sexec.c:267:main()                         : Checking for namespace daemon pidfile
DEBUG   [U=0,P=24117]      sexec.c:301:main()                         : Escalating privledges
DEBUG   [U=0,P=24116]      sexec.c:267:main()                         : Checking for namespace daemon pidfile
DEBUG   [U=0,P=24117]      privilege.c:61:escalate_privs()            : Called escalate_privs(void)
DEBUG   [U=0,P=24117]      privilege.c:73:escalate_privs()            : Returning escalate_privs(void) = 0
VERBOSE [U=0,P=24117]      sexec.c:306:main()                         : Creating/Verifying session directory: /tmp/.singularity-session-0.41.12634123856317638710
DEBUG   [U=0,P=24117]      sexec.c:320:main()                         : Setting shared lock on session directory
DEBUG   [U=0,P=24116]      sexec.c:301:main()                         : Escalating privledges
DEBUG   [U=0,P=24116]      privilege.c:61:escalate_privs()            : Called escalate_privs(void)
DEBUG   [U=0,P=24116]      privilege.c:73:escalate_privs()            : Returning escalate_privs(void) = 0
VERBOSE [U=0,P=24116]      sexec.c:306:main()                         : Creating/Verifying session directory: /tmp/.singularity-session-0.41.12911060245380037651
DEBUG   [U=0,P=24116]      sexec.c:320:main()                         : Setting shared lock on session directory
DEBUG   [U=0,P=24117]      sexec.c:331:main()                         : Caching info into sessiondir
DEBUG   [U=0,P=24117]      file.c:255:fileput()                       : Called fileput(/tmp/.singularity-session-0.41.12634123856317638710/image, nasmpi-singularity-2.img)
DEBUG   [U=0,P=24116]      sexec.c:331:main()                         : Caching info into sessiondir
DEBUG   [U=0,P=24116]      file.c:255:fileput()                       : Called fileput(/tmp/.singularity-session-0.41.12911060245380037651/image, nasmpi-singularity.img)
DEBUG   [U=0,P=24117]      sexec.c:337:main()                         : Checking for set loop device
DEBUG   [U=0,P=24117]      loop-control.c:52:obtain_loop_dev()        : Called obtain_loop_dev(void)
DEBUG   [U=0,P=24117]      loop-control.c:66:obtain_loop_dev()        : Found available existing loop device number: 0
VERBOSE [U=0,P=24117]      loop-control.c:81:obtain_loop_dev()        : Using loop device: /dev/loop0
DEBUG   [U=0,P=24117]      loop-control.c:95:obtain_loop_dev()        : Returning obtain_loop_dev(void) = /dev/loop0
DEBUG   [U=0,P=24116]      sexec.c:337:main()                         : Checking for set loop device
DEBUG   [U=0,P=24116]      loop-control.c:52:obtain_loop_dev()        : Called obtain_loop_dev(void)
DEBUG   [U=0,P=24118]      sexec.c:267:main()                         : Checking for namespace daemon pidfile
DEBUG   [U=0,P=24118]      sexec.c:301:main()                         : Escalating privledges
DEBUG   [U=0,P=24118]      privilege.c:61:escalate_privs()            : Called escalate_privs(void)
DEBUG   [U=0,P=24118]      privilege.c:73:escalate_privs()            : Returning escalate_privs(void) = 0
VERBOSE [U=0,P=24118]      sexec.c:306:main()                         : Creating/Verifying session directory: /tmp/.singularity-session-0.41.12294647133991167379
DEBUG   [U=0,P=24118]      sexec.c:320:main()                         : Setting shared lock on session directory
DEBUG   [U=0,P=24118]      sexec.c:331:main()                         : Caching info into sessiondir
DEBUG   [U=0,P=24118]      file.c:255:fileput()                       : Called fileput(/tmp/.singularity-session-0.41.12294647133991167379/image, nasmpi-singularity-3.img)
DEBUG   [U=0,P=24118]      sexec.c:337:main()                         : Checking for set loop device
DEBUG   [U=0,P=24118]      loop-control.c:52:obtain_loop_dev()        : Called obtain_loop_dev(void)
+ '[' -f /usr/local/etc/singularity/init ']'
+ . /usr/local/etc/singularity/init
++ unset module
++ PATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
++ HISTFILE=/dev/null
++ export PATH HISTFILE
++ '[' -n 4 ']'
++ SINGULARITY_NO_NAMESPACE_PID=1
++ export SINGULARITY_NO_NAMESPACE_PID
+ true
+ case $1 in
+ break
+ '[' -z /mnt/glusterfs/singularity/nasmpi-singularity-4.img ']'
+ SINGULARITY_IMAGE=/mnt/glusterfs/singularity/nasmpi-singularity-4.img
+ export SINGULARITY_IMAGE
+ shift
+ exec /usr/local/libexec/singularity/sexec /trace.sh /NPB/NPB3.3-MPI/bin/bt.C.4
VERBOSE [U=0,P=24119]      message.c:46:init()                        : Setting messagelevel to: 5
DEBUG   [U=0,P=24119]      sexec.c:127:main()                         : Gathering and caching user info.
DEBUG   [U=0,P=24119]      privilege.c:43:get_user_privs()            : Called get_user_privs(struct s_privinfo *uinfo)
DEBUG   [U=0,P=24119]      privilege.c:54:get_user_privs()            : Returning get_user_privs(struct s_privinfo *uinfo) = 0
DEBUG   [U=0,P=24119]      sexec.c:134:main()                         : Checking if we can escalate privs properly.
DEBUG   [U=0,P=24119]      privilege.c:61:escalate_privs()            : Called escalate_privs(void)
DEBUG   [U=0,P=24119]      privilege.c:73:escalate_privs()            : Returning escalate_privs(void) = 0
DEBUG   [U=0,P=24119]      sexec.c:141:main()                         : Setting privs to calling user
DEBUG   [U=0,P=24119]      privilege.c:79:drop_privs()                : Called drop_privs(struct s_privinfo *uinfo)
DEBUG   [U=0,P=24119]      privilege.c:87:drop_privs()                : Dropping privileges to GID = '0'
DEBUG   [U=0,P=24119]      privilege.c:93:drop_privs()                : Dropping privileges to UID = '0'
DEBUG   [U=0,P=24119]      privilege.c:103:drop_privs()               : Confirming we have correct GID
DEBUG   [U=0,P=24119]      privilege.c:109:drop_privs()               : Confirming we have correct UID
DEBUG   [U=0,P=24119]      privilege.c:115:drop_privs()               : Returning drop_privs(struct s_privinfo *uinfo) = 0
DEBUG   [U=0,P=24119]      sexec.c:146:main()                         : Obtaining user's homedir
DEBUG   [U=0,P=24119]      sexec.c:150:main()                         : Obtaining file descriptor to current directory
DEBUG   [U=0,P=24119]      sexec.c:155:main()                         : Getting current working directory path string
DEBUG   [U=0,P=24119]      sexec.c:161:main()                         : Obtaining SINGULARITY_COMMAND from environment
DEBUG   [U=0,P=24119]      sexec.c:168:main()                         : Obtaining SINGULARITY_IMAGE from environment
DEBUG   [U=0,P=24119]      sexec.c:174:main()                         : Checking container image is a file: /mnt/glusterfs/singularity/nasmpi-singularity-4.img
DEBUG   [U=0,P=24119]      sexec.c:180:main()                         : Building configuration file location
DEBUG   [U=0,P=24119]      sexec.c:183:main()                         : Config location: /usr/local/etc/singularity/singularity.conf
DEBUG   [U=0,P=24119]      sexec.c:185:main()                         : Checking Singularity configuration is a file: /usr/local/etc/singularity/singularity.conf
DEBUG   [U=0,P=24119]      sexec.c:191:main()                         : Checking Singularity configuration file is owned by root
DEBUG   [U=0,P=24119]      sexec.c:197:main()                         : Opening Singularity configuration file
DEBUG   [U=0,P=24119]      sexec.c:210:main()                         : Checking Singularity configuration for 'sessiondir prefix'
DEBUG   [U=0,P=24119]      config_parser.c:43:config_get_key_value()  : Called config_get_key_value(fp, sessiondir prefix)
DEBUG   [U=0,P=24119]      config_parser.c:61:config_get_key_value()  : Return config_get_key_value(fp, sessiondir prefix) = NULL
DEBUG   [U=0,P=24119]      file.c:48:file_id()                        : Called file_id(/mnt/glusterfs/singularity/nasmpi-singularity-4.img)
VERBOSE [U=0,P=24119]      file.c:58:file_id()                        : Generated file_id: 0.41.13155016723859133466
DEBUG   [U=0,P=24119]      file.c:60:file_id()                        : Returning file_id(/mnt/glusterfs/singularity/nasmpi-singularity-4.img) = 0.41.13155016723859133466
DEBUG   [U=0,P=24119]      sexec.c:217:main()                         : Set sessiondir to: /tmp/.singularity-session-0.41.13155016723859133466
DEBUG   [U=0,P=24119]      sexec.c:221:main()                         : Set containername to: nasmpi-singularity-4.img
DEBUG   [U=0,P=24119]      sexec.c:223:main()                         : Setting loop_dev_* paths
DEBUG   [U=0,P=24119]      sexec.c:229:main()                         : Set image mount path to: /usr/local/var/singularity/mnt
LOG     [U=0,P=24119]      sexec.c:231:main()                         : Command=exec, Container=/mnt/glusterfs/singularity/nasmpi-singularity-4.img, CWD=/home/rbosch/singularity, Arg1=/trace.sh
DEBUG   [U=0,P=24119]      sexec.c:236:main()                         : Set prompt to: Singularity/nasmpi-singularity-4.img> 
DEBUG   [U=0,P=24119]      sexec.c:238:main()                         : Checking if we are opening image as read/write
DEBUG   [U=0,P=24119]      sexec.c:240:main()                         : Opening image as read only: /mnt/glusterfs/singularity/nasmpi-singularity-4.img
DEBUG   [U=0,P=24119]      sexec.c:247:main()                         : Setting shared lock on file descriptor: 6
DEBUG   [U=0,P=24119]      sexec.c:267:main()                         : Checking for namespace daemon pidfile
DEBUG   [U=0,P=24119]      sexec.c:301:main()                         : Escalating privledges
DEBUG   [U=0,P=24119]      privilege.c:61:escalate_privs()            : Called escalate_privs(void)
DEBUG   [U=0,P=24119]      privilege.c:73:escalate_privs()            : Returning escalate_privs(void) = 0
VERBOSE [U=0,P=24119]      sexec.c:306:main()                         : Creating/Verifying session directory: /tmp/.singularity-session-0.41.13155016723859133466
DEBUG   [U=0,P=24119]      sexec.c:320:main()                         : Setting shared lock on session directory
DEBUG   [U=0,P=24119]      sexec.c:331:main()                         : Caching info into sessiondir
DEBUG   [U=0,P=24119]      file.c:255:fileput()                       : Called fileput(/tmp/.singularity-session-0.41.13155016723859133466/image, nasmpi-singularity-4.img)
DEBUG   [U=0,P=24119]      sexec.c:337:main()                         : Checking for set loop device
DEBUG   [U=0,P=24119]      loop-control.c:52:obtain_loop_dev()        : Called obtain_loop_dev(void)
DEBUG   [U=0,P=24116]      loop-control.c:66:obtain_loop_dev()        : Found available existing loop device number: 0
VERBOSE [U=0,P=24116]      loop-control.c:81:obtain_loop_dev()        : Using loop device: /dev/loop0
DEBUG   [U=0,P=24116]      loop-control.c:95:obtain_loop_dev()        : Returning obtain_loop_dev(void) = /dev/loop0
DEBUG   [U=0,P=24116]      loop-control.c:106:associate_loop()        : Called associate_loop(image_fp, loop_fp, 1)
DEBUG   [U=0,P=24116]      loop-control.c:109:associate_loop()        : Setting loop flags to LO_FLAGS_AUTOCLEAR
VERBOSE [U=0,P=24116]      image.c:39:image_offset()                  : Calculating image offset
DEBUG   [U=0,P=24117]      loop-control.c:106:associate_loop()        : Called associate_loop(image_fp, loop_fp, 1)
DEBUG   [U=0,P=24117]      loop-control.c:109:associate_loop()        : Setting loop flags to LO_FLAGS_AUTOCLEAR
VERBOSE [U=0,P=24117]      image.c:39:image_offset()                  : Calculating image offset
VERBOSE [U=0,P=24116]      image.c:48:image_offset()                  : Found image at an offset of 31 bytes
DEBUG   [U=0,P=24116]      image.c:53:image_offset()                  : Returning image_offset(image_fp) = 31
DEBUG   [U=0,P=24116]      loop-control.c:114:associate_loop()        : Setting image offset to: 31
VERBOSE [U=0,P=24116]      loop-control.c:116:associate_loop()        : Associating image to loop device
DEBUG   [U=0,P=24118]      loop-control.c:66:obtain_loop_dev()        : Found available existing loop device number: 0
VERBOSE [U=0,P=24118]      loop-control.c:81:obtain_loop_dev()        : Using loop device: /dev/loop0
DEBUG   [U=0,P=24118]      loop-control.c:95:obtain_loop_dev()        : Returning obtain_loop_dev(void) = /dev/loop0
DEBUG   [U=0,P=24118]      loop-control.c:106:associate_loop()        : Called associate_loop(image_fp, loop_fp, 1)
DEBUG   [U=0,P=24118]      loop-control.c:109:associate_loop()        : Setting loop flags to LO_FLAGS_AUTOCLEAR
VERBOSE [U=0,P=24118]      image.c:39:image_offset()                  : Calculating image offset
VERBOSE [U=0,P=24117]      image.c:48:image_offset()                  : Found image at an offset of 31 bytes
DEBUG   [U=0,P=24117]      image.c:53:image_offset()                  : Returning image_offset(image_fp) = 31
DEBUG   [U=0,P=24117]      loop-control.c:114:associate_loop()        : Setting image offset to: 31
VERBOSE [U=0,P=24117]      loop-control.c:116:associate_loop()        : Associating image to loop device
VERBOSE [U=0,P=24118]      image.c:48:image_offset()                  : Found image at an offset of 31 bytes
DEBUG   [U=0,P=24118]      image.c:53:image_offset()                  : Returning image_offset(image_fp) = 31
DEBUG   [U=0,P=24118]      loop-control.c:114:associate_loop()        : Setting image offset to: 31
VERBOSE [U=0,P=24118]      loop-control.c:116:associate_loop()        : Associating image to loop device
VERBOSE [U=0,P=24116]      loop-control.c:122:associate_loop()        : Setting loop device flags
DEBUG   [U=0,P=24116]      loop-control.c:130:associate_loop()        : Returning associate_loop(image_fp, loop_fp, 1) = 0
DEBUG   [U=0,P=24116]      file.c:255:fileput()                       : Called fileput(/tmp/.singularity-session-0.41.12911060245380037651/loop_dev, /dev/loop0)
DEBUG   [U=0,P=24116]      sexec.c:375:main()                         : Creating container image mount path: /usr/local/var/singularity/mnt
DEBUG   [U=0,P=24116]      sexec.c:441:main()                         : Checking to see if we are joining an existing namespace
ERROR: Failed to associate image to loop: Device or resource busy
ERROR: Failed to associate image to loop: Device or resource busy
VERBOSE [U=0,P=24116]      sexec.c:444:main()                         : Creating namespace process
DEBUG   [U=0,P=24116]      privilege.c:79:drop_privs()                : Called drop_privs(struct s_privinfo *uinfo)
DEBUG   [U=0,P=24116]      privilege.c:87:drop_privs()                : Dropping privileges to GID = '0'
DEBUG   [U=0,P=24116]      privilege.c:93:drop_privs()                : Dropping privileges to UID = '0'
DEBUG   [U=0,P=24116]      privilege.c:103:drop_privs()               : Confirming we have correct GID
DEBUG   [U=0,P=24116]      privilege.c:109:drop_privs()               : Confirming we have correct UID
DEBUG   [U=0,P=24116]      privilege.c:115:drop_privs()               : Returning drop_privs(struct s_privinfo *uinfo) = 0
DEBUG   [U=0,P=24124]      sexec.c:449:main()                         : Hello from namespace child process
VERBOSE [U=0,P=24124]      sexec.c:461:main()                         : Not virtualizing PID namespace
DEBUG   [U=0,P=24124]      sexec.c:480:main()                         : Virtualizing FS namespace
DEBUG   [U=0,P=24124]      sexec.c:488:main()                         : Virtualizing mount namespace
DEBUG   [U=0,P=24124]      sexec.c:495:main()                         : Making mounts private
DEBUG   [U=0,P=24124]      sexec.c:505:main()                         : Mounting Singularity image file read/write
DEBUG   [U=0,P=24124]      mounts.c:48:mount_image()                  : Called mount_image(/dev/loop0, /usr/local/var/singularity/mnt, 0)
DEBUG   [U=0,P=24124]      mounts.c:50:mount_image()                  : Checking mount point is present
DEBUG   [U=0,P=24124]      mounts.c:56:mount_image()                  : Checking loop is a block device
DEBUG   [U=0,P=24124]      mounts.c:75:mount_image()                  : Trying to mount read only as ext4 with discard option
DEBUG   [U=0,P=24124]      mounts.c:88:mount_image()                  : Returning mount_image(/dev/loop0, /usr/local/var/singularity/mnt, 0) = 0
DEBUG   [U=0,P=24124]      sexec.c:518:main()                         : Checking if container has /bin/sh
DEBUG   [U=0,P=24124]      sexec.c:526:main()                         : Checking to see if we should do bind mounts
DEBUG   [U=0,P=24124]      sexec.c:530:main()                         : Checking configuration file for 'mount home'
DEBUG   [U=0,P=24124]      config_parser.c:69:config_get_key_bool()   : Called config_get_key_bool(fp, mount home, 1)
DEBUG   [U=0,P=24124]      config_parser.c:43:config_get_key_value()  : Called config_get_key_value(fp, mount home)
DEBUG   [U=0,P=24124]      config_parser.c:54:config_get_key_value()  : Return config_get_key_value(fp, mount home) = yes
DEBUG   [U=0,P=24124]      config_parser.c:75:config_get_key_bool()   : Return config_get_key_bool(fp, mount home, 1) = 1
VERBOSE [U=0,P=24124]      sexec.c:536:main()                         : Mounting home directory base path: /root
DEBUG   [U=0,P=24124]      mounts.c:96:mount_bind()                   : Called mount_bind(/root, 36761808, 1)
DEBUG   [U=0,P=24124]      mounts.c:98:mount_bind()                   : Checking that source exists and is a file or directory
DEBUG   [U=0,P=24124]      mounts.c:104:mount_bind()                  : Checking that destination exists and is a file or directory
DEBUG   [U=0,P=24124]      mounts.c:110:mount_bind()                  : Calling mount(/root, /usr/local/var/singularity/mnt//root, ...)
DEBUG   [U=0,P=24124]      mounts.c:124:mount_bind()                  : Returning mount_bind(/root, 36761808, 1) = 0
DEBUG   [U=0,P=24124]      sexec.c:551:main()                         : Checking configuration file for 'bind path'
DEBUG   [U=0,P=24124]      config_parser.c:43:config_get_key_value()  : Called config_get_key_value(fp, bind path)
DEBUG   [U=0,P=24124]      config_parser.c:54:config_get_key_value()  : Return config_get_key_value(fp, bind path) = /etc/resolv.conf
VERBOSE [U=0,P=24124]      sexec.c:566:main()                         : Found 'bind path' = /etc/resolv.conf, /etc/resolv.conf
VERBOSE [U=0,P=24124]      sexec.c:583:main()                         : Binding '/etc/resolv.conf' to 'nasmpi-singularity.img:/etc/resolv.conf'
DEBUG   [U=0,P=24124]      mounts.c:96:mount_bind()                   : Called mount_bind(/etc/resolv.conf, 36764912, 1)
DEBUG   [U=0,P=24124]      mounts.c:98:mount_bind()                   : Checking that source exists and is a file or directory
DEBUG   [U=0,P=24124]      mounts.c:104:mount_bind()                  : Checking that destination exists and is a file or directory
DEBUG   [U=0,P=24124]      mounts.c:110:mount_bind()                  : Calling mount(/etc/resolv.conf, /usr/local/var/singularity/mnt//etc/resolv.conf, ...)
DEBUG   [U=0,P=24124]      mounts.c:124:mount_bind()                  : Returning mount_bind(/etc/resolv.conf, 36764912, 1) = 0
DEBUG   [U=0,P=24124]      config_parser.c:43:config_get_key_value()  : Called config_get_key_value(fp, bind path)
DEBUG   [U=0,P=24124]      config_parser.c:54:config_get_key_value()  : Return config_get_key_value(fp, bind path) = /etc/hosts
VERBOSE [U=0,P=24124]      sexec.c:566:main()                         : Found 'bind path' = /etc/hosts, /etc/hosts
VERBOSE [U=0,P=24124]      sexec.c:583:main()                         : Binding '/etc/hosts' to 'nasmpi-singularity.img:/etc/hosts'
DEBUG   [U=0,P=24124]      mounts.c:96:mount_bind()                   : Called mount_bind(/etc/hosts, 36767520, 1)
DEBUG   [U=0,P=24124]      mounts.c:98:mount_bind()                   : Checking that source exists and is a file or directory
DEBUG   [U=0,P=24124]      mounts.c:104:mount_bind()                  : Checking that destination exists and is a file or directory
DEBUG   [U=0,P=24124]      mounts.c:110:mount_bind()                  : Calling mount(/etc/hosts, /usr/local/var/singularity/mnt//etc/hosts, ...)
DEBUG   [U=0,P=24124]      mounts.c:124:mount_bind()                  : Returning mount_bind(/etc/hosts, 36767520, 1) = 0
DEBUG   [U=0,P=24124]      config_parser.c:43:config_get_key_value()  : Called config_get_key_value(fp, bind path)
DEBUG   [U=0,P=24124]      config_parser.c:54:config_get_key_value()  : Return config_get_key_value(fp, bind path) = /dev
VERBOSE [U=0,P=24124]      sexec.c:566:main()                         : Found 'bind path' = /dev, /dev
VERBOSE [U=0,P=24124]      sexec.c:583:main()                         : Binding '/dev' to 'nasmpi-singularity.img:/dev'
DEBUG   [U=0,P=24124]      mounts.c:96:mount_bind()                   : Called mount_bind(/dev, 36769824, 1)
DEBUG   [U=0,P=24124]      mounts.c:98:mount_bind()                   : Checking that source exists and is a file or directory
DEBUG   [U=0,P=24124]      mounts.c:104:mount_bind()                  : Checking that destination exists and is a file or directory
DEBUG   [U=0,P=24124]      mounts.c:110:mount_bind()                  : Calling mount(/dev, /usr/local/var/singularity/mnt//dev, ...)
DEBUG   [U=0,P=24124]      mounts.c:124:mount_bind()                  : Returning mount_bind(/dev, 36769824, 1) = 0
DEBUG   [U=0,P=24124]      config_parser.c:43:config_get_key_value()  : Called config_get_key_value(fp, bind path)
DEBUG   [U=0,P=24124]      config_parser.c:54:config_get_key_value()  : Return config_get_key_value(fp, bind path) = /tmp
VERBOSE [U=0,P=24124]      sexec.c:566:main()                         : Found 'bind path' = /tmp, /tmp
VERBOSE [U=0,P=24124]      sexec.c:583:main()                         : Binding '/tmp' to 'nasmpi-singularity.img:/tmp'
DEBUG   [U=0,P=24124]      mounts.c:96:mount_bind()                   : Called mount_bind(/tmp, 36772368, 1)
DEBUG   [U=0,P=24124]      mounts.c:98:mount_bind()                   : Checking that source exists and is a file or directory
DEBUG   [U=0,P=24124]      mounts.c:104:mount_bind()                  : Checking that destination exists and is a file or directory
DEBUG   [U=0,P=24124]      mounts.c:110:mount_bind()                  : Calling mount(/tmp, /usr/local/var/singularity/mnt//tmp, ...)
DEBUG   [U=0,P=24124]      mounts.c:124:mount_bind()                  : Returning mount_bind(/tmp, 36772368, 1) = 0
DEBUG   [U=0,P=24124]      config_parser.c:43:config_get_key_value()  : Called config_get_key_value(fp, bind path)
DEBUG   [U=0,P=24124]      config_parser.c:54:config_get_key_value()  : Return config_get_key_value(fp, bind path) = /var/tmp
VERBOSE [U=0,P=24124]      sexec.c:566:main()                         : Found 'bind path' = /var/tmp, /var/tmp
VERBOSE [U=0,P=24124]      sexec.c:583:main()                         : Binding '/var/tmp' to 'nasmpi-singularity.img:/var/tmp'
DEBUG   [U=0,P=24124]      mounts.c:96:mount_bind()                   : Called mount_bind(/var/tmp, 36774928, 1)
DEBUG   [U=0,P=24124]      mounts.c:98:mount_bind()                   : Checking that source exists and is a file or directory
DEBUG   [U=0,P=24124]      mounts.c:104:mount_bind()                  : Checking that destination exists and is a file or directory
DEBUG   [U=0,P=24124]      mounts.c:110:mount_bind()                  : Calling mount(/var/tmp, /usr/local/var/singularity/mnt//var/tmp, ...)
DEBUG   [U=0,P=24124]      mounts.c:124:mount_bind()                  : Returning mount_bind(/var/tmp, 36774928, 1) = 0
DEBUG   [U=0,P=24124]      config_parser.c:43:config_get_key_value()  : Called config_get_key_value(fp, bind path)
DEBUG   [U=0,P=24124]      config_parser.c:54:config_get_key_value()  : Return config_get_key_value(fp, bind path) = /home
VERBOSE [U=0,P=24124]      sexec.c:566:main()                         : Found 'bind path' = /home, /home
VERBOSE [U=0,P=24124]      sexec.c:583:main()                         : Binding '/home' to 'nasmpi-singularity.img:/home'
DEBUG   [U=0,P=24124]      mounts.c:96:mount_bind()                   : Called mount_bind(/home, 36777520, 1)
DEBUG   [U=0,P=24124]      mounts.c:98:mount_bind()                   : Checking that source exists and is a file or directory
DEBUG   [U=0,P=24124]      mounts.c:104:mount_bind()                  : Checking that destination exists and is a file or directory
DEBUG   [U=0,P=24124]      mounts.c:110:mount_bind()                  : Calling mount(/home, /usr/local/var/singularity/mnt//home, ...)
DEBUG   [U=0,P=24124]      mounts.c:124:mount_bind()                  : Returning mount_bind(/home, 36777520, 1) = 0
DEBUG   [U=0,P=24124]      config_parser.c:43:config_get_key_value()  : Called config_get_key_value(fp, bind path)
DEBUG   [U=0,P=24124]      config_parser.c:61:config_get_key_value()  : Return config_get_key_value(fp, bind path) = NULL
VERBOSE [U=0,P=24124]      sexec.c:633:main()                         : Not staging passwd or group (running as root)
VERBOSE [U=0,P=24124]      sexec.c:638:main()                         : Forking exec process
DEBUG   [U=0,P=24124]      sexec.c:770:main()                         : Dropping privs...
DEBUG   [U=0,P=24124]      privilege.c:79:drop_privs()                : Called drop_privs(struct s_privinfo *uinfo)
DEBUG   [U=0,P=24124]      privilege.c:87:drop_privs()                : Dropping privileges to GID = '0'
DEBUG   [U=0,P=24124]      privilege.c:93:drop_privs()                : Dropping privileges to UID = '0'
DEBUG   [U=0,P=24124]      privilege.c:103:drop_privs()               : Confirming we have correct GID
DEBUG   [U=0,P=24124]      privilege.c:109:drop_privs()               : Confirming we have correct UID
DEBUG   [U=0,P=24124]      privilege.c:115:drop_privs()               : Returning drop_privs(struct s_privinfo *uinfo) = 0
VERBOSE [U=0,P=24124]      sexec.c:776:main()                         : Waiting for Exec process...
DEBUG   [U=0,P=24133]      sexec.c:642:main()                         : Hello from exec child process
VERBOSE [U=0,P=24133]      sexec.c:644:main()                         : Entering container file system space
DEBUG   [U=0,P=24133]      sexec.c:649:main()                         : Changing dir to '/' within the new root
DEBUG   [U=0,P=24133]      sexec.c:657:main()                         : Checking configuration file for 'mount proc'
DEBUG   [U=0,P=24133]      config_parser.c:69:config_get_key_bool()   : Called config_get_key_bool(fp, mount proc, 1)
DEBUG   [U=0,P=24133]      config_parser.c:43:config_get_key_value()  : Called config_get_key_value(fp, mount proc)
DEBUG   [U=0,P=24133]      config_parser.c:54:config_get_key_value()  : Return config_get_key_value(fp, mount proc) = yes
DEBUG   [U=0,P=24133]      config_parser.c:75:config_get_key_bool()   : Return config_get_key_bool(fp, mount proc, 1) = 1
VERBOSE [U=0,P=24133]      sexec.c:661:main()                         : Mounting /proc
DEBUG   [U=0,P=24133]      sexec.c:674:main()                         : Checking configuration file for 'mount sys'
DEBUG   [U=0,P=24133]      config_parser.c:69:config_get_key_bool()   : Called config_get_key_bool(fp, mount sys, 1)
DEBUG   [U=0,P=24133]      config_parser.c:43:config_get_key_value()  : Called config_get_key_value(fp, mount sys)
DEBUG   [U=0,P=24133]      config_parser.c:54:config_get_key_value()  : Return config_get_key_value(fp, mount sys) = yes
DEBUG   [U=0,P=24133]      config_parser.c:75:config_get_key_bool()   : Return config_get_key_bool(fp, mount sys, 1) = 1
VERBOSE [U=0,P=24133]      sexec.c:678:main()                         : Mounting /sys
VERBOSE [U=0,P=24133]      sexec.c:692:main()                         : Dropping all privileges
DEBUG   [U=0,P=24133]      privilege.c:121:drop_privs_perm()          : Called drop_privs_perm(struct s_privinfo *uinfo)
DEBUG   [U=0,P=24133]      privilege.c:129:drop_privs_perm()          : Resetting supplementary groups
DEBUG   [U=0,P=24133]      privilege.c:135:drop_privs_perm()          : Dropping real and effective privileges to GID = '0'
DEBUG   [U=0,P=24133]      privilege.c:141:drop_privs_perm()          : Dropping real and effective privileges to UID = '0'
DEBUG   [U=0,P=24133]      privilege.c:151:drop_privs_perm()          : Confirming we have correct GID
DEBUG   [U=0,P=24133]      privilege.c:157:drop_privs_perm()          : Confirming we have correct UID
DEBUG   [U=0,P=24133]      privilege.c:163:drop_privs_perm()          : Returning drop_privs_perm(struct s_privinfo *uinfo) = 0
VERBOSE [U=0,P=24133]      sexec.c:699:main()                         : Changing to correct working directory: /home/rbosch/singularity
DEBUG   [U=0,P=24133]      sexec.c:713:main()                         : Setting environment variable 'SINGULARITY_CONTAINER=1'
VERBOSE [U=0,P=24133]      sexec.c:732:main()                         : COMMAND=exec
DEBUG   [U=0,P=24133]      container_actions.c:59:container_exec()    : Called container_exec(3, **argv)
VERBOSE [U=0,P=24133]      container_actions.c:65:container_exec()    : Exec'ing program: /trace.sh
/bin/bash: warning: setlocale: LC_ALL: cannot change locale (en_US.UTF-8)
DEBUG   [U=0,P=24119]      loop-control.c:66:obtain_loop_dev()        : Found available existing loop device number: 1
VERBOSE [U=0,P=24119]      loop-control.c:81:obtain_loop_dev()        : Using loop device: /dev/loop1
DEBUG   [U=0,P=24119]      loop-control.c:95:obtain_loop_dev()        : Returning obtain_loop_dev(void) = /dev/loop1
DEBUG   [U=0,P=24119]      loop-control.c:106:associate_loop()        : Called associate_loop(image_fp, loop_fp, 1)
DEBUG   [U=0,P=24119]      loop-control.c:109:associate_loop()        : Setting loop flags to LO_FLAGS_AUTOCLEAR
VERBOSE [U=0,P=24119]      image.c:39:image_offset()                  : Calculating image offset
VERBOSE [U=0,P=24119]      image.c:48:image_offset()                  : Found image at an offset of 31 bytes
DEBUG   [U=0,P=24119]      image.c:53:image_offset()                  : Returning image_offset(image_fp) = 31
DEBUG   [U=0,P=24119]      loop-control.c:114:associate_loop()        : Setting image offset to: 31
VERBOSE [U=0,P=24119]      loop-control.c:116:associate_loop()        : Associating image to loop device
VERBOSE [U=0,P=24119]      loop-control.c:122:associate_loop()        : Setting loop device flags
DEBUG   [U=0,P=24119]      loop-control.c:130:associate_loop()        : Returning associate_loop(image_fp, loop_fp, 1) = 0
DEBUG   [U=0,P=24119]      file.c:255:fileput()                       : Called fileput(/tmp/.singularity-session-0.41.13155016723859133466/loop_dev, /dev/loop1)
DEBUG   [U=0,P=24119]      sexec.c:375:main()                         : Creating container image mount path: /usr/local/var/singularity/mnt
DEBUG   [U=0,P=24119]      sexec.c:441:main()                         : Checking to see if we are joining an existing namespace
VERBOSE [U=0,P=24119]      sexec.c:444:main()                         : Creating namespace process
DEBUG   [U=0,P=24119]      privilege.c:79:drop_privs()                : Called drop_privs(struct s_privinfo *uinfo)
DEBUG   [U=0,P=24119]      privilege.c:87:drop_privs()                : Dropping privileges to GID = '0'
DEBUG   [U=0,P=24119]      privilege.c:93:drop_privs()                : Dropping privileges to UID = '0'
DEBUG   [U=0,P=24119]      privilege.c:103:drop_privs()               : Confirming we have correct GID
DEBUG   [U=0,P=24119]      privilege.c:109:drop_privs()               : Confirming we have correct UID
DEBUG   [U=0,P=24119]      privilege.c:115:drop_privs()               : Returning drop_privs(struct s_privinfo *uinfo) = 0
DEBUG   [U=0,P=24141]      sexec.c:449:main()                         : Hello from namespace child process
VERBOSE [U=0,P=24141]      sexec.c:461:main()                         : Not virtualizing PID namespace
DEBUG   [U=0,P=24141]      sexec.c:480:main()                         : Virtualizing FS namespace
DEBUG   [U=0,P=24141]      sexec.c:488:main()                         : Virtualizing mount namespace
DEBUG   [U=0,P=24141]      sexec.c:495:main()                         : Making mounts private
DEBUG   [U=0,P=24141]      sexec.c:505:main()                         : Mounting Singularity image file read/write
DEBUG   [U=0,P=24141]      mounts.c:48:mount_image()                  : Called mount_image(/dev/loop1, /usr/local/var/singularity/mnt, 0)
DEBUG   [U=0,P=24141]      mounts.c:50:mount_image()                  : Checking mount point is present
DEBUG   [U=0,P=24141]      mounts.c:56:mount_image()                  : Checking loop is a block device
DEBUG   [U=0,P=24141]      mounts.c:75:mount_image()                  : Trying to mount read only as ext4 with discard option
DEBUG   [U=0,P=24141]      mounts.c:88:mount_image()                  : Returning mount_image(/dev/loop1, /usr/local/var/singularity/mnt, 0) = 0
DEBUG   [U=0,P=24141]      sexec.c:518:main()                         : Checking if container has /bin/sh
DEBUG   [U=0,P=24141]      sexec.c:526:main()                         : Checking to see if we should do bind mounts
DEBUG   [U=0,P=24141]      sexec.c:530:main()                         : Checking configuration file for 'mount home'
DEBUG   [U=0,P=24141]      config_parser.c:69:config_get_key_bool()   : Called config_get_key_bool(fp, mount home, 1)
DEBUG   [U=0,P=24141]      config_parser.c:43:config_get_key_value()  : Called config_get_key_value(fp, mount home)
DEBUG   [U=0,P=24141]      config_parser.c:54:config_get_key_value()  : Return config_get_key_value(fp, mount home) = yes
DEBUG   [U=0,P=24141]      config_parser.c:75:config_get_key_bool()   : Return config_get_key_bool(fp, mount home, 1) = 1
VERBOSE [U=0,P=24141]      sexec.c:536:main()                         : Mounting home directory base path: /root
DEBUG   [U=0,P=24141]      mounts.c:96:mount_bind()                   : Called mount_bind(/root, 20873504, 1)
DEBUG   [U=0,P=24141]      mounts.c:98:mount_bind()                   : Checking that source exists and is a file or directory
DEBUG   [U=0,P=24141]      mounts.c:104:mount_bind()                  : Checking that destination exists and is a file or directory
DEBUG   [U=0,P=24141]      mounts.c:110:mount_bind()                  : Calling mount(/root, /usr/local/var/singularity/mnt//root, ...)
DEBUG   [U=0,P=24141]      mounts.c:124:mount_bind()                  : Returning mount_bind(/root, 20873504, 1) = 0
DEBUG   [U=0,P=24141]      sexec.c:551:main()                         : Checking configuration file for 'bind path'
DEBUG   [U=0,P=24141]      config_parser.c:43:config_get_key_value()  : Called config_get_key_value(fp, bind path)
DEBUG   [U=0,P=24141]      config_parser.c:54:config_get_key_value()  : Return config_get_key_value(fp, bind path) = /etc/resolv.conf
VERBOSE [U=0,P=24141]      sexec.c:566:main()                         : Found 'bind path' = /etc/resolv.conf, /etc/resolv.conf
VERBOSE [U=0,P=24141]      sexec.c:583:main()                         : Binding '/etc/resolv.conf' to 'nasmpi-singularity-4.img:/etc/resolv.conf'
DEBUG   [U=0,P=24141]      mounts.c:96:mount_bind()                   : Called mount_bind(/etc/resolv.conf, 20876608, 1)
DEBUG   [U=0,P=24141]      mounts.c:98:mount_bind()                   : Checking that source exists and is a file or directory
DEBUG   [U=0,P=24141]      mounts.c:104:mount_bind()                  : Checking that destination exists and is a file or directory
DEBUG   [U=0,P=24141]      mounts.c:110:mount_bind()                  : Calling mount(/etc/resolv.conf, /usr/local/var/singularity/mnt//etc/resolv.conf, ...)
DEBUG   [U=0,P=24141]      mounts.c:124:mount_bind()                  : Returning mount_bind(/etc/resolv.conf, 20876608, 1) = 0
DEBUG   [U=0,P=24141]      config_parser.c:43:config_get_key_value()  : Called config_get_key_value(fp, bind path)
DEBUG   [U=0,P=24141]      config_parser.c:54:config_get_key_value()  : Return config_get_key_value(fp, bind path) = /etc/hosts
VERBOSE [U=0,P=24141]      sexec.c:566:main()                         : Found 'bind path' = /etc/hosts, /etc/hosts
VERBOSE [U=0,P=24141]      sexec.c:583:main()                         : Binding '/etc/hosts' to 'nasmpi-singularity-4.img:/etc/hosts'
DEBUG   [U=0,P=24141]      mounts.c:96:mount_bind()                   : Called mount_bind(/etc/hosts, 20879216, 1)
DEBUG   [U=0,P=24141]      mounts.c:98:mount_bind()                   : Checking that source exists and is a file or directory
DEBUG   [U=0,P=24141]      mounts.c:104:mount_bind()                  : Checking that destination exists and is a file or directory
DEBUG   [U=0,P=24141]      mounts.c:110:mount_bind()                  : Calling mount(/etc/hosts, /usr/local/var/singularity/mnt//etc/hosts, ...)
DEBUG   [U=0,P=24141]      mounts.c:124:mount_bind()                  : Returning mount_bind(/etc/hosts, 20879216, 1) = 0
DEBUG   [U=0,P=24141]      config_parser.c:43:config_get_key_value()  : Called config_get_key_value(fp, bind path)
DEBUG   [U=0,P=24141]      config_parser.c:54:config_get_key_value()  : Return config_get_key_value(fp, bind path) = /dev
VERBOSE [U=0,P=24141]      sexec.c:566:main()                         : Found 'bind path' = /dev, /dev
VERBOSE [U=0,P=24141]      sexec.c:583:main()                         : Binding '/dev' to 'nasmpi-singularity-4.img:/dev'
DEBUG   [U=0,P=24141]      mounts.c:96:mount_bind()                   : Called mount_bind(/dev, 20881520, 1)
DEBUG   [U=0,P=24141]      mounts.c:98:mount_bind()                   : Checking that source exists and is a file or directory
DEBUG   [U=0,P=24141]      mounts.c:104:mount_bind()                  : Checking that destination exists and is a file or directory
DEBUG   [U=0,P=24141]      mounts.c:110:mount_bind()                  : Calling mount(/dev, /usr/local/var/singularity/mnt//dev, ...)
DEBUG   [U=0,P=24141]      mounts.c:124:mount_bind()                  : Returning mount_bind(/dev, 20881520, 1) = 0
DEBUG   [U=0,P=24141]      config_parser.c:43:config_get_key_value()  : Called config_get_key_value(fp, bind path)
DEBUG   [U=0,P=24141]      config_parser.c:54:config_get_key_value()  : Return config_get_key_value(fp, bind path) = /tmp
VERBOSE [U=0,P=24141]      sexec.c:566:main()                         : Found 'bind path' = /tmp, /tmp
VERBOSE [U=0,P=24141]      sexec.c:583:main()                         : Binding '/tmp' to 'nasmpi-singularity-4.img:/tmp'
DEBUG   [U=0,P=24141]      mounts.c:96:mount_bind()                   : Called mount_bind(/tmp, 20884064, 1)
DEBUG   [U=0,P=24141]      mounts.c:98:mount_bind()                   : Checking that source exists and is a file or directory
DEBUG   [U=0,P=24141]      mounts.c:104:mount_bind()                  : Checking that destination exists and is a file or directory
DEBUG   [U=0,P=24141]      mounts.c:110:mount_bind()                  : Calling mount(/tmp, /usr/local/var/singularity/mnt//tmp, ...)
DEBUG   [U=0,P=24141]      mounts.c:124:mount_bind()                  : Returning mount_bind(/tmp, 20884064, 1) = 0
DEBUG   [U=0,P=24141]      config_parser.c:43:config_get_key_value()  : Called config_get_key_value(fp, bind path)
DEBUG   [U=0,P=24141]      config_parser.c:54:config_get_key_value()  : Return config_get_key_value(fp, bind path) = /var/tmp
VERBOSE [U=0,P=24141]      sexec.c:566:main()                         : Found 'bind path' = /var/tmp, /var/tmp
VERBOSE [U=0,P=24141]      sexec.c:583:main()                         : Binding '/var/tmp' to 'nasmpi-singularity-4.img:/var/tmp'
DEBUG   [U=0,P=24141]      mounts.c:96:mount_bind()                   : Called mount_bind(/var/tmp, 20886624, 1)
DEBUG   [U=0,P=24141]      mounts.c:98:mount_bind()                   : Checking that source exists and is a file or directory
DEBUG   [U=0,P=24141]      mounts.c:104:mount_bind()                  : Checking that destination exists and is a file or directory
DEBUG   [U=0,P=24141]      mounts.c:110:mount_bind()                  : Calling mount(/var/tmp, /usr/local/var/singularity/mnt//var/tmp, ...)
DEBUG   [U=0,P=24141]      mounts.c:124:mount_bind()                  : Returning mount_bind(/var/tmp, 20886624, 1) = 0
DEBUG   [U=0,P=24141]      config_parser.c:43:config_get_key_value()  : Called config_get_key_value(fp, bind path)
DEBUG   [U=0,P=24141]      config_parser.c:54:config_get_key_value()  : Return config_get_key_value(fp, bind path) = /home
VERBOSE [U=0,P=24141]      sexec.c:566:main()                         : Found 'bind path' = /home, /home
VERBOSE [U=0,P=24141]      sexec.c:583:main()                         : Binding '/home' to 'nasmpi-singularity-4.img:/home'
DEBUG   [U=0,P=24141]      mounts.c:96:mount_bind()                   : Called mount_bind(/home, 20889216, 1)
DEBUG   [U=0,P=24141]      mounts.c:98:mount_bind()                   : Checking that source exists and is a file or directory
DEBUG   [U=0,P=24141]      mounts.c:104:mount_bind()                  : Checking that destination exists and is a file or directory
DEBUG   [U=0,P=24141]      mounts.c:110:mount_bind()                  : Calling mount(/home, /usr/local/var/singularity/mnt//home, ...)
DEBUG   [U=0,P=24141]      mounts.c:124:mount_bind()                  : Returning mount_bind(/home, 20889216, 1) = 0
DEBUG   [U=0,P=24141]      config_parser.c:43:config_get_key_value()  : Called config_get_key_value(fp, bind path)
DEBUG   [U=0,P=24141]      config_parser.c:61:config_get_key_value()  : Return config_get_key_value(fp, bind path) = NULL
VERBOSE [U=0,P=24141]      sexec.c:633:main()                         : Not staging passwd or group (running as root)
VERBOSE [U=0,P=24141]      sexec.c:638:main()                         : Forking exec process
DEBUG   [U=0,P=24141]      sexec.c:770:main()                         : Dropping privs...
DEBUG   [U=0,P=24141]      privilege.c:79:drop_privs()                : Called drop_privs(struct s_privinfo *uinfo)
DEBUG   [U=0,P=24141]      privilege.c:87:drop_privs()                : Dropping privileges to GID = '0'
DEBUG   [U=0,P=24141]      privilege.c:93:drop_privs()                : Dropping privileges to UID = '0'
DEBUG   [U=0,P=24141]      privilege.c:103:drop_privs()               : Confirming we have correct GID
DEBUG   [U=0,P=24141]      privilege.c:109:drop_privs()               : Confirming we have correct UID
DEBUG   [U=0,P=24141]      privilege.c:115:drop_privs()               : Returning drop_privs(struct s_privinfo *uinfo) = 0
VERBOSE [U=0,P=24141]      sexec.c:776:main()                         : Waiting for Exec process...
DEBUG   [U=0,P=24146]      sexec.c:642:main()                         : Hello from exec child process
VERBOSE [U=0,P=24146]      sexec.c:644:main()                         : Entering container file system space
DEBUG   [U=0,P=24146]      sexec.c:649:main()                         : Changing dir to '/' within the new root
DEBUG   [U=0,P=24146]      sexec.c:657:main()                         : Checking configuration file for 'mount proc'
DEBUG   [U=0,P=24146]      config_parser.c:69:config_get_key_bool()   : Called config_get_key_bool(fp, mount proc, 1)
DEBUG   [U=0,P=24146]      config_parser.c:43:config_get_key_value()  : Called config_get_key_value(fp, mount proc)
DEBUG   [U=0,P=24146]      config_parser.c:54:config_get_key_value()  : Return config_get_key_value(fp, mount proc) = yes
DEBUG   [U=0,P=24146]      config_parser.c:75:config_get_key_bool()   : Return config_get_key_bool(fp, mount proc, 1) = 1
VERBOSE [U=0,P=24146]      sexec.c:661:main()                         : Mounting /proc
DEBUG   [U=0,P=24146]      sexec.c:674:main()                         : Checking configuration file for 'mount sys'
DEBUG   [U=0,P=24146]      config_parser.c:69:config_get_key_bool()   : Called config_get_key_bool(fp, mount sys, 1)
DEBUG   [U=0,P=24146]      config_parser.c:43:config_get_key_value()  : Called config_get_key_value(fp, mount sys)
DEBUG   [U=0,P=24146]      config_parser.c:54:config_get_key_value()  : Return config_get_key_value(fp, mount sys) = yes
DEBUG   [U=0,P=24146]      config_parser.c:75:config_get_key_bool()   : Return config_get_key_bool(fp, mount sys, 1) = 1
VERBOSE [U=0,P=24146]      sexec.c:678:main()                         : Mounting /sys
VERBOSE [U=0,P=24146]      sexec.c:692:main()                         : Dropping all privileges
DEBUG   [U=0,P=24146]      privilege.c:121:drop_privs_perm()          : Called drop_privs_perm(struct s_privinfo *uinfo)
DEBUG   [U=0,P=24146]      privilege.c:129:drop_privs_perm()          : Resetting supplementary groups
DEBUG   [U=0,P=24146]      privilege.c:135:drop_privs_perm()          : Dropping real and effective privileges to GID = '0'
DEBUG   [U=0,P=24146]      privilege.c:141:drop_privs_perm()          : Dropping real and effective privileges to UID = '0'
DEBUG   [U=0,P=24146]      privilege.c:151:drop_privs_perm()          : Confirming we have correct GID
DEBUG   [U=0,P=24146]      privilege.c:157:drop_privs_perm()          : Confirming we have correct UID
DEBUG   [U=0,P=24146]      privilege.c:163:drop_privs_perm()          : Returning drop_privs_perm(struct s_privinfo *uinfo) = 0
VERBOSE [U=0,P=24146]      sexec.c:699:main()                         : Changing to correct working directory: /home/rbosch/singularity
DEBUG   [U=0,P=24146]      sexec.c:713:main()                         : Setting environment variable 'SINGULARITY_CONTAINER=1'
VERBOSE [U=0,P=24146]      sexec.c:732:main()                         : COMMAND=exec
DEBUG   [U=0,P=24146]      container_actions.c:59:container_exec()    : Called container_exec(3, **argv)
VERBOSE [U=0,P=24146]      container_actions.c:65:container_exec()    : Exec'ing program: /trace.sh
/bin/bash: warning: setlocale: LC_ALL: cannot change locale (en_US.UTF-8)
--------------------------------------------------------------------------
mpirun has exited due to process rank 1 with PID 24117 on
node bscgrid30 exiting improperly. There are two reasons this could occur:

1. this process did not call "init" before exiting, but others in
the job did. This can cause a job to hang indefinitely while it waits
for all processes to call "init". By rule, if one process calls "init",
then ALL processes must call "init" prior to termination.

2. this process called "init", but exited without calling "finalize".
By rule, all processes that call "init" MUST call "finalize" prior to
exiting or it will be considered an "abnormal termination"

This may have caused other processes in the application to be
terminated by signals sent by mpirun (as reported here).
--------------------------------------------------------------------------

------=_Part_31_878540389.1467876750809--
