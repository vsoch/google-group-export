X-Received: by 10.99.64.129 with SMTP id n123mr3841613pga.61.1488817038609;
        Mon, 06 Mar 2017 08:17:18 -0800 (PST)
X-BeenThere: singularity@lbl.gov
Received: by 10.107.26.142 with SMTP id a136ls2048958ioa.12.gmail; Mon, 06 Mar
 2017 08:17:17 -0800 (PST)
X-Received: by 10.84.234.8 with SMTP id m8mr27888922plk.25.1488817037675;
        Mon, 06 Mar 2017 08:17:17 -0800 (PST)
Return-Path: <jessezh...@gmail.com>
Received: from fe3.lbl.gov (fe3.lbl.gov. [128.3.41.68])
        by mx.google.com with ESMTP id e15si19477753pln.321.2017.03.06.08.17.17
        for <singu...@lbl.gov>;
        Mon, 06 Mar 2017 08:17:17 -0800 (PST)
Received-SPF: pass (google.com: domain of jessezh...@gmail.com designates 74.125.82.171 as permitted sender) client-ip=74.125.82.171;
Authentication-Results: mx.google.com;
       dkim=pass head...@gmail.com;
       spf=pass (google.com: domain of jessezh...@gmail.com designates 74.125.82.171 as permitted sender) smtp.mailfrom=jessezh...@gmail.com
X-Ironport-SBRS: 3.4
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: A2E2AQBlir1YhqtSfUobA0AcAQEEAQEKAQEXAQEEAQEKAQGCQ4FEgQoHg1AIig2RRYJkihsghHODJYFKGyUDHwEGgXOCL4FaAoIbBz8YAQEBAQEBAQEBAQECEAEBAQgLCwgoL4IzBAIDGQUEBEYmAy4BAQEBAQEBAQEBAQEBAQEBGgINHgQPAw8CGAEBAQMBGgEIHQENDh4DAQsGAwILDSABCQICIQEBDgMBBQELEQ4HBAEHFQSIeUkBAw0IBZFLQZEXP4wDggQFARyDCQWDUgoZJw1VgnIBAQEHAQEBAQEBARkCBhKLK4JRgVURAUmCWYJfBYErAQEBh2oHhzaFIIV9MAgBAYE7CYUyhxSEKYF7U4EJg0aDVIYuiEOCEIchFB6BFQ8QgQQwCDcfa06DNioPEQyBYh8iNQeHQEeBZwEBAQ
X-IronPort-AV: E=Sophos;i="5.35,254,1484035200"; 
   d="scan'208,217";a="66653358"
Received: from mail-ot0-f171.google.com ([74.125.82.171])
  by fe3.lbl.gov with ESMTP; 06 Mar 2017 08:17:09 -0800
Received: by mail-ot0-f171.google.com with SMTP id 19so45376339oti.0
        for <singu...@lbl.gov>; Mon, 06 Mar 2017 08:17:09 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=ZfFVcgRXV+55oFQQ66b44Si0sFIJLr/oAPh0SB3L/c4=;
        b=TGGRkrdVVt2tcslPjBTKQq9RFwB1MbFIjIbpYswVFnLgl+Dmd1pnNSoGIhFzrrmvt1
         +Lhs/zlYvw9qzyQJMjjRWbh+hZVHrCRKvwbeux+mikTFfCbHbUaddTh4n0iA2G+Qpp/4
         XeYWGJFxZgQ3Lkb2/NzyjBTndMzhqKPTczfqT+BfhIhRnJlfWVYyGCiVQOUZfkGChrwo
         GirvaL805OjPeDhI/h8eGiTC723enXCE6mkiqOV2s/2suj+1tWZELsfwEZiP4TAjpGo0
         p3QDE6ijI36M5gIIQ0QjAxSDLhO+YQwbLXn/xi3FzasCdvbZujtNm/prVW+dNPAAUT6S
         nqBA==
X-Gm-Message-State: AMke39mzwP/2TzPAF3XQfLTO4g1GvcwvxQl1xJPUyPjyVhCOj5RA0NYxfxOGAGe1IOWBSAW12HS2CPxxMLnO8g==
X-Received: by 10.157.14.141 with SMTP id 13mr10221485otj.71.1488817028788;
 Mon, 06 Mar 2017 08:17:08 -0800 (PST)
MIME-Version: 1.0
Received: by 10.74.0.65 with HTTP; Mon, 6 Mar 2017 08:17:08 -0800 (PST)
In-Reply-To: <CACtFfPHEFhWA4KK9UZ9ffE1+xg0RU5wYWH_e1+qUhnDrCz2bEA@mail.gmail.com>
References: <CAJm6r9-oXj4pPnoDY48u1Sf58dHtavBCF25Ca3QuxegqiHOkog@mail.gmail.com>
 <23dd4099-4149-4296-b9f7-a3e90cb21840@lbl.gov> <3d1f4bbd-5f5c-44d2-989d-32c899f7a432@lbl.gov>
 <CAKswpQhoxBV+neT+PwpXQVJB=Ow3F23xkB=gPn8grkz4n96-0g@mail.gmail.com>
 <CAO+LYDWC5FZrhH-dcWUmRDFdfQciaC2_NQYZFFV7WxN9tLuGfQ@mail.gmail.com>
 <CACtFfPFbueOmTpXxpfL6RxBKb7zbmtayuDXH+RHM1FSN=mqkdQ@mail.gmail.com>
 <CAN7etTzkMFyMofc05A8vhuRj4MXCD+oHOLKZUG+NcwguwTHqHA@mail.gmail.com>
 <CAO+LYDX+2A6+h7Tuz315YsriCzczTG7eEBy2JU=VDoe_5W2pmg@mail.gmail.com>
 <CAN7etTzDLGE7YgWQwHZHk+349RVDd_CiuAhG3KepB4bDAq5bhQ@mail.gmail.com>
 <CAO+LYDX=kWUOE+od7fH1_FVD9BZLmVP6J8sg4Mqw-bP9KmtTtw@mail.gmail.com> <CACtFfPHEFhWA4KK9UZ9ffE1+xg0RU5wYWH_e1+qUhnDrCz2bEA@mail.gmail.com>
From: Jie Zhang <jessezh...@gmail.com>
Date: Mon, 6 Mar 2017 11:17:08 -0500
Message-ID: <CACtFfPHTEW29xBBDxC9h0J34O9V9PY_EOx8hHC0KC2ztUzKFKw@mail.gmail.com>
Subject: Re: [Singularity] Not able to return with MVAPICH2
To: singularity@lbl.gov
Content-Type: multipart/alternative; boundary=001a1135439c22f871054a123a6c

--001a1135439c22f871054a123a6c
Content-Type: text/plain; charset=UTF-8

Hi, Gregory,

Just double check if there is any progress on the issue.

Thanks,
-Jie

--------------------------------------------
Department of Computer Science & Engineering
Erwin E. Dreese Laboratories 774
The Ohio State University
2015 Neil Avenue
Columbus, OH 43210, USA

On Tue, Feb 21, 2017 at 5:23 PM, Jie Zhang <jessezh...@gmail.com> wrote:

> Hi, Gregory,
>
> Thanks for the update.
> I just quickly tried the workaround. It works fine with one MPI process.
>
> But the issue seems still there if trying with two or more MPI processes.
> e.g., $ mpirun_rsh -np 2 localhost  localhost
> SINGULARITY_NOSESSIONCLEANUP=1 singularity exec /tmp/user.img date
>
>
>
>
> Thanks,
> -Jie
>
> --------------------------------------------
> Department of Computer Science & Engineering
> Erwin E. Dreese Laboratories 774
> The Ohio State University
> 2015 Neil Avenue
> Columbus, OH 43210, USA
>
> On Tue, Feb 21, 2017 at 5:06 PM, Xiaoyi Lu@gmail <cheri...@gmail.com>
> wrote:
>
>> Sounds good. Will try. Thanks. Let us know when you have a full fix.
>>
>> Xiaoyi
>>
>> On Tue, Feb 21, 2017 at 5:02 PM Gregory M. Kurtzer <gmku...@lbl.gov>
>> wrote:
>>
>>> BTW, you might be able to avoid the zombie if you run it like:
>>>
>>> $ mpirun_rsh -np 1 localhost SINGULARITY_NOSESSIONCLEANUP=1 singularity
>>> exec /tmp/user.img date
>>>
>>> NOSESSIONCLEANUP inhibits the session thread which cleanups after the
>>> container exits.
>>>
>>>
>>>
>>> On Tue, Feb 21, 2017 at 1:13 PM, Xiaoyi Lu@gmail <cheri...@gmail.com>
>>> wrote:
>>>
>>> Thanks for the update, Greg. This is good to know.
>>>
>>> Xiaoyi
>>>
>>> On Tue, Feb 21, 2017 at 4:10 PM, Gregory M. Kurtzer <gmku...@lbl.gov>
>>> wrote:
>>>
>>> Hello,
>>>
>>> I did a quick verification of what you described using MVAPICH2 and the
>>> latest lib-refactor code I'm working on. It seems that there is a conflict
>>> somehow with MVAPICH2 and how we are managing the signal handler pipes as
>>> if I avoid Singularity's forking, I can circumvent the issue.
>>>
>>> Brian and I spoke about it and one or both of us will hopefully have
>>> time to debug this in more detail shortly.
>>>
>>> Thanks!
>>>
>>> On Mon, Feb 6, 2017 at 12:41 PM, Jie Zhang <jessezh...@gmail.com>
>>> wrote:
>>>
>>> Hi, Brian,
>>>
>>> For #1, the results are basically as what we knew.
>>>
>>> zhanjie   4178  0.0  0.0  34976  1340 pts/0    Sl+  13:07   0:00  |
>>>               \_ /home/zhanjie/singularity/master.install/bin/mpispawn 0
>>> zhanjie   4180  0.0  0.0   5432  1688 pts/0    S+   13:07   0:00  |
>>>                   \_ /usr/local/libexec/singularity/sexec date
>>> zhanjie   4183  0.6  0.0      0     0 pts/0    Z+   13:07   0:00  |
>>>                            \_ [date] <defunct>
>>>
>>> For #2, I run `mpirun_rsh -np 1 sandy4 /usr/local/bin/singularity exec
>>> singularity-centos7.img strace date'. It's stuck at the end, even though it
>>> shows `+++ exited with 0 +++'.
>>>
>>> action_exec_do /usr/local/libexec/singularity/sexec strace
>>> execve("/usr/bin/date", ["date"], [/* 87 vars */]) = 0
>>> brk(0)                                  = 0x2462000
>>> mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0)
>>> = 0x7f3284495000
>>> access("/etc/ld.so.preload", R_OK)      = -1 ENOENT (No such file or
>>> directory)
>>> open("/etc/ld.so.cache", O_RDONLY|O_CLOEXEC) = 6
>>> fstat(6, {st_mode=S_IFREG|0644, st_size=15081, ...}) = 0
>>> mmap(NULL, 15081, PROT_READ, MAP_PRIVATE, 6, 0) = 0x7f3284491000
>>> close(6)                                = 0
>>> open("/lib64/libc.so.6", O_RDONLY|O_CLOEXEC) = 6
>>> read(6, "\177ELF\2\1\1\3\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0
>>> \34\2\0\0\0\0\0"..., 832) = 832
>>> fstat(6, {st_mode=S_IFREG|0755, st_size=2112384, ...}) = 0
>>> mmap(NULL, 3936832, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 6,
>>> 0) = 0x7f3283eb3000
>>> mprotect(0x7f328406a000, 2097152, PROT_NONE) = 0
>>> mmap(0x7f328426a000, 24576, PROT_READ|PROT_WRITE,
>>> MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 6, 0x1b7000) = 0x7f328426a000
>>> mmap(0x7f3284270000, 16960, PROT_READ|PROT_WRITE,
>>> MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x7f3284270000
>>> close(6)                                = 0
>>> mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0)
>>> = 0x7f3284490000
>>> mmap(NULL, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0)
>>> = 0x7f328448e000
>>> arch_prctl(ARCH_SET_FS, 0x7f328448e740) = 0
>>> mprotect(0x7f328426a000, 16384, PROT_READ) = 0
>>> mprotect(0x60d000, 4096, PROT_READ)     = 0
>>> mprotect(0x7f3284496000, 4096, PROT_READ) = 0
>>> munmap(0x7f3284491000, 15081)           = 0
>>> brk(0)                                  = 0x2462000
>>> brk(0x2483000)                          = 0x2483000
>>> brk(0)                                  = 0x2483000
>>> open("/usr/lib/locale/locale-archive", O_RDONLY|O_CLOEXEC) = 6
>>> fstat(6, {st_mode=S_IFREG|0644, st_size=106065056, ...}) = 0
>>> mmap(NULL, 106065056, PROT_READ, MAP_PRIVATE, 6, 0) = 0x7f327d98c000
>>> close(6)                                = 0
>>> open("/usr/share/zoneinfo/EST", O_RDONLY|O_CLOEXEC) = 6
>>> fstat(6, {st_mode=S_IFREG|0644, st_size=118, ...}) = 0
>>> fstat(6, {st_mode=S_IFREG|0644, st_size=118, ...}) = 0
>>> mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0)
>>> = 0x7f3284494000
>>> read(6, "TZif2\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\1\0\0\0\1\0\0\0\0"...,
>>> 4096) = 118
>>> lseek(6, -62, SEEK_CUR)                 = 56
>>> read(6, "TZif2\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\1\0\0\0\1\0\0\0\0"...,
>>> 4096) = 62
>>> close(6)                                = 0
>>> munmap(0x7f3284494000, 4096)            = 0
>>> fstat(1, {st_mode=S_IFCHR|0620, st_rdev=makedev(136, 0), ...}) = 0
>>> mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0)
>>> = 0x7f3284494000
>>> write(1, "Mon Feb  6 15:29:11 EST 2017\n", 29Mon Feb  6 15:29:11 EST 2017
>>> ) = 29
>>> close(1)                                = 0
>>> munmap(0x7f3284494000, 4096)            = 0
>>> close(2)                                = 0
>>> exit_group(0)                           = ?
>>> +++ exited with 0 +++
>>> *****stuck here*****
>>>
>>> MVAPICH2 is public available, can you please try and see if you can
>>> reproduce this issue?
>>>
>>>
>>> Thanks,
>>> -Jie
>>>
>>> --------------------------------------------
>>> Department of Computer Science & Engineering
>>> Erwin E. Dreese Laboratories 774
>>> The Ohio State University
>>> 2015 Neil Avenue
>>> Columbus, OH 43210, USA
>>>
>>>
>>>
>>> On Tue, Jan 31, 2017 at 12:08 PM, Xiaoyi Lu@gmail <cheri...@gmail.com>
>>> wrote:
>>>
>>> Thanks, Brian. We will explore these and get back to you.
>>>
>>> Xiaoyi
>>>
>>>
>>> On Tue, Jan 31, 2017 at 11:59 AM, Brian Bockelman <bock...@gmail.com>
>>> wrote:
>>>
>>> Hi Xiaoyi,
>>>
>>>
>>>
>>>
>>>
>>> Two things would help -
>>>
>>>
>>>
>>>
>>>
>>> 1) Output of "ps faux" when done with the mpirun case.  This will help
>>>
>>>
>>> understand which processes are running and have which parentage.
>>>
>>>
>>> 2) For the case that's sticking, for any singularity processes, a stack
>>> trace.
>>>
>>>
>>>
>>>
>>>
>>> The poll command you reference tends to be waiting on a sub-process to
>>>
>>>
>>> exec, so it's possible we are not looking at the right thing.
>>>
>>>
>>>
>>>
>>>
>>> Thanks,
>>>
>>>
>>>
>>>
>>>
>>> Brian
>>>
>>>
>>>
>>>
>>>
>>> On Tue, Jan 31, 2017 at 10:43 AM, Xiaoyi Lu <cheri...@gmail.com>
>>> wrote:
>>>
>>>
>>> > Hi, Krishna,
>>>
>>>
>>> >
>>>
>>>
>>> > Jie is traveling internationally. Here is the new update from us.
>>>
>>>
>>> >
>>>
>>>
>>> > We found that with mpirun_rsh, the parent process did not get back from
>>>
>>>
>>> > singularity_fork() in `singularity_sessiondir_init'.
>>>
>>>
>>> >
>>>
>>>
>>> > It seems that it keeps on waiting on signal from watchdog (poll(fds,
>>>
>>>
>>> > watchdog_rpipe == -1 ? 2 : 3, -1)).
>>>
>>>
>>> >
>>>
>>>
>>> >
>>>
>>>
>>> > We are pretty sure this difference, compared to the case without
>>> mpirun_rsh.
>>>
>>>
>>> >
>>>
>>>
>>> >
>>>
>>>
>>> > Any thoughts here?
>>>
>>>
>>> >
>>>
>>>
>>> >
>>>
>>>
>>> > Thanks,
>>>
>>>
>>> >
>>>
>>>
>>> > Xiaoyi
>>>
>>>
>>> >
>>>
>>>
>>> >
>>>
>>>
>>> > On Friday, January 27, 2017 at 11:18:59 AM UTC-5, Jie Zhang wrote:
>>>
>>>
>>> >>
>>>
>>>
>>> >> Thanks, Krishna,
>>>
>>>
>>> >>
>>>
>>>
>>> >> I corrected the way to run strace.
>>>
>>>
>>> >> 1. singularity exec singularity-centos7.img strace date
>>>
>>>
>>> >> 2. mpirun_rsh -np 1  host1  singularity exec singularity-centos7.img
>>>
>>>
>>> >> strace date
>>>
>>>
>>> >>
>>>
>>>
>>> >> I see both of them show `+++exited with 0+++' at the end, even though
>>> it's
>>>
>>>
>>> >> stuck after that for #2.
>>>
>>>
>>> >> The log files are attached below.
>>>
>>>
>>> >>
>>>
>>>
>>> >>
>>>
>>>
>>> >>
>>>
>>>
>>> >> On Friday, January 27, 2017 at 3:47:30 AM UTC-5, Krishna Muriki wrote:
>>>
>>>
>>> >>>
>>>
>>>
>>> >>> Jie,
>>>
>>>
>>> >>>
>>>
>>>
>>> >>> What we should do is to run strace on the date command inside the
>>>
>>>
>>> >>> singularity container not on the singularity command itself. Mount
>>> this
>>>
>>>
>>> >>> singularity container singularity-centos7.img in read/write mode on
>>> your
>>>
>>>
>>> >>> endpoint, install strace package into it. After then when you invoke
>>>
>>>
>>> >>> mpirun_rsh run it like this:
>>>
>>>
>>> >>>
>>>
>>>
>>> >>> mpirun_rsh -np 1  host1  singularity exec singularity-centos7.img
>>> strace
>>>
>>>
>>> >>> date
>>>
>>>
>>> >>>
>>>
>>>
>>> >>> Thanks,
>>>
>>>
>>> >>> Krishna.
>>>
>>>
>>> >>>
>>>
>>>
>>> >>> On Thu, Jan 26, 2017 at 10:55 PM, Jie Zhang <jes...@gmail.com>
>>> wrote:
>>>
>>>
>>> >>>>
>>>
>>>
>>> >>>> Hi, Krishna,
>>>
>>>
>>> >>>>
>>>
>>>
>>> >>>> I tried adding strace to the plain singularity case (strace
>>>
>>>
>>> >>>> /usr/local/bin/singularity exec singularity-centos7.img date), what
>>> I found
>>>
>>>
>>> >>>> is that it actually exited with error (255) at the end
>>>
>>>
>>> >>>> (non-root-strace.log).
>>>
>>>
>>> >>>> If trying with root (sudo strace /usr/local/bin/singularity exec
>>>
>>>
>>> >>>> singularity-centos7.img date), there's no error. (root-strace.log)
>>>
>>>
>>> >>>> Trying with mpirun_rsh, it looks hanging on futex system call.
>>>
>>>
>>> >>>> (non-root-mpirun_rsh-strace.log)
>>>
>>>
>>> >>>>
>>>
>>>
>>> >>>> Please take a look at the log files attached below to see if you
>>> have
>>>
>>>
>>> >>>> any insight.
>>>
>>>
>>> >>>>
>>>
>>>
>>> >>>>
>>>
>>>
>>> >>>>
>>>
>>>
>>> >>>> On Thursday, January 26, 2017 at 8:10:22 PM UTC-5, Krishna Muriki
>>> wrote:
>>>
>>>
>>> >>>>>
>>>
>>>
>>> >>>>> Jie,
>>>
>>>
>>> >>>>>
>>>
>>>
>>> >>>>> Could you add strace to the container and run strace date to see
>>> why
>>>
>>>
>>> >>>>> the date process is going defunct ? Also first try running with
>>> -np 1 host1
>>>
>>>
>>> >>>>> and then scale to -np 2 and multiple nodes.
>>>
>>>
>>> >>>>>
>>>
>>>
>>> >>>>> Thanks,
>>>
>>>
>>> >>>>> Krishna.
>>>
>>>
>>> >>>>>
>>>
>>>
>>> >>>>> On Thu, Jan 26, 2017 at 5:07 PM, Jie Zhang <jes...@gmail.com>
>>>
>>>
>>> >>>>> wrote:
>>>
>>>
>>> >>>>>>
>>>
>>>
>>> >>>>>> Hi, Krishna,
>>>
>>>
>>> >>>>>>
>>>
>>>
>>> >>>>>>
>>>
>>>
>>> >>>>>> Without mpirun_rsh, all other tests work fine.
>>>
>>>
>>> >>>>>>
>>>
>>>
>>> >>>>>> ssh host1  singularity exec singularity-centos7.img date
>>>
>>>
>>> >>>>>> singularity exec singularity-centos7.img date
>>>
>>>
>>> >>>>>>
>>>
>>>
>>> >>>>>>
>>>
>>>
>>> >>>>>>
>>>
>>>
>>> >>>>>> On Thursday, January 26, 2017 at 7:58:21 PM UTC-5, Krishna Muriki
>>>
>>>
>>> >>>>>> wrote:
>>>
>>>
>>> >>>>>>>
>>>
>>>
>>> >>>>>>> Jie,
>>>
>>>
>>> >>>>>>>
>>>
>>>
>>> >>>>>>> Can you do a couple of tests, see if directly running
>>> 'singularity
>>>
>>>
>>> >>>>>>> exec singularity-centos7.img date' without mpirun_rsh returns
>>> the prompt
>>>
>>>
>>> >>>>>>> back to you properly. If that also gets struck, add strace to
>>> your container
>>>
>>>
>>> >>>>>>> and run strace date.
>>>
>>>
>>> >>>>>>>
>>>
>>>
>>> >>>>>>> If that does return properly try running with 'ssh host1
>>> singularity
>>>
>>>
>>> >>>>>>> exec singularity-centos7.img date' without mpirun_rsh and see if
>>> that works.
>>>
>>>
>>> >>>>>>>
>>>
>>>
>>> >>>>>>> --Krishna.
>>>
>>>
>>> >>>>>>>
>>>
>>>
>>> >>>>>>> On Thu, Jan 26, 2017 at 1:51 PM, Jie Zhang <zh...@osu.edu>
>>> wrote:
>>>
>>>
>>> >>>>>>>>
>>>
>>>
>>> >>>>>>>> Hello,
>>>
>>>
>>> >>>>>>>>
>>>
>>>
>>> >>>>>>>> I'm trying singularity with MVAPICH2. I found a small issue
>>> here.
>>>
>>>
>>> >>>>>>>> When running `mpirun_rsh -np 2  host1 host1  singularity exec
>>>
>>>
>>> >>>>>>>> singularity-centos7.img date', the routine (date) got executed
>>> successfully,
>>>
>>>
>>> >>>>>>>> but the mpi command is not able to return.
>>>
>>>
>>> >>>>>>>>
>>>
>>>
>>> >>>>>>>> [runbot@host1:singularity]$mpirun_rsh -np 2  host1 host1
>>>
>>>
>>> >>>>>>>> singularity exec singularity-centos7.img date
>>>
>>>
>>> >>>>>>>> Thu Jan 26 16:38:35 EST 2017
>>>
>>>
>>> >>>>>>>> Thu Jan 26 16:38:35 EST 2017
>>>
>>>
>>> >>>>>>>> (stuck here...., can Not return)
>>>
>>>
>>> >>>>>>>>
>>>
>>>
>>> >>>>>>>> And I can see the `date' command does not return properly.
>>>
>>>
>>> >>>>>>>> [runbot@host1:singularity]$ps -Af | grep runbot
>>>
>>>
>>> >>>>>>>> .........
>>>
>>>
>>> >>>>>>>> runbot   7347  7345  0 16:45 pts/1    00:00:00
>>>
>>>
>>> >>>>>>>> /home/runbot/singularity/master.install/bin/mpispawn 0
>>>
>>>
>>> >>>>>>>> runbot  7349  7347  0 16:45 pts/1    00:00:00
>>>
>>>
>>> >>>>>>>> /usr/local/libexec/singularity/sexec date
>>>
>>>
>>> >>>>>>>> runbot  7350  7347  0 16:45 pts/1    00:00:00
>>>
>>>
>>> >>>>>>>> /usr/local/libexec/singularity/sexec date
>>>
>>>
>>> >>>>>>>> runbot  7355  7349  0 16:45 pts/1    00:00:00 [date] <defunct>
>>>
>>>
>>> >>>>>>>> runbot  7356  7350  0 16:45 pts/1    00:00:00 [date] <defunct>
>>>
>>>
>>> >>>>>>>>
>>>
>>>
>>> >>>>>>>> I'm not sure whether the issue is from either mpi launcher,
>>>
>>>
>>> >>>>>>>> singularity or the interaction between both. Do you have any
>>> idea?
>>>
>>>
>>> >>>>>>>>
>>>
>>>
>>> >>>>>>>>
>>>
>>>
>>> >>>>>>>> Thanks,
>>>
>>>
>>> >>>>>>>> -Jie
>>>
>>>
>>> >>>>>>>>
>>>
>>>
>>> >>>>>>>> --------------------------------------------
>>>
>>>
>>> >>>>>>>> Department of Computer Science & Engineering
>>>
>>>
>>> >>>>>>>> Erwin E. Dreese Laboratories, 2015 Neil Avenue
>>>
>>>
>>> >>>>>>>> Ohio State University
>>>
>>>
>>> >>>>>>>>
>>>
>>>
>>> >>>>>>>> --
>>>
>>>
>>> >>>>>>>> You received this message because you are subscribed to the
>>> Google
>>>
>>>
>>> >>>>>>>> Groups "singularity" group.
>>>
>>>
>>> >>>>>>>> To unsubscribe from this group and stop receiving emails from
>>> it,
>>>
>>>
>>> >>>>>>>> send an email to singu...@lbl.gov.
>>>
>>>
>>> >>>>>>>
>>>
>>>
>>> >>>>>>>
>>>
>>>
>>> >>>>>> --
>>>
>>>
>>> >>>>>> You received this message because you are subscribed to the Google
>>>
>>>
>>> >>>>>> Groups "singularity" group.
>>>
>>>
>>> >>>>>> To unsubscribe from this group and stop receiving emails from it,
>>> send
>>>
>>>
>>> >>>>>> an email to singu...@lbl.gov.
>>>
>>>
>>> >>>>>
>>>
>>>
>>> >>>>>
>>>
>>>
>>> >>>> --
>>>
>>>
>>> >>>> You received this message because you are subscribed to the Google
>>>
>>>
>>> >>>> Groups "singularity" group.
>>>
>>>
>>> >>>> To unsubscribe from this group and stop receiving emails from it,
>>> send
>>>
>>>
>>> >>>> an email to singu...@lbl.gov.
>>>
>>>
>>> >>>
>>>
>>>
>>> >>>
>>>
>>>
>>> > --
>>>
>>>
>>> > You received this message because you are subscribed to the Google
>>> Groups
>>>
>>>
>>> > "singularity" group.
>>>
>>>
>>> > To unsubscribe from this group and stop receiving emails from it, send
>>> an
>>>
>>>
>>> > email to singu...@lbl.gov.
>>>
>>>
>>>
>>>
>>>
>>> --
>>>
>>>
>>> You received this message because you are subscribed to the Google
>>> Groups "singularity" group.
>>>
>>>
>>> To unsubscribe from this group and stop receiving emails from it, send
>>> an email to singu...@lbl.gov.
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>> --
>>>
>>>
>>> You received this message because you are subscribed to the Google
>>> Groups "singularity" group.
>>>
>>>
>>> To unsubscribe from this group and stop receiving emails from it, send
>>> an email to singu...@lbl.gov.
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>> --
>>>
>>>
>>> You received this message because you are subscribed to the Google
>>> Groups "singularity" group.
>>>
>>>
>>> To unsubscribe from this group and stop receiving emails from it, send
>>> an email to singu...@lbl.gov.
>>>
>>>
>>>
>>>
>>>
>>> --
>>> Gregory M. Kurtzer
>>> HPC Systems Architect and Technology Developer
>>> Lawrence Berkeley National Laboratory HPCS
>>> University of California Berkeley Research IT
>>> Singularity Linux Containers (http://singularity.lbl.gov/)
>>> Warewulf Cluster Management (http://warewulf.lbl.gov/)
>>> GitHub: https://github.com/gmkurtzer, Twitter: https://twitt
>>> er.com/gmkurtzer
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>> --
>>>
>>>
>>> You received this message because you are subscribed to the Google
>>> Groups "singularity" group.
>>>
>>>
>>> To unsubscribe from this group and stop receiving emails from it, send
>>> an email to singu...@lbl.gov.
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>> --
>>>
>>>
>>> You received this message because you are subscribed to the Google
>>> Groups "singularity" group.
>>>
>>>
>>> To unsubscribe from this group and stop receiving emails from it, send
>>> an email to singu...@lbl.gov.
>>>
>>>
>>>
>>>
>>>
>>> --
>>> Gregory M. Kurtzer
>>> HPC Systems Architect and Technology Developer
>>> Lawrence Berkeley National Laboratory HPCS
>>> University of California Berkeley Research IT
>>> Singularity Linux Containers (http://singularity.lbl.gov/)
>>> Warewulf Cluster Management (http://warewulf.lbl.gov/)
>>> GitHub: https://github.com/gmkurtzer, Twitter: https://twitt
>>> er.com/gmkurtzer
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>> --
>>>
>>>
>>> You received this message because you are subscribed to the Google
>>> Groups "singularity" group.
>>>
>>>
>>> To unsubscribe from this group and stop receiving emails from it, send
>>> an email to singu...@lbl.gov.
>>>
>>>
>>> --
>> You received this message because you are subscribed to the Google Groups
>> "singularity" group.
>> To unsubscribe from this group and stop receiving emails from it, send an
>> email to singu...@lbl.gov.
>>
>
>

--001a1135439c22f871054a123a6c
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Hi, Gregory,<div><br></div><div><span style=3D"font-size:1=
2.8px">Just double check if there is any progress on the issue.</span><br><=
/div></div><div class=3D"gmail_extra"><br clear=3D"all"><div><div class=3D"=
gmail_signature" data-smartmail=3D"gmail_signature"><div dir=3D"ltr"><div><=
div dir=3D"ltr"><div><font size=3D"2" face=3D"tahoma, sans-serif" color=3D"=
#000000">Thanks,</font></div><font size=3D"2" face=3D"tahoma, sans-serif"><=
font color=3D"#000000">-Jie<br><br>----------------------------------------=
----</font></font></div><div dir=3D"ltr"><span style=3D"color:rgb(0,0,0);fo=
nt-family:tahoma,sans-serif;font-size:small">Department of Computer Science=
 &amp; Engineering</span><font size=3D"2" face=3D"tahoma, sans-serif"><font=
 color=3D"#000000"><br></font></font></div><div dir=3D"ltr"><span style=3D"=
color:rgb(0,0,0);font-family:tahoma,sans-serif;font-size:small">Erwin E. Dr=
eese Laboratories 774</span></div><div dir=3D"ltr"><span style=3D"color:rgb=
(0,0,0);font-family:tahoma,sans-serif;font-size:small">The Ohio State Unive=
rsity</span><span style=3D"color:rgb(0,0,0);font-family:tahoma,sans-serif;f=
ont-size:small"><br></span></div><div><span style=3D"color:rgb(0,0,0);font-=
family:tahoma,sans-serif;font-size:small">2015 Neil Avenue</span></div><div=
><span style=3D"color:rgb(0,0,0);font-family:tahoma,sans-serif;font-size:sm=
all">Columbus, OH 43210, USA</span></div><div dir=3D"ltr"><span style=3D"fo=
nt-family:times new roman,serif;color:rgb(51,51,255)"></span></div></div></=
div></div></div>
<br><div class=3D"gmail_quote">On Tue, Feb 21, 2017 at 5:23 PM, Jie Zhang <=
span dir=3D"ltr">&lt;<a href=3D"mailto:jessezh...@gmail.com" target=3D"_bla=
nk">jessezh...@gmail.com</a>&gt;</span> wrote:<br><blockquote class=3D"gmai=
l_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left=
:1ex"><div dir=3D"ltr">Hi, Gregory,<div><br></div><div>Thanks for the=C2=A0=
update.</div><div>I just quickly tried the workaround. It works fine with o=
ne MPI process.=C2=A0</div><div><br></div><div>But the issue seems still th=
ere if trying with two or more MPI processes.</div><div>e.g.,=C2=A0<span st=
yle=3D"font-size:12.8px">$ mpirun_rsh -np 2 localhost =C2=A0localhost SINGU=
LARITY_NOSESSIONCLEANUP=3D1 singularity exec /tmp/user.img date</span>=C2=
=A0</div><div><br></div><div><br></div><div><br></div></div><div class=3D"g=
mail_extra"><span class=3D""><br clear=3D"all"><div><div class=3D"m_-745096=
0007850487810gmail_signature" data-smartmail=3D"gmail_signature"><div dir=
=3D"ltr"><div><div dir=3D"ltr"><div><font size=3D"2" face=3D"tahoma, sans-s=
erif" color=3D"#000000">Thanks,</font></div><font size=3D"2" face=3D"tahoma=
, sans-serif"><font color=3D"#000000">-Jie<br><br>-------------------------=
-----<wbr>--------------</font></font></div><div dir=3D"ltr"><span style=3D=
"color:rgb(0,0,0);font-family:tahoma,sans-serif;font-size:small">Department=
 of Computer Science &amp; Engineering</span><font size=3D"2" face=3D"tahom=
a, sans-serif"><font color=3D"#000000"><br></font></font></div><div dir=3D"=
ltr"><span style=3D"color:rgb(0,0,0);font-family:tahoma,sans-serif;font-siz=
e:small">Erwin E. Dreese Laboratories 774</span></div><div dir=3D"ltr"><spa=
n style=3D"color:rgb(0,0,0);font-family:tahoma,sans-serif;font-size:small">=
The Ohio State University</span><span style=3D"color:rgb(0,0,0);font-family=
:tahoma,sans-serif;font-size:small"><br></span></div><div><span style=3D"co=
lor:rgb(0,0,0);font-family:tahoma,sans-serif;font-size:small">2015 Neil Ave=
nue</span></div><div><span style=3D"color:rgb(0,0,0);font-family:tahoma,san=
s-serif;font-size:small">Columbus, OH 43210, USA</span></div><div dir=3D"lt=
r"><span style=3D"font-family:times new roman,serif;color:rgb(51,51,255)"><=
/span></div></div></div></div></div>
<br></span><div><div class=3D"h5"><div class=3D"gmail_quote">On Tue, Feb 21=
, 2017 at 5:06 PM, Xiaoyi Lu@gmail <span dir=3D"ltr">&lt;<a href=3D"mailto:=
cheri...@gmail.com" target=3D"_blank">cheri...@gmail.com</a>&gt;</span> wro=
te:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-=
left:1px #ccc solid;padding-left:1ex"><div><div>Sounds good. Will try. Than=
ks. Let us know when you have a full fix.</div></div><span class=3D"m_-7450=
960007850487810HOEnZb"><font color=3D"#888888"><div><br></div><div>Xiaoyi</=
div></font></span><div class=3D"m_-7450960007850487810HOEnZb"><div class=3D=
"m_-7450960007850487810h5"><div><br><div class=3D"gmail_quote"><div>On Tue,=
 Feb 21, 2017 at 5:02 PM Gregory M. Kurtzer &lt;<a href=3D"mailto:gmku...@l=
bl.gov" target=3D"_blank">gmku...@lbl.gov</a>&gt; wrote:<br></div><blockquo=
te class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc so=
lid;padding-left:1ex"><div class=3D"m_-7450960007850487810m_-36522495749688=
6160gmail_msg"><div class=3D"m_-7450960007850487810m_-365224957496886160gma=
il_msg">BTW, you might be able to avoid the zombie if you run it like:</div=
><div class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br cl=
ass=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"></div><div cla=
ss=3D"m_-7450960007850487810m_-365224957496886160gmail_msg">$ mpirun_rsh -n=
p 1 localhost SINGULARITY_NOSESSIONCLEANUP=3D1 singularity exec /tmp/user.i=
mg date<br class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><=
/div><div class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><b=
r class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"></div><div=
 class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg">NOSESSIONCL=
EANUP inhibits the session thread which cleanups after the container exits.=
</div><div class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><=
br class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"></div><di=
v class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br class=
=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"></div></div><div =
class=3D"gmail_extra m_-7450960007850487810m_-365224957496886160gmail_msg">=
<br class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><div cla=
ss=3D"gmail_quote m_-7450960007850487810m_-365224957496886160gmail_msg">On =
Tue, Feb 21, 2017 at 1:13 PM, Xiaoyi Lu@gmail <span class=3D"m_-74509600078=
50487810m_-365224957496886160gmail_msg">&lt;<a href=3D"mailto:cheri...@gmai=
l.com" class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg" targe=
t=3D"_blank">cheri...@gmail.com</a>&gt;</span> wrote:<br class=3D"m_-745096=
0007850487810m_-365224957496886160gmail_msg"><blockquote class=3D"gmail_quo=
te m_-7450960007850487810m_-365224957496886160gmail_msg" style=3D"margin:0 =
0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div class=3D"m_-7450=
960007850487810m_-365224957496886160gmail_msg">Thanks for the update, Greg.=
 This is good to know.=C2=A0<span class=3D"m_-7450960007850487810m_-3652249=
57496886160m_-5300382142425417683HOEnZb m_-7450960007850487810m_-3652249574=
96886160gmail_msg"><font color=3D"#888888" class=3D"m_-7450960007850487810m=
_-365224957496886160gmail_msg"><div class=3D"m_-7450960007850487810m_-36522=
4957496886160gmail_msg"><br class=3D"m_-7450960007850487810m_-3652249574968=
86160gmail_msg"></div><div class=3D"m_-7450960007850487810m_-36522495749688=
6160gmail_msg">Xiaoyi</div></font></span></div><div class=3D"m_-74509600078=
50487810m_-365224957496886160m_-5300382142425417683HOEnZb m_-74509600078504=
87810m_-365224957496886160gmail_msg"><div class=3D"m_-7450960007850487810m_=
-365224957496886160m_-5300382142425417683h5 m_-7450960007850487810m_-365224=
957496886160gmail_msg"><div class=3D"gmail_extra m_-7450960007850487810m_-3=
65224957496886160gmail_msg"><br class=3D"m_-7450960007850487810m_-365224957=
496886160gmail_msg"><div class=3D"gmail_quote m_-7450960007850487810m_-3652=
24957496886160gmail_msg">On Tue, Feb 21, 2017 at 4:10 PM, Gregory M. Kurtze=
r <span class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg">&lt;=
<a href=3D"mailto:gmku...@lbl.gov" class=3D"m_-7450960007850487810m_-365224=
957496886160gmail_msg" target=3D"_blank">gmku...@lbl.gov</a>&gt;</span> wro=
te:<br class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><bloc=
kquote class=3D"gmail_quote m_-7450960007850487810m_-365224957496886160gmai=
l_msg" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1=
ex"><div class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg">Hel=
lo,<div class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br =
class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"></div><div c=
lass=3D"m_-7450960007850487810m_-365224957496886160gmail_msg">I did a quick=
 verification of what you described using MVAPICH2 and the latest lib-refac=
tor code I&#39;m working on. It seems that there is a conflict somehow with=
 MVAPICH2 and how we are managing the signal handler pipes as if I avoid Si=
ngularity&#39;s forking, I can circumvent the issue.</div><div class=3D"m_-=
7450960007850487810m_-365224957496886160gmail_msg"><br class=3D"m_-74509600=
07850487810m_-365224957496886160gmail_msg"></div><div class=3D"m_-745096000=
7850487810m_-365224957496886160gmail_msg">Brian and I spoke about it and on=
e or both of us will hopefully have time to debug this in more detail short=
ly.</div><div class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg=
"><br class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"></div>=
<div class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg">Thanks!=
</div></div><div class=3D"gmail_extra m_-7450960007850487810m_-365224957496=
886160gmail_msg"><div class=3D"m_-7450960007850487810m_-365224957496886160g=
mail_msg"><div class=3D"m_-7450960007850487810m_-365224957496886160m_-53003=
82142425417683m_1355088625254818441h5 m_-7450960007850487810m_-365224957496=
886160gmail_msg"><br class=3D"m_-7450960007850487810m_-365224957496886160gm=
ail_msg"><div class=3D"gmail_quote m_-7450960007850487810m_-365224957496886=
160gmail_msg">On Mon, Feb 6, 2017 at 12:41 PM, Jie Zhang <span class=3D"m_-=
7450960007850487810m_-365224957496886160gmail_msg">&lt;<a href=3D"mailto:je=
ssezh...@gmail.com" class=3D"m_-7450960007850487810m_-365224957496886160gma=
il_msg" target=3D"_blank">jessezh...@gmail.com</a>&gt;</span> wrote:<br cla=
ss=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><blockquote cla=
ss=3D"gmail_quote m_-7450960007850487810m_-365224957496886160gmail_msg" sty=
le=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div c=
lass=3D"m_-7450960007850487810m_-365224957496886160gmail_msg">Hi, Brian,<di=
v class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br class=
=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"></div><div class=
=3D"m_-7450960007850487810m_-365224957496886160gmail_msg">For #1, the resul=
ts are basically as what we knew.</div><div class=3D"m_-7450960007850487810=
m_-365224957496886160gmail_msg"><br class=3D"m_-7450960007850487810m_-36522=
4957496886160gmail_msg"></div><div class=3D"m_-7450960007850487810m_-365224=
957496886160gmail_msg">zhanjie =C2=A0 4178 =C2=A00.0 =C2=A00.0 =C2=A034976 =
=C2=A01340 pts/0 =C2=A0 =C2=A0Sl+ =C2=A013:07 =C2=A0 0:00 =C2=A0| =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 \_ /home/zhanjie/si=
ngularity/mast<wbr>er.install/bin/mpispawn 0</div><div class=3D"m_-74509600=
07850487810m_-365224957496886160gmail_msg">zhanjie =C2=A0 4180 =C2=A00.0 =
=C2=A00.0 =C2=A0 5432 =C2=A01688 pts/0 =C2=A0 =C2=A0S+ =C2=A0 13:07 =C2=A0 =
0:00 =C2=A0| =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
 =C2=A0 =C2=A0 \_ /usr/local/libexec/singularity<wbr>/sexec date</div><div =
class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg">zhanjie =C2=
=A0 4183 =C2=A00.6 =C2=A00.0 =C2=A0 =C2=A0 =C2=A00 =C2=A0 =C2=A0 0 pts/0 =
=C2=A0 =C2=A0Z+ =C2=A0 13:07 =C2=A0 0:00 =C2=A0| =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0\_ [date] &lt;defunct&gt;=C2=A0</div><div class=3D"m_-74509600=
07850487810m_-365224957496886160gmail_msg"><br class=3D"m_-7450960007850487=
810m_-365224957496886160gmail_msg"></div><div class=3D"m_-74509600078504878=
10m_-365224957496886160gmail_msg">For #2, I run `mpirun_rsh -np 1 sandy4 /u=
sr/local/bin/singularity exec singularity-centos7.img strace date&#39;. It&=
#39;s stuck at the end, even though it shows `+++ exited with 0 +++&#39;.</=
div><div class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br=
 class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"></div><div =
class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><div class=
=3D"m_-7450960007850487810m_-365224957496886160gmail_msg">action_exec_do /u=
sr/local/libexec/singularity<wbr>/sexec strace</div><div class=3D"m_-745096=
0007850487810m_-365224957496886160gmail_msg">execve(&quot;/usr/bin/date&quo=
t;, [&quot;date&quot;], [/* 87 vars */]) =3D 0</div><div class=3D"m_-745096=
0007850487810m_-365224957496886160gmail_msg">brk(0) =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0=3D 0x2462000</div><div class=3D"m_-745096000785048=
7810m_-365224957496886160gmail_msg">mmap(NULL, 4096, PROT_READ|PROT_WRITE, =
MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) =3D 0x7f3284495000</div><div class=3D"m_-=
7450960007850487810m_-365224957496886160gmail_msg">access(&quot;/etc/ld.so.=
preload&quot;, R_OK) =C2=A0 =C2=A0 =C2=A0=3D -1 ENOENT (No such file or dir=
ectory)</div><div class=3D"m_-7450960007850487810m_-365224957496886160gmail=
_msg">open(&quot;/etc/ld.so.cache&quot;, O_RDONLY|O_CLOEXEC) =3D 6</div><di=
v class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg">fstat(6, {=
st_mode=3DS_IFREG|0644, st_size=3D15081, ...}) =3D 0</div><div class=3D"m_-=
7450960007850487810m_-365224957496886160gmail_msg">mmap(NULL, 15081, PROT_R=
EAD, MAP_PRIVATE, 6, 0) =3D 0x7f3284491000</div><div class=3D"m_-7450960007=
850487810m_-365224957496886160gmail_msg">close(6) =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0=3D 0</div><div class=3D"m_-7450960007850487810m_-365224957496=
886160gmail_msg">open(&quot;/lib64/libc.so.6&quot;, O_RDONLY|O_CLOEXEC) =3D=
 6</div><div class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"=
>read(6, &quot;\177ELF\2\1\1\3\0\0\0\0\0\0\0<wbr>\0\3\0&gt;\0\1\0\0\0 \34\2=
\0\0\0\0\0&quot;..., 832) =3D 832</div><div class=3D"m_-7450960007850487810=
m_-365224957496886160gmail_msg">fstat(6, {st_mode=3DS_IFREG|0755, st_size=
=3D2112384, ...}) =3D 0</div><div class=3D"m_-7450960007850487810m_-3652249=
57496886160gmail_msg">mmap(NULL, 3936832, PROT_READ|PROT_EXEC, MAP_PRIVATE|=
MAP_DENYWRITE, 6, 0) =3D 0x7f3283eb3000</div><div class=3D"m_-7450960007850=
487810m_-365224957496886160gmail_msg">mprotect(0x7f328406a000, 2097152, PRO=
T_NONE) =3D 0</div><div class=3D"m_-7450960007850487810m_-36522495749688616=
0gmail_msg">mmap(0x7f328426a000, 24576, PROT_READ|PROT_WRITE, MAP_PRIVATE|M=
AP_FIXED|MAP_DENY<wbr>WRITE, 6, 0x1b7000) =3D 0x7f328426a000</div><div clas=
s=3D"m_-7450960007850487810m_-365224957496886160gmail_msg">mmap(0x7f3284270=
000, 16960, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_ANON<wbr>YMOUS,=
 -1, 0) =3D 0x7f3284270000</div><div class=3D"m_-7450960007850487810m_-3652=
24957496886160gmail_msg">close(6) =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=3D 0=
</div><div class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg">m=
map(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) =3D=
 0x7f3284490000</div><div class=3D"m_-7450960007850487810m_-365224957496886=
160gmail_msg">mmap(NULL, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYM=
OUS, -1, 0) =3D 0x7f328448e000</div><div class=3D"m_-7450960007850487810m_-=
365224957496886160gmail_msg">arch_prctl(ARCH_SET_FS, 0x7f328448e740) =3D 0<=
/div><div class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg">mp=
rotect(0x7f328426a000, 16384, PROT_READ) =3D 0</div><div class=3D"m_-745096=
0007850487810m_-365224957496886160gmail_msg">mprotect(0x60d000, 4096, PROT_=
READ) =C2=A0 =C2=A0 =3D 0</div><div class=3D"m_-7450960007850487810m_-36522=
4957496886160gmail_msg">mprotect(0x7f3284496000, 4096, PROT_READ) =3D 0</di=
v><div class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg">munma=
p(0x7f3284491000, 15081) =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =3D 0</div><div=
 class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg">brk(0) =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=3D 0x2462000</div><div class=3D"m=
_-7450960007850487810m_-365224957496886160gmail_msg">brk(0x2483000) =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0=3D 0x2483000</div><div class=3D"m_-7450960007850487810m_-3652249=
57496886160gmail_msg">brk(0) =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
=3D 0x2483000</div><div class=3D"m_-7450960007850487810m_-36522495749688616=
0gmail_msg">open(&quot;/usr/lib/locale/locale-a<wbr>rchive&quot;, O_RDONLY|=
O_CLOEXEC) =3D 6</div><div class=3D"m_-7450960007850487810m_-36522495749688=
6160gmail_msg">fstat(6, {st_mode=3DS_IFREG|0644, st_size=3D106065056, ...})=
 =3D 0</div><div class=3D"m_-7450960007850487810m_-365224957496886160gmail_=
msg">mmap(NULL, 106065056, PROT_READ, MAP_PRIVATE, 6, 0) =3D 0x7f327d98c000=
</div><div class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg">c=
lose(6) =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=3D 0</div><div class=3D"m_-74=
50960007850487810m_-365224957496886160gmail_msg">open(&quot;/usr/share/zone=
info/EST&quot;<wbr>, O_RDONLY|O_CLOEXEC) =3D 6</div><div class=3D"m_-745096=
0007850487810m_-365224957496886160gmail_msg">fstat(6, {st_mode=3DS_IFREG|06=
44, st_size=3D118, ...}) =3D 0</div><div class=3D"m_-7450960007850487810m_-=
365224957496886160gmail_msg">fstat(6, {st_mode=3DS_IFREG|0644, st_size=3D11=
8, ...}) =3D 0</div><div class=3D"m_-7450960007850487810m_-3652249574968861=
60gmail_msg">mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMO=
US, -1, 0) =3D 0x7f3284494000</div><div class=3D"m_-7450960007850487810m_-3=
65224957496886160gmail_msg">read(6, &quot;TZif2\0\0\0\0\0\0\0\0\0\0\0\0<wbr=
>\0\0\0\0\0\0\1\0\0\0\1\0\0\0\0<wbr>&quot;..., 4096) =3D 118</div><div clas=
s=3D"m_-7450960007850487810m_-365224957496886160gmail_msg">lseek(6, -62, SE=
EK_CUR) =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =3D 56</div=
><div class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg">read(6=
, &quot;TZif2\0\0\0\0\0\0\0\0\0\0\0\0<wbr>\0\0\0\0\0\0\1\0\0\0\1\0\0\0\0<wb=
r>&quot;..., 4096) =3D 62</div><div class=3D"m_-7450960007850487810m_-36522=
4957496886160gmail_msg">close(6) =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=3D 0<=
/div><div class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg">mu=
nmap(0x7f3284494000, 4096) =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=3D 0</=
div><div class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg">fst=
at(1, {st_mode=3DS_IFCHR|0620, st_rdev=3Dmakedev(136, 0), ...}) =3D 0</div>=
<div class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg">mmap(NU=
LL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) =3D 0x7f3=
284494000</div><div class=3D"m_-7450960007850487810m_-365224957496886160gma=
il_msg">write(1, &quot;Mon Feb =C2=A06 15:29:11 EST 2017\n&quot;, 29Mon Feb=
 =C2=A06 15:29:11 EST 2017</div><div class=3D"m_-7450960007850487810m_-3652=
24957496886160gmail_msg">) =3D 29</div><div class=3D"m_-7450960007850487810=
m_-365224957496886160gmail_msg">close(1) =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0=3D 0</div><div class=3D"m_-7450960007850487810m_-365224957496886160gmai=
l_msg">munmap(0x7f3284494000, 4096) =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0=3D 0</div><div class=3D"m_-7450960007850487810m_-365224957496886160gmai=
l_msg">close(2) =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=3D 0</div><div class=
=3D"m_-7450960007850487810m_-365224957496886160gmail_msg">exit_group(0) =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =3D ?</div><div class=3D"m_-7450960007850487810m_-36522495749=
6886160gmail_msg">+++ exited with 0 +++</div></div><div class=3D"m_-7450960=
007850487810m_-365224957496886160gmail_msg"><font color=3D"#ff0000" class=
=3D"m_-7450960007850487810m_-365224957496886160gmail_msg">*****stuck here**=
***</font></div><div class=3D"m_-7450960007850487810m_-365224957496886160gm=
ail_msg"><font color=3D"#ff0000" class=3D"m_-7450960007850487810m_-36522495=
7496886160gmail_msg"><br class=3D"m_-7450960007850487810m_-3652249574968861=
60gmail_msg"></font></div><div class=3D"m_-7450960007850487810m_-3652249574=
96886160gmail_msg">MVAPICH2 is public available, can you please try and see=
 if you can reproduce this issue?<font color=3D"#ff0000" class=3D"m_-745096=
0007850487810m_-365224957496886160gmail_msg"><br class=3D"m_-74509600078504=
87810m_-365224957496886160gmail_msg"></font></div><div class=3D"m_-74509600=
07850487810m_-365224957496886160gmail_msg"><br class=3D"m_-7450960007850487=
810m_-365224957496886160gmail_msg"></div></div><div class=3D"gmail_extra m_=
-7450960007850487810m_-365224957496886160gmail_msg"><br clear=3D"all" class=
=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><div class=3D"m_-=
7450960007850487810m_-365224957496886160gmail_msg"><div class=3D"m_-7450960=
007850487810m_-365224957496886160m_-5300382142425417683m_135508862525481844=
1m_-8917703324977184479m_5553504256568381150gmail_signature m_-745096000785=
0487810m_-365224957496886160gmail_msg" data-smartmail=3D"gmail_signature"><=
div class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><div cla=
ss=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><span class=3D"=
m_-7450960007850487810m_-365224957496886160gmail_msg"><div class=3D"m_-7450=
960007850487810m_-365224957496886160gmail_msg"><div class=3D"m_-74509600078=
50487810m_-365224957496886160gmail_msg"><font size=3D"2" face=3D"tahoma, sa=
ns-serif" color=3D"#000000" class=3D"m_-7450960007850487810m_-3652249574968=
86160gmail_msg">Thanks,</font></div><font size=3D"2" face=3D"tahoma, sans-s=
erif" class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><font =
color=3D"#000000" class=3D"m_-7450960007850487810m_-365224957496886160gmail=
_msg">-Jie<br class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg=
"><br class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg">------=
------------------------<wbr>--------------</font></font></div><div class=
=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><span style=3D"co=
lor:rgb(0,0,0);font-family:tahoma,sans-serif;font-size:small" class=3D"m_-7=
450960007850487810m_-365224957496886160gmail_msg">Department of Computer Sc=
ience &amp; Engineering</span><font size=3D"2" face=3D"tahoma, sans-serif" =
class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><font color=
=3D"#000000" class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"=
><br class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"></font>=
</font></div></span><div class=3D"m_-7450960007850487810m_-3652249574968861=
60gmail_msg"><span style=3D"color:rgb(0,0,0);font-family:tahoma,sans-serif;=
font-size:small" class=3D"m_-7450960007850487810m_-365224957496886160gmail_=
msg">Erwin E. Dreese Laboratories 774</span></div><div class=3D"m_-74509600=
07850487810m_-365224957496886160gmail_msg"><span style=3D"color:rgb(0,0,0);=
font-family:tahoma,sans-serif;font-size:small" class=3D"m_-7450960007850487=
810m_-365224957496886160gmail_msg">The Ohio State University</span><span st=
yle=3D"color:rgb(0,0,0);font-family:tahoma,sans-serif;font-size:small" clas=
s=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br class=3D"m_-=
7450960007850487810m_-365224957496886160gmail_msg"></span></div><div class=
=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><span style=3D"co=
lor:rgb(0,0,0);font-family:tahoma,sans-serif;font-size:small" class=3D"m_-7=
450960007850487810m_-365224957496886160gmail_msg">2015 Neil Avenue</span></=
div><div class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><sp=
an style=3D"color:rgb(0,0,0);font-family:tahoma,sans-serif;font-size:small"=
 class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg">Columbus, O=
H 43210, USA</span></div><div class=3D"m_-7450960007850487810m_-36522495749=
6886160gmail_msg"><span style=3D"font-family:times new roman,serif;color:rg=
b(51,51,255)" class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg=
"></span></div></div></div></div></div><div class=3D"m_-7450960007850487810=
m_-365224957496886160gmail_msg"><div class=3D"m_-7450960007850487810m_-3652=
24957496886160m_-5300382142425417683m_1355088625254818441m_-891770332497718=
4479h5 m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br><br cl=
ass=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><div class=3D"=
gmail_quote m_-7450960007850487810m_-365224957496886160gmail_msg">On Tue, J=
an 31, 2017 at 12:08 PM, Xiaoyi Lu@gmail <span class=3D"m_-7450960007850487=
810m_-365224957496886160gmail_msg">&lt;<a href=3D"mailto:cheri...@gmail.com=
" class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg" target=3D"=
_blank">cheri...@gmail.com</a>&gt;</span> wrote:<br class=3D"m_-74509600078=
50487810m_-365224957496886160gmail_msg"><blockquote class=3D"gmail_quote m_=
-7450960007850487810m_-365224957496886160gmail_msg" style=3D"margin:0 0 0 .=
8ex;border-left:1px #ccc solid;padding-left:1ex"><div class=3D"m_-745096000=
7850487810m_-365224957496886160gmail_msg">Thanks, Brian. We will explore th=
ese and get back to you.<span class=3D"m_-7450960007850487810m_-36522495749=
6886160m_-5300382142425417683m_1355088625254818441m_-8917703324977184479m_5=
553504256568381150HOEnZb m_-7450960007850487810m_-365224957496886160gmail_m=
sg"><font color=3D"#888888" class=3D"m_-7450960007850487810m_-3652249574968=
86160gmail_msg"><div class=3D"m_-7450960007850487810m_-365224957496886160gm=
ail_msg"><br class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"=
></div><div class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg">=
Xiaoyi</div><div class=3D"m_-7450960007850487810m_-365224957496886160gmail_=
msg"><br class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"></d=
iv></font></span></div><div class=3D"m_-7450960007850487810m_-3652249574968=
86160m_-5300382142425417683m_1355088625254818441m_-8917703324977184479m_555=
3504256568381150HOEnZb m_-7450960007850487810m_-365224957496886160gmail_msg=
"><div class=3D"m_-7450960007850487810m_-365224957496886160m_-5300382142425=
417683m_1355088625254818441m_-8917703324977184479m_5553504256568381150h5 m_=
-7450960007850487810m_-365224957496886160gmail_msg"><div class=3D"gmail_ext=
ra m_-7450960007850487810m_-365224957496886160gmail_msg"><br class=3D"m_-74=
50960007850487810m_-365224957496886160gmail_msg"><div class=3D"gmail_quote =
m_-7450960007850487810m_-365224957496886160gmail_msg">On Tue, Jan 31, 2017 =
at 11:59 AM, Brian Bockelman <span class=3D"m_-7450960007850487810m_-365224=
957496886160gmail_msg">&lt;<a href=3D"mailto:bock...@gmail.com" class=3D"m_=
-7450960007850487810m_-365224957496886160gmail_msg" target=3D"_blank">bock.=
..@gmail.com</a>&gt;</span> wrote:<br class=3D"m_-7450960007850487810m_-365=
224957496886160gmail_msg"><blockquote class=3D"gmail_quote m_-7450960007850=
487810m_-365224957496886160gmail_msg" style=3D"margin:0 0 0 .8ex;border-lef=
t:1px #ccc solid;padding-left:1ex">Hi Xiaoyi,<br class=3D"m_-74509600078504=
87810m_-365224957496886160gmail_msg"><br><br><br class=3D"m_-74509600078504=
87810m_-365224957496886160gmail_msg"><br><br>Two things would help -<br cla=
ss=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br><br cla=
ss=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br>1) Outp=
ut of &quot;ps faux&quot; when done with the mpirun case.=C2=A0 This will h=
elp<br class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><=
br>understand which processes are running and have which parentage.<br clas=
s=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br>2) For t=
he case that&#39;s sticking, for any singularity processes, a stack trace.<=
br class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br><=
br class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br>T=
he poll command you reference tends to be waiting on a sub-process to<br cl=
ass=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br>exec, =
so it&#39;s possible we are not looking at the right thing.<br class=3D"m_-=
7450960007850487810m_-365224957496886160gmail_msg"><br><br><br class=3D"m_-=
7450960007850487810m_-365224957496886160gmail_msg"><br><br>Thanks,<br class=
=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br><br class=
=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br>Brian<br =
class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br><div=
 class=3D"m_-7450960007850487810m_-365224957496886160m_-5300382142425417683=
m_1355088625254818441m_-8917703324977184479m_5553504256568381150m_186397339=
1569103025HOEnZb m_-7450960007850487810m_-365224957496886160gmail_msg"><div=
 class=3D"m_-7450960007850487810m_-365224957496886160m_-5300382142425417683=
m_1355088625254818441m_-8917703324977184479m_5553504256568381150m_186397339=
1569103025h5 m_-7450960007850487810m_-365224957496886160gmail_msg"><br clas=
s=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br>On Tue, =
Jan 31, 2017 at 10:43 AM, Xiaoyi Lu &lt;<a href=3D"mailto:cheri...@gmail.co=
m" class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg" target=3D=
"_blank">cheri...@gmail.com</a>&gt; wrote:<br class=3D"m_-74509600078504878=
10m_-365224957496886160gmail_msg"><br><br>&gt; Hi, Krishna,<br class=3D"m_-=
7450960007850487810m_-365224957496886160gmail_msg"><br><br>&gt;<br class=3D=
"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br>&gt; Jie is =
traveling internationally. Here is the new update from us.<br class=3D"m_-7=
450960007850487810m_-365224957496886160gmail_msg"><br><br>&gt;<br class=3D"=
m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br>&gt; We found=
 that with mpirun_rsh, the parent process did not get back from<br class=3D=
"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br>&gt; singula=
rity_fork() in `singularity_sessiondir_init&#39;.<br class=3D"m_-7450960007=
850487810m_-365224957496886160gmail_msg"><br><br>&gt;<br class=3D"m_-745096=
0007850487810m_-365224957496886160gmail_msg"><br><br>&gt; It seems that it =
keeps on waiting on signal from watchdog (poll(fds,<br class=3D"m_-74509600=
07850487810m_-365224957496886160gmail_msg"><br><br>&gt; watchdog_rpipe =3D=
=3D -1 ? 2 : 3, -1)).<br class=3D"m_-7450960007850487810m_-3652249574968861=
60gmail_msg"><br><br>&gt;<br class=3D"m_-7450960007850487810m_-365224957496=
886160gmail_msg"><br><br>&gt;<br class=3D"m_-7450960007850487810m_-36522495=
7496886160gmail_msg"><br><br>&gt; We are pretty sure this difference, compa=
red to the case without mpirun_rsh.<br class=3D"m_-7450960007850487810m_-36=
5224957496886160gmail_msg"><br><br>&gt;<br class=3D"m_-7450960007850487810m=
_-365224957496886160gmail_msg"><br><br>&gt;<br class=3D"m_-7450960007850487=
810m_-365224957496886160gmail_msg"><br><br>&gt; Any thoughts here?<br class=
=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br>&gt;<br c=
lass=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br>&gt;<=
br class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br>&=
gt; Thanks,<br class=3D"m_-7450960007850487810m_-365224957496886160gmail_ms=
g"><br><br>&gt;<br class=3D"m_-7450960007850487810m_-365224957496886160gmai=
l_msg"><br><br>&gt; Xiaoyi<br class=3D"m_-7450960007850487810m_-36522495749=
6886160gmail_msg"><br><br>&gt;<br class=3D"m_-7450960007850487810m_-3652249=
57496886160gmail_msg"><br><br>&gt;<br class=3D"m_-7450960007850487810m_-365=
224957496886160gmail_msg"><br><br>&gt; On Friday, January 27, 2017 at 11:18=
:59 AM UTC-5, Jie Zhang wrote:<br class=3D"m_-7450960007850487810m_-3652249=
57496886160gmail_msg"><br><br>&gt;&gt;<br class=3D"m_-7450960007850487810m_=
-365224957496886160gmail_msg"><br><br>&gt;&gt; Thanks, Krishna,<br class=3D=
"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;<br =
class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br>&gt;=
&gt; I corrected the way to run strace.<br class=3D"m_-7450960007850487810m=
_-365224957496886160gmail_msg"><br><br>&gt;&gt; 1. singularity exec singula=
rity-centos7.img strace date<br class=3D"m_-7450960007850487810m_-365224957=
496886160gmail_msg"><br><br>&gt;&gt; 2. mpirun_rsh -np 1=C2=A0 host1=C2=A0 =
singularity exec singularity-centos7.img<br class=3D"m_-7450960007850487810=
m_-365224957496886160gmail_msg"><br><br>&gt;&gt; strace date<br class=3D"m_=
-7450960007850487810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;<br cla=
ss=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br>&gt;&gt=
; I see both of them show `+++exited with 0+++&#39; at the end, even though=
 it&#39;s<br class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"=
><br><br>&gt;&gt; stuck after that for #2.<br class=3D"m_-74509600078504878=
10m_-365224957496886160gmail_msg"><br><br>&gt;&gt; The log files are attach=
ed below.<br class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"=
><br><br>&gt;&gt;<br class=3D"m_-7450960007850487810m_-365224957496886160gm=
ail_msg"><br><br>&gt;&gt;<br class=3D"m_-7450960007850487810m_-365224957496=
886160gmail_msg"><br><br>&gt;&gt;<br class=3D"m_-7450960007850487810m_-3652=
24957496886160gmail_msg"><br><br>&gt;&gt; On Friday, January 27, 2017 at 3:=
47:30 AM UTC-5, Krishna Muriki wrote:<br class=3D"m_-7450960007850487810m_-=
365224957496886160gmail_msg"><br><br>&gt;&gt;&gt;<br class=3D"m_-7450960007=
850487810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;&gt; Jie,<br class=
=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;&=
gt;<br class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><=
br>&gt;&gt;&gt; What we should do is to run strace on the date command insi=
de the<br class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><b=
r><br>&gt;&gt;&gt; singularity container not on the singularity command its=
elf. Mount this<br class=3D"m_-7450960007850487810m_-365224957496886160gmai=
l_msg"><br><br>&gt;&gt;&gt; singularity container singularity-centos7.img i=
n read/write mode on your<br class=3D"m_-7450960007850487810m_-365224957496=
886160gmail_msg"><br><br>&gt;&gt;&gt; endpoint, install strace package into=
 it. After then when you invoke<br class=3D"m_-7450960007850487810m_-365224=
957496886160gmail_msg"><br><br>&gt;&gt;&gt; mpirun_rsh run it like this:<br=
 class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br>&gt=
;&gt;&gt;<br class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"=
><br><br>&gt;&gt;&gt; mpirun_rsh -np 1=C2=A0 host1=C2=A0 singularity exec s=
ingularity-centos7.img strace<br class=3D"m_-7450960007850487810m_-36522495=
7496886160gmail_msg"><br><br>&gt;&gt;&gt; date<br class=3D"m_-7450960007850=
487810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;&gt;<br class=3D"m_-7=
450960007850487810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;&gt; Than=
ks,<br class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><=
br>&gt;&gt;&gt; Krishna.<br class=3D"m_-7450960007850487810m_-3652249574968=
86160gmail_msg"><br><br>&gt;&gt;&gt;<br class=3D"m_-7450960007850487810m_-3=
65224957496886160gmail_msg"><br><br>&gt;&gt;&gt; On Thu, Jan 26, 2017 at 10=
:55 PM, Jie Zhang &lt;<a href=3D"mailto:jes...@gmail.com" class=3D"m_-74509=
60007850487810m_-365224957496886160gmail_msg" target=3D"_blank">jes...@gmai=
l.com</a>&gt; wrote:<br class=3D"m_-7450960007850487810m_-36522495749688616=
0gmail_msg"><br><br>&gt;&gt;&gt;&gt;<br class=3D"m_-7450960007850487810m_-3=
65224957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt; Hi, Krishna,<br class=
=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;&=
gt;&gt;<br class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><=
br><br>&gt;&gt;&gt;&gt; I tried adding strace to the plain singularity case=
 (strace<br class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg">=
<br><br>&gt;&gt;&gt;&gt; /usr/local/bin/singularity exec singularity-centos=
7.img date), what I found<br class=3D"m_-7450960007850487810m_-365224957496=
886160gmail_msg"><br><br>&gt;&gt;&gt;&gt; is that it actually exited with e=
rror (255) at the end<br class=3D"m_-7450960007850487810m_-3652249574968861=
60gmail_msg"><br><br>&gt;&gt;&gt;&gt; (non-root-strace.log).<br class=3D"m_=
-7450960007850487810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt=
; If trying with root (sudo strace /usr/local/bin/singularity exec<br class=
=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;&=
gt;&gt; singularity-centos7.img date), there&#39;s no error. (root-strace.l=
og)<br class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><=
br>&gt;&gt;&gt;&gt; Trying with mpirun_rsh, it looks hanging on futex syste=
m call.<br class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><=
br><br>&gt;&gt;&gt;&gt; (non-root-mpirun_rsh-strace.lo<wbr>g)<br class=3D"m=
_-7450960007850487810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;&gt;&g=
t;<br class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><b=
r>&gt;&gt;&gt;&gt; Please take a look at the log files attached below to se=
e if you have<br class=3D"m_-7450960007850487810m_-365224957496886160gmail_=
msg"><br><br>&gt;&gt;&gt;&gt; any insight.<br class=3D"m_-74509600078504878=
10m_-365224957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;<br class=3D"m_-7=
450960007850487810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;<=
br class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br>&=
gt;&gt;&gt;&gt;<br class=3D"m_-7450960007850487810m_-365224957496886160gmai=
l_msg"><br><br>&gt;&gt;&gt;&gt; On Thursday, January 26, 2017 at 8:10:22 PM=
 UTC-5, Krishna Muriki wrote:<br class=3D"m_-7450960007850487810m_-36522495=
7496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;<br class=3D"m_-7450960007=
850487810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt; Jie,<=
br class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br>&=
gt;&gt;&gt;&gt;&gt;<br class=3D"m_-7450960007850487810m_-365224957496886160=
gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt; Could you add strace to the contain=
er and run strace date to see why<br class=3D"m_-7450960007850487810m_-3652=
24957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt; the date process is g=
oing defunct ? Also first try running with -np 1 host1<br class=3D"m_-74509=
60007850487810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt; =
and then scale to -np 2 and multiple nodes.<br class=3D"m_-7450960007850487=
810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;<br class=3D=
"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;&gt;=
&gt;&gt; Thanks,<br class=3D"m_-7450960007850487810m_-365224957496886160gma=
il_msg"><br><br>&gt;&gt;&gt;&gt;&gt; Krishna.<br class=3D"m_-74509600078504=
87810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;<br class=
=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;&=
gt;&gt;&gt; On Thu, Jan 26, 2017 at 5:07 PM, Jie Zhang &lt;<a href=3D"mailt=
o:jes...@gmail.com" class=3D"m_-7450960007850487810m_-365224957496886160gma=
il_msg" target=3D"_blank">jes...@gmail.com</a>&gt;<br class=3D"m_-745096000=
7850487810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt; wrot=
e:<br class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><b=
r>&gt;&gt;&gt;&gt;&gt;&gt;<br class=3D"m_-7450960007850487810m_-36522495749=
6886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt; Hi, Krishna,<br class=3D=
"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;&gt;=
&gt;&gt;&gt;<br class=3D"m_-7450960007850487810m_-365224957496886160gmail_m=
sg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;<br class=3D"m_-7450960007850487810m_-3=
65224957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt; Without mpirun=
_rsh, all other tests work fine.<br class=3D"m_-7450960007850487810m_-36522=
4957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;<br class=3D"m_-745=
0960007850487810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt=
;&gt; ssh host1=C2=A0 singularity exec singularity-centos7.img date<br clas=
s=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;=
&gt;&gt;&gt;&gt; singularity exec singularity-centos7.img date<br class=3D"=
m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;&gt;&=
gt;&gt;&gt;<br class=3D"m_-7450960007850487810m_-365224957496886160gmail_ms=
g"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;<br class=3D"m_-7450960007850487810m_-36=
5224957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;<br class=3D"m_-=
7450960007850487810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;=
&gt;&gt; On Thursday, January 26, 2017 at 7:58:21 PM UTC-5, Krishna Muriki<=
br class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br>&=
gt;&gt;&gt;&gt;&gt;&gt; wrote:<br class=3D"m_-7450960007850487810m_-3652249=
57496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br class=3D"m_-7=
450960007850487810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&=
gt;&gt;&gt; Jie,<br class=3D"m_-7450960007850487810m_-365224957496886160gma=
il_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br class=3D"m_-745096000785048=
7810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; Ca=
n you do a couple of tests, see if directly running=C2=A0 &#39;singularity<=
br class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br>&=
gt;&gt;&gt;&gt;&gt;&gt;&gt; exec singularity-centos7.img date&#39; without =
mpirun_rsh returns the prompt<br class=3D"m_-7450960007850487810m_-36522495=
7496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; back to you prope=
rly. If that also gets struck, add strace to your container<br class=3D"m_-=
7450960007850487810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;=
&gt;&gt;&gt; and run strace date.<br class=3D"m_-7450960007850487810m_-3652=
24957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br class=3D"m=
_-7450960007850487810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;&gt;&g=
t;&gt;&gt;&gt; If that does return properly try running with &#39;ssh host1=
=C2=A0 singularity<br class=3D"m_-7450960007850487810m_-365224957496886160g=
mail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; exec singularity-centos7.img=
 date&#39; without mpirun_rsh and see if that works.<br class=3D"m_-7450960=
007850487810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt=
;&gt;<br class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br=
><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; --Krishna.<br class=3D"m_-745096000785048=
7810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br=
 class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br>&gt=
;&gt;&gt;&gt;&gt;&gt;&gt; On Thu, Jan 26, 2017 at 1:51 PM, Jie Zhang &lt;<a=
 href=3D"mailto:zh...@osu.edu" class=3D"m_-7450960007850487810m_-3652249574=
96886160gmail_msg" target=3D"_blank">zh...@osu.edu</a>&gt; wrote:<br class=
=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;&=
gt;&gt;&gt;&gt;&gt;&gt;<br class=3D"m_-7450960007850487810m_-36522495749688=
6160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Hello,<br class=3D"=
m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;&gt;&=
gt;&gt;&gt;&gt;&gt;<br class=3D"m_-7450960007850487810m_-365224957496886160=
gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; I&#39;m trying singular=
ity with MVAPICH2. I found a small issue here.<br class=3D"m_-7450960007850=
487810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&=
gt; When running `mpirun_rsh -np 2=C2=A0 host1 host1=C2=A0 singularity exec=
<br class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br>=
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; singularity-centos7.img date&#39;, the rou=
tine (date) got executed successfully,<br class=3D"m_-7450960007850487810m_=
-365224957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; but =
the mpi command is not able to return.<br class=3D"m_-7450960007850487810m_=
-365224957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br c=
lass=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br>&gt;&=
gt;&gt;&gt;&gt;&gt;&gt;&gt; [runbot@host1:singularity]$mpi<wbr>run_rsh -np =
2=C2=A0 host1 host1<br class=3D"m_-7450960007850487810m_-365224957496886160=
gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; singularity exec singul=
arity-centos7.img date<br class=3D"m_-7450960007850487810m_-365224957496886=
160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Thu Jan 26 16:38:35 =
EST 2017<br class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg">=
<br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Thu Jan 26 16:38:35 EST 2017<br cl=
ass=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br>&gt;&g=
t;&gt;&gt;&gt;&gt;&gt;&gt; (stuck here...., can Not return)<br class=3D"m_-=
7450960007850487810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;=
&gt;&gt;&gt;&gt;<br class=3D"m_-7450960007850487810m_-365224957496886160gma=
il_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; And I can see the `date&#3=
9; command does not return properly.<br class=3D"m_-7450960007850487810m_-3=
65224957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; [runbo=
t@host1:singularity]$ps -Af | grep runbot<br class=3D"m_-745096000785048781=
0m_-365224957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; .=
........<br class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg">=
<br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; runbot=C2=A0 =C2=A07347=C2=A0 7345=
=C2=A0 0 16:45 pts/1=C2=A0 =C2=A0 00:00:00<br class=3D"m_-74509600078504878=
10m_-365224957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; =
/home/runbot/singularity/maste<wbr>r.install/bin/mpispawn 0<br class=3D"m_-=
7450960007850487810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;=
&gt;&gt;&gt;&gt; runbot=C2=A0 7349=C2=A0 7347=C2=A0 0 16:45 pts/1=C2=A0 =C2=
=A0 00:00:00<br class=3D"m_-7450960007850487810m_-365224957496886160gmail_m=
sg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; /usr/local/libexec/singularity=
<wbr>/sexec date<br class=3D"m_-7450960007850487810m_-365224957496886160gma=
il_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; runbot=C2=A0 7350=C2=A0 73=
47=C2=A0 0 16:45 pts/1=C2=A0 =C2=A0 00:00:00<br class=3D"m_-745096000785048=
7810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt=
; /usr/local/libexec/singularity<wbr>/sexec date<br class=3D"m_-74509600078=
50487810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt=
;&gt; runbot=C2=A0 7355=C2=A0 7349=C2=A0 0 16:45 pts/1=C2=A0 =C2=A0 00:00:0=
0 [date] &lt;defunct&gt;<br class=3D"m_-7450960007850487810m_-3652249574968=
86160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; runbot=C2=A0 7356=
=C2=A0 7350=C2=A0 0 16:45 pts/1=C2=A0 =C2=A0 00:00:00 [date] &lt;defunct&gt=
;<br class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br=
>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br class=3D"m_-7450960007850487810m_-3652=
24957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; I&#39;m n=
ot sure whether the issue is from either mpi launcher,<br class=3D"m_-74509=
60007850487810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&=
gt;&gt;&gt; singularity or the interaction between both. Do you have any id=
ea?<br class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><=
br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br class=3D"m_-7450960007850487810m_-36=
5224957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br clas=
s=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;=
&gt;&gt;&gt;&gt;&gt;&gt; Thanks,<br class=3D"m_-7450960007850487810m_-36522=
4957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; -Jie<br cl=
ass=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br>&gt;&g=
t;&gt;&gt;&gt;&gt;&gt;&gt;<br class=3D"m_-7450960007850487810m_-36522495749=
6886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; ----------------=
--------------<wbr>--------------<br class=3D"m_-7450960007850487810m_-3652=
24957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Departmen=
t of Computer Science &amp; Engineering<br class=3D"m_-7450960007850487810m=
_-365224957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Erw=
in E. Dreese Laboratories, 2015 Neil Avenue<br class=3D"m_-7450960007850487=
810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;=
 Ohio State University<br class=3D"m_-7450960007850487810m_-365224957496886=
160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br class=3D"m_-74509=
60007850487810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&=
gt;&gt;&gt; --<br class=3D"m_-7450960007850487810m_-365224957496886160gmail=
_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; You received this message be=
cause you are subscribed to the Google<br class=3D"m_-7450960007850487810m_=
-365224957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Grou=
ps &quot;singularity&quot; group.<br class=3D"m_-7450960007850487810m_-3652=
24957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; To unsubs=
cribe from this group and stop receiving emails from it,<br class=3D"m_-745=
0960007850487810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt=
;&gt;&gt;&gt; send an email to <a href=3D"mailto:singu...@lbl.gov" class=3D=
"m_-7450960007850487810m_-365224957496886160gmail_msg" target=3D"_blank">si=
ngu...@lbl.gov</a>.<br class=3D"m_-7450960007850487810m_-365224957496886160=
gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br class=3D"m_-745096000785=
0487810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;=
<br class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br>=
&gt;&gt;&gt;&gt;&gt;&gt; --<br class=3D"m_-7450960007850487810m_-3652249574=
96886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt; You received this messa=
ge because you are subscribed to the Google<br class=3D"m_-7450960007850487=
810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt; Groups =
&quot;singularity&quot; group.<br class=3D"m_-7450960007850487810m_-3652249=
57496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt; To unsubscribe from =
this group and stop receiving emails from it, send<br class=3D"m_-745096000=
7850487810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt; =
an email to <a href=3D"mailto:singu...@lbl.gov" class=3D"m_-745096000785048=
7810m_-365224957496886160gmail_msg" target=3D"_blank">singu...@lbl.gov</a>.=
<br class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br>=
&gt;&gt;&gt;&gt;&gt;<br class=3D"m_-7450960007850487810m_-36522495749688616=
0gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;<br class=3D"m_-7450960007850487810=
m_-365224957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt; --<br class=3D"m_-=
7450960007850487810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt;=
 You received this message because you are subscribed to the Google<br clas=
s=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;=
&gt;&gt; Groups &quot;singularity&quot; group.<br class=3D"m_-7450960007850=
487810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt; To unsubscri=
be from this group and stop receiving emails from it, send<br class=3D"m_-7=
450960007850487810m_-365224957496886160gmail_msg"><br><br>&gt;&gt;&gt;&gt; =
an email to <a href=3D"mailto:singu...@lbl.gov" class=3D"m_-745096000785048=
7810m_-365224957496886160gmail_msg" target=3D"_blank">singu...@lbl.gov</a>.=
<br class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br>=
&gt;&gt;&gt;<br class=3D"m_-7450960007850487810m_-365224957496886160gmail_m=
sg"><br><br>&gt;&gt;&gt;<br class=3D"m_-7450960007850487810m_-3652249574968=
86160gmail_msg"><br><br>&gt; --<br class=3D"m_-7450960007850487810m_-365224=
957496886160gmail_msg"><br><br>&gt; You received this message because you a=
re subscribed to the Google Groups<br class=3D"m_-7450960007850487810m_-365=
224957496886160gmail_msg"><br><br>&gt; &quot;singularity&quot; group.<br cl=
ass=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br>&gt; T=
o unsubscribe from this group and stop receiving emails from it, send an<br=
 class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br>&gt=
; email to <a href=3D"mailto:singularity%...@lbl.gov" class=3D"m_-745096000=
7850487810m_-365224957496886160gmail_msg" target=3D"_blank">singularity+uns=
ubscribe@lbl.go<wbr>v</a>.<br class=3D"m_-7450960007850487810m_-36522495749=
6886160gmail_msg"><br><br><br class=3D"m_-7450960007850487810m_-36522495749=
6886160gmail_msg"><br><br>--<br class=3D"m_-7450960007850487810m_-365224957=
496886160gmail_msg"><br><br>You received this message because you are subsc=
ribed to the Google Groups &quot;singularity&quot; group.<br class=3D"m_-74=
50960007850487810m_-365224957496886160gmail_msg"><br><br>To unsubscribe fro=
m this group and stop receiving emails from it, send an email to <a href=3D=
"mailto:singularity%...@lbl.gov" class=3D"m_-7450960007850487810m_-36522495=
7496886160gmail_msg" target=3D"_blank">singularity+unsubscribe@lbl.go<wbr>v=
</a>.<br class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br=
><br></div></div></blockquote></div><br class=3D"m_-7450960007850487810m_-3=
65224957496886160gmail_msg"></div><br><br><br><br><p class=3D"m_-7450960007=
850487810m_-365224957496886160gmail_msg"></p><br><br><br><br>-- <br class=
=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br>You recei=
ved this message because you are subscribed to the Google Groups &quot;sing=
ularity&quot; group.<br class=3D"m_-7450960007850487810m_-36522495749688616=
0gmail_msg"><br><br>To unsubscribe from this group and stop receiving email=
s from it, send an email to <a href=3D"mailto:singu...@lbl.gov" class=3D"m_=
-7450960007850487810m_-365224957496886160gmail_msg" target=3D"_blank">singu=
larity+unsubscribe@lbl.go<wbr>v</a>.<br class=3D"m_-7450960007850487810m_-3=
65224957496886160gmail_msg"><br><br></div></div></blockquote></div><br clas=
s=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"></div></div></di=
v><div class=3D"m_-7450960007850487810m_-365224957496886160m_-5300382142425=
417683m_1355088625254818441m_-8917703324977184479HOEnZb m_-7450960007850487=
810m_-365224957496886160gmail_msg"><div class=3D"m_-7450960007850487810m_-3=
65224957496886160m_-5300382142425417683m_1355088625254818441m_-891770332497=
7184479h5 m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br><br=
><br><p class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"></p>=
<br><br><br><br>-- <br class=3D"m_-7450960007850487810m_-365224957496886160=
gmail_msg"><br><br>You received this message because you are subscribed to =
the Google Groups &quot;singularity&quot; group.<br class=3D"m_-74509600078=
50487810m_-365224957496886160gmail_msg"><br><br>To unsubscribe from this gr=
oup and stop receiving emails from it, send an email to <a href=3D"mailto:s=
ingu...@lbl.gov" class=3D"m_-7450960007850487810m_-365224957496886160gmail_=
msg" target=3D"_blank">singularity+unsubscribe@lbl.go<wbr>v</a>.<br class=
=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br></div></d=
iv></blockquote></div><br class=3D"m_-7450960007850487810m_-365224957496886=
160gmail_msg"><br clear=3D"all" class=3D"m_-7450960007850487810m_-365224957=
496886160gmail_msg"><div class=3D"m_-7450960007850487810m_-3652249574968861=
60gmail_msg"><br class=3D"m_-7450960007850487810m_-365224957496886160gmail_=
msg"></div></div></div><span class=3D"m_-7450960007850487810m_-365224957496=
886160m_-5300382142425417683m_1355088625254818441HOEnZb m_-7450960007850487=
810m_-365224957496886160gmail_msg"><font color=3D"#888888" class=3D"m_-7450=
960007850487810m_-365224957496886160gmail_msg">-- <br class=3D"m_-745096000=
7850487810m_-365224957496886160gmail_msg"><div class=3D"m_-7450960007850487=
810m_-365224957496886160m_-5300382142425417683m_1355088625254818441m_-89177=
03324977184479gmail_signature m_-7450960007850487810m_-365224957496886160gm=
ail_msg" data-smartmail=3D"gmail_signature"><div class=3D"m_-74509600078504=
87810m_-365224957496886160gmail_msg"><div class=3D"m_-7450960007850487810m_=
-365224957496886160gmail_msg"><div class=3D"m_-7450960007850487810m_-365224=
957496886160gmail_msg"><div class=3D"m_-7450960007850487810m_-3652249574968=
86160gmail_msg"><div class=3D"m_-7450960007850487810m_-365224957496886160gm=
ail_msg"><div class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg=
"><div class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><div =
class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><div class=
=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><div class=3D"m_-=
7450960007850487810m_-365224957496886160gmail_msg">Gregory M. Kurtzer</div>=
<div class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg">HPC Sys=
tems Architect and Technology Developer</div><div class=3D"m_-7450960007850=
487810m_-365224957496886160gmail_msg">Lawrence Berkeley National Laboratory=
 HPCS<br class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg">Uni=
versity of California Berkeley Research IT<br class=3D"m_-74509600078504878=
10m_-365224957496886160gmail_msg">Singularity Linux Containers=C2=A0(<a hre=
f=3D"http://singularity.lbl.gov/" class=3D"m_-7450960007850487810m_-3652249=
57496886160gmail_msg" target=3D"_blank">http://singularity<wbr>.lbl.gov/</a=
>)</div><div class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"=
>Warewulf Cluster Management=C2=A0(<a href=3D"http://warewulf.lbl.gov/" cla=
ss=3D"m_-7450960007850487810m_-365224957496886160gmail_msg" target=3D"_blan=
k">http://warewulf.lb<wbr>l.gov/</a>)</div><div class=3D"m_-745096000785048=
7810m_-365224957496886160gmail_msg">GitHub:=C2=A0<a href=3D"https://github.=
com/gmkurtzer" class=3D"m_-7450960007850487810m_-365224957496886160gmail_ms=
g" target=3D"_blank">https://github.com/gmk<wbr>urtzer</a>,=C2=A0<span styl=
e=3D"font-size:12.8px" class=3D"m_-7450960007850487810m_-365224957496886160=
gmail_msg">Twitter:=C2=A0</span><a href=3D"https://twitter.com/gmkurtzer" s=
tyle=3D"font-size:12.8px" class=3D"m_-7450960007850487810m_-365224957496886=
160gmail_msg" target=3D"_blank">https://twitt<wbr>er.com/gmkurtzer</a></div=
></div></div></div></div></div></div></div></div></div></div><br><br></font=
></span></div><div class=3D"m_-7450960007850487810m_-365224957496886160m_-5=
300382142425417683m_1355088625254818441HOEnZb m_-7450960007850487810m_-3652=
24957496886160gmail_msg"><div class=3D"m_-7450960007850487810m_-36522495749=
6886160m_-5300382142425417683m_1355088625254818441h5 m_-7450960007850487810=
m_-365224957496886160gmail_msg"><br><br><br><br><p class=3D"m_-745096000785=
0487810m_-365224957496886160gmail_msg"></p><br><br><br><br>-- <br class=3D"=
m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br>You received =
this message because you are subscribed to the Google Groups &quot;singular=
ity&quot; group.<br class=3D"m_-7450960007850487810m_-365224957496886160gma=
il_msg"><br><br>To unsubscribe from this group and stop receiving emails fr=
om it, send an email to <a href=3D"mailto:singu...@lbl.gov" class=3D"m_-745=
0960007850487810m_-365224957496886160gmail_msg" target=3D"_blank">singulari=
ty+unsubscribe@lbl.go<wbr>v</a>.<br class=3D"m_-7450960007850487810m_-36522=
4957496886160gmail_msg"><br><br></div></div></blockquote></div><br class=3D=
"m_-7450960007850487810m_-365224957496886160gmail_msg"></div><br><br><br><b=
r><p class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"></p><br=
><br><br><br>-- <br class=3D"m_-7450960007850487810m_-365224957496886160gma=
il_msg"><br><br>You received this message because you are subscribed to the=
 Google Groups &quot;singularity&quot; group.<br class=3D"m_-74509600078504=
87810m_-365224957496886160gmail_msg"><br><br>To unsubscribe from this group=
 and stop receiving emails from it, send an email to <a href=3D"mailto:sing=
u...@lbl.gov" class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg=
" target=3D"_blank">singularity+unsubscribe@lbl.go<wbr>v</a>.<br class=3D"m=
_-7450960007850487810m_-365224957496886160gmail_msg"><br><br></div></div></=
blockquote></div><br class=3D"m_-7450960007850487810m_-365224957496886160gm=
ail_msg"><br clear=3D"all" class=3D"m_-7450960007850487810m_-36522495749688=
6160gmail_msg"><div class=3D"m_-7450960007850487810m_-365224957496886160gma=
il_msg"><br class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg">=
</div>-- <br class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"=
><div class=3D"m_-7450960007850487810m_-365224957496886160m_-53003821424254=
17683gmail_signature m_-7450960007850487810m_-365224957496886160gmail_msg" =
data-smartmail=3D"gmail_signature"><div class=3D"m_-7450960007850487810m_-3=
65224957496886160gmail_msg"><div class=3D"m_-7450960007850487810m_-36522495=
7496886160gmail_msg"><div class=3D"m_-7450960007850487810m_-365224957496886=
160gmail_msg"><div class=3D"m_-7450960007850487810m_-365224957496886160gmai=
l_msg"><div class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg">=
<div class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><div cl=
ass=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><div class=3D"=
m_-7450960007850487810m_-365224957496886160gmail_msg"><div class=3D"m_-7450=
960007850487810m_-365224957496886160gmail_msg"><div class=3D"m_-74509600078=
50487810m_-365224957496886160gmail_msg">Gregory M. Kurtzer</div><div class=
=3D"m_-7450960007850487810m_-365224957496886160gmail_msg">HPC Systems Archi=
tect and Technology Developer</div><div class=3D"m_-7450960007850487810m_-3=
65224957496886160gmail_msg">Lawrence Berkeley National Laboratory HPCS<br c=
lass=3D"m_-7450960007850487810m_-365224957496886160gmail_msg">University of=
 California Berkeley Research IT<br class=3D"m_-7450960007850487810m_-36522=
4957496886160gmail_msg">Singularity Linux Containers=C2=A0(<a href=3D"http:=
//singularity.lbl.gov/" class=3D"m_-7450960007850487810m_-36522495749688616=
0gmail_msg" target=3D"_blank">http://singularity<wbr>.lbl.gov/</a>)</div><d=
iv class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg">Warewulf =
Cluster Management=C2=A0(<a href=3D"http://warewulf.lbl.gov/" class=3D"m_-7=
450960007850487810m_-365224957496886160gmail_msg" target=3D"_blank">http://=
warewulf.lb<wbr>l.gov/</a>)</div><div class=3D"m_-7450960007850487810m_-365=
224957496886160gmail_msg">GitHub:=C2=A0<a href=3D"https://github.com/gmkurt=
zer" class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg" target=
=3D"_blank">https://github.com/gmk<wbr>urtzer</a>,=C2=A0<span style=3D"font=
-size:12.8px" class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg=
">Twitter:=C2=A0</span><a href=3D"https://twitter.com/gmkurtzer" style=3D"f=
ont-size:12.8px" class=3D"m_-7450960007850487810m_-365224957496886160gmail_=
msg" target=3D"_blank">https://twitt<wbr>er.com/gmkurtzer</a></div></div></=
div></div></div></div></div></div></div></div></div><br><br></div><br><br><=
br><br><p class=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"></=
p><br><br><br><br>-- <br class=3D"m_-7450960007850487810m_-3652249574968861=
60gmail_msg"><br><br>You received this message because you are subscribed t=
o the Google Groups &quot;singularity&quot; group.<br class=3D"m_-745096000=
7850487810m_-365224957496886160gmail_msg"><br><br>To unsubscribe from this =
group and stop receiving emails from it, send an email to <a href=3D"mailto=
:singu...@lbl.gov" class=3D"m_-7450960007850487810m_-365224957496886160gmai=
l_msg" target=3D"_blank">singularity+unsubscribe@lbl.go<wbr>v</a>.<br class=
=3D"m_-7450960007850487810m_-365224957496886160gmail_msg"><br><br></blockqu=
ote></div></div>

<p></p>

-- <br>
You received this message because you are subscribed to the Google Groups &=
quot;singularity&quot; group.<br>
To unsubscribe from this group and stop receiving emails from it, send an e=
mail to <a href=3D"mailto:singu...@lbl.gov" target=3D"_blank">singularity+u=
nsubscribe@lbl.go<wbr>v</a>.<br>
</div></div></blockquote></div><br></div></div></div>
</blockquote></div><br></div>

--001a1135439c22f871054a123a6c--
