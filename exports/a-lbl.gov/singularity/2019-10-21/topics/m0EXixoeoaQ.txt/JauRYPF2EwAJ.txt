X-Received: by 2002:a63:f443:: with SMTP id p3mr34022911pgk.345.1564590097223;
        Wed, 31 Jul 2019 09:21:37 -0700 (PDT)
X-BeenThere: singularity@lbl.gov
Received: by 2002:a62:1cc1:: with SMTP id c184ls14901005pfc.4.gmail; Wed, 31
 Jul 2019 09:21:35 -0700 (PDT)
X-Received: by 2002:aa7:9531:: with SMTP id c17mr50023781pfp.130.1564590095285;
        Wed, 31 Jul 2019 09:21:35 -0700 (PDT)
ARC-Seal: i=1; a=rsa-sha256; t=1564590095; cv=none;
        d=google.com; s=arc-20160816;
        b=ETYVvm55G2s/3QuxffMbwdT38FHlXAghKBw+Bt7TaplNq2aZVaoRLS9kAxaqHc1Szt
         GFwFwu/pEkp440ZM4qqTxXCKSIwscS5KQV/kszrWRhQlc3edvJ+6o9so3eXER1Odz7uy
         KPm47hzDf28o96Wy6sNz67kvkPkjm7Mnix8Lt81tT4zytPhJVfAn2hLJP0CvyMk0FfM5
         jR6ipQbOF5ADlkcYNNxaxKsippxowkDiK9pYOT1XQCWtB9WdrCb10jWAqQWD48iOxjEi
         g091eLSUqNORBsBocgQx+JslAIoTtiw4GgI8P4g/QnXaKoXWTv7n5L+ir0HnpaiN5uUJ
         OKjQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;
        h=to:subject:message-id:date:from:in-reply-to:references:mime-version
         :dkim-signature;
        bh=gUwPNYXeeWZ2EaHrrymxaTMWKgmVnHhqlk6o5IPO8dU=;
        b=kT8NDczvHTaUco20kWYgivPFeWcKIFN2T6iFZ3kBcyE8VyNtwpZUsC4aOYP35sEW6o
         w+QtK8UHNVoru781iUN405WJK9OZNNBMiIgaHTp0dEtTijoKwtuirCq1dZac0NVYTHWu
         SOpXndddMkXGyPGbMAf4CRlrD6NST9t64yc5MQmMfVxZcztpruQXfsyokXR9dLLX0O1b
         URMtduuKK3perLDGG2b9iRiE7Bfjo9JYzhi+RL1FgjSpmOrfBrPjP1uVMO6gYBSIwJRG
         j4ntGd3QuYF9A8V+n/Wv1O7HNowTCnpFAM5s1JemR3uSenpU68ZCd47jDR/xZNEqq5OA
         HYFw==
ARC-Authentication-Results: i=1; mx.google.com;
       dkim=pass head...@gmail.com header.s=20161025 header.b=M0BAFwn4;
       spf=pass (google.com: domain of vso...@gmail.com designates 209.85.166.50 as permitted sender) smtp.mailfrom=vso...@gmail.com
Return-Path: <vso...@gmail.com>
Received: from fe3.lbl.gov (fe3.lbl.gov. [131.243.228.52])
        by mx.google.com with ESMTP id z17si33138150pgl.560.2019.07.31.09.21.35
        for <singu...@lbl.gov>;
        Wed, 31 Jul 2019 09:21:35 -0700 (PDT)
Received-SPF: pass (google.com: domain of vso...@gmail.com designates 209.85.166.50 as permitted sender) client-ip=209.85.166.50;
Authentication-Results: mx.google.com;
       dkim=pass head...@gmail.com header.s=20161025 header.b=M0BAFwn4;
       spf=pass (google.com: domain of vso...@gmail.com designates 209.85.166.50 as permitted sender) smtp.mailfrom=vso...@gmail.com
X-Ironport-SBRS: 2.7
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: =?us-ascii?q?A2HmAACvv0FdfzKmVdFiAx4BBgcGgVYGC?=
 =?us-ascii?q?wGBbVIBRFEzKoQXB4Edgi0xi0GCD4pZjj6BEAMYOAQJAQEBAQEBAQEBIAEFEQE?=
 =?us-ascii?q?BAoECgzwCgk8jNwYOAQMBAQUBAQEBBgICEAEBCQsLCCeFJwyCdARNOy8BAQEBA?=
 =?us-ascii?q?QEBAQEBAQEBARwCDCEGPgECAgEaCR0BDQ4YBgMBCwYDAgcELQMHAgIiAQ4DAQU?=
 =?us-ascii?q?BHA4HBAEaAgSDAiYBgUIBAw4PBQqREJAPPIshgRUFAReCewV2gz8KGScNYoE8A?=
 =?us-ascii?q?gcSgSKLYBeBf4QjPoJhAgIVA4ELCQESAQk3DBqCRII2IgSMBxqKEZRdCT6BXoZ?=
 =?us-ascii?q?cjT0bgi6CKYkMhiqECZRfMYwkhAkwgUVaMHFwFTsxgjsJgjkMFxSDOopvJjABA?=
 =?us-ascii?q?QENjG6CQwEB?=
X-IronPort-AV: E=Sophos;i="5.64,330,1559545200"; 
   d="scan'208,217";a="163380992"
Received: from mail-io1-f50.google.com ([209.85.166.50])
  by fe3.lbl.gov with ESMTP; 31 Jul 2019 09:21:09 -0700
Received: by mail-io1-f50.google.com with SMTP id m24so137591742ioo.2
        for <singu...@lbl.gov>; Wed, 31 Jul 2019 09:21:09 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:references:in-reply-to:from:date:message-id:subject:to;
        bh=gUwPNYXeeWZ2EaHrrymxaTMWKgmVnHhqlk6o5IPO8dU=;
        b=M0BAFwn4prlyt3m5qZB3l641xUhkW6bG2MwRRItfkP4TKvZOCvcuZblNs1LcodCha2
         72S2hB25a1wyr8u7VGhLbyxSiOPIHkwFRsZKdRZ+aNt7MQKCToQ+inhZhuAg7f+n/TWC
         CiIHRTAfq/6C7h+Osc3bHRJ2dXcHdaSAKdRxiTRoXMagQE+WvYppOrAC/difDLWk0M6R
         KUuDCdwJHpm14UqJym/Q/HdShtkVgDo5oMPGoKf9kuH81VuvD+6ugJl0+zADgXVqPbYz
         o7mQmBZXYVF3SpS0mUxmH4pTZ+TU6d9XZgJORsFEivftoIHTBjsgLdplcD4+o+DgR1N7
         KdrQ==
X-Gm-Message-State: APjAAAV3xviez6vw53pyREIZ/lXh+t1L0pu8uRBOU/4KXASpGVpdLZZr
	9j1zAHXmaeKFLQ9+0FuZNEnPW446Fb1PMgeGOC3/Af/n
X-Received: by 2002:a5e:a710:: with SMTP id b16mr41029065iod.38.1564590068814;
 Wed, 31 Jul 2019 09:21:08 -0700 (PDT)
MIME-Version: 1.0
References: <CABJnLg0J2P-QWG4a3ggLByaV80YVA=-rY-yDqRvKR59GkxQd2w@mail.gmail.com>
In-Reply-To: <CABJnLg0J2P-QWG4a3ggLByaV80YVA=-rY-yDqRvKR59GkxQd2w@mail.gmail.com>
From: v <vso...@gmail.com>
Date: Wed, 31 Jul 2019 12:20:56 -0400
Message-ID: <CAM=pu++UToT3bfe9gj1tW2-LTj43MZjVh=QDFUYZtwXrdf6Xqg@mail.gmail.com>
Subject: Re: [Singularity] singularity shell gives "exec /.singularity.d/actions/shell
 failed: no such file or directory"
To: singularity@lbl.gov
Content-Type: multipart/alternative; boundary="000000000000455a6c058efc8387"

--000000000000455a6c058efc8387
Content-Type: text/plain; charset="UTF-8"

What commands did you issue? Without a history of what you did, it would be
hard to try and reproduce, other than guessing. If I were in your shoes I
would start with a recipe file, and then write the commands that you need
to issue (to compile, etc.) and then build the container. Then if you run
into trouble, it's a matter of sharing the recipe and easy to help! Your
future self will thank you when you need to rebuild, and perhaps don't
remember.


On Wed, Jul 31, 2019 at 12:12 PM Keith Ball <kb...@redlineperf.com> wrote:

> Hi All,
>
> I have created a sandbox using singularity version 3.2.1-1.1.el7 on CentOS
> 7.6.
> I have used shell to go into the container a few times in --writable mode,
> to compile code, etc. Now when I go to shell back in, I am getting the
> following error:
>
>    exec /.singularity.d/actions/shell failed: no such file or directory
>
> The "shell" file is in fact inside the sandbox directory and is executable:
> -rwxr-xr-x 1 kball kball 613 Jul 26 21:07
> mycontainer/.singularity.d/actions/shell
>
> What am I missing? Is there some wat to get around this error to get into
> the container?
>
> Full debug output follows:
> --
> singularity --debug shell -B /applocal:/applocal:ro -B
> /fsx/home/kball/singularity:/extmount --writable mycontainer
>
> VERBOSE [U=0,P=21418]      print()                       Set messagelevel
> to: 5
> DEBUG   [U=0,P=21418]      init()                        PIPE_EXEC_FD
> value: 7
> VERBOSE [U=0,P=21418]      init()                        Container runtime
> VERBOSE [U=0,P=21418]      is_suid()                     Check if we are
> running as setuid
> DEBUG   [U=0,P=21418]      init()                        Overlay seems
> supported by kernel
> DEBUG   [U=0,P=21418]      init()                        Drop privileges
> DEBUG   [U=1004,P=21418]   init()                        Read json
> configuration from pipe
> DEBUG   [U=1004,P=21418]   init()                        Set child signal
> mask
> DEBUG   [U=1004,P=21418]   init()                        Wait completion
> of stage1
> VERBOSE [U=1004,P=21430]   priv_escalate()               Get root
> privileges
> DEBUG   [U=0,P=21430]      set_parent_death_signal()     Set parent death
> signal to 9
> DEBUG   [U=0,P=21430]      prepare_stage()               Entering in stage
> 1
> DEBUG   [U=1004,P=21430]   set_parent_death_signal()     Set parent death
> signal to 9
> VERBOSE [U=1004,P=21430]   init()                        Spawn stage 1
> VERBOSE [U=1004,P=21430]   startup()                     Execute stage 1
> DEBUG   [U=1004,P=21430]   Stage()                       Entering stage 1
> DEBUG   [U=1004,P=21430]   prepareFd()                   Open file
> descriptor for /applocal
> DEBUG   [U=1004,P=21430]   prepareFd()                   Open file
> descriptor for /fsx/home/kball/singularity
> DEBUG   [U=1004,P=21430]   Init()                        Entering image
> format intializer
> DEBUG   [U=1004,P=21430]   Init()                        Check for image
> format sif
> DEBUG   [U=1004,P=21430]   Init()                        Check for image
> format sandbox
> DEBUG   [U=1004,P=21418]   init()                        Create socketpair
> for master communication channel
> DEBUG   [U=1004,P=21418]   cleanup_fd()                  Check file
> descriptor /proc/self/fd/3 pointing to /applocal
> DEBUG   [U=1004,P=21418]   cleanup_fd()                  Check file
> descriptor /proc/self/fd/4 pointing to anon_inode:[eventpoll]
> DEBUG   [U=1004,P=21418]   cleanup_fd()                  Closing
> /proc/self/fd/4
> DEBUG   [U=1004,P=21418]   cleanup_fd()                  Check file
> descriptor /proc/self/fd/5 pointing to /fsx/home/kball/singularity
> DEBUG   [U=1004,P=21418]   cleanup_fd()                  Check file
> descriptor /proc/self/fd/6 pointing to
> /fsx/home/kball/singularity/centos7-fv3+upp-intel2019u4
> VERBOSE [U=1004,P=21418]   priv_escalate()               Get root
> privileges
> VERBOSE [U=0,P=21418]      create_namespace()            Create mount
> namespace
> DEBUG   [U=0,P=21418]      init()                        Create RPC
> socketpair for communication between stage 2 and RPC server
> VERBOSE [U=0,P=21418]      init()                        Spawn master
> process
> DEBUG   [U=0,P=21438]      set_parent_death_signal()     Set parent death
> signal to 9
> VERBOSE [U=0,P=21438]      create_namespace()            Create mount
> namespace
> DEBUG   [U=0,P=21438]      set_parent_death_signal()     Set parent death
> signal to 9
> DEBUG   [U=0,P=21438]      prepare_stage()               Entering in stage
> 2
> DEBUG   [U=1004,P=21438]   set_parent_death_signal()     Set parent death
> signal to 9
> VERBOSE [U=0,P=21439]      init()                        Spawn RPC server
> VERBOSE [U=0,P=21439]      startup()                     Serve RPC requests
> VERBOSE [U=1004,P=21418]   startup()                     Execute master
> process
> DEBUG   [U=1004,P=21418]   setupSessionLayout()          Image is
> writable, not attempting to use overlay or underlay
> DEBUG   [U=1004,P=21418]   setupDefaultLayout()          Creating default
> SESSIONDIR layout
> DEBUG   [U=1004,P=21418]   addRootfsMount()              Mount rootfs in
> read-write mode
> DEBUG   [U=1004,P=21418]   addRootfsMount()              Mounting
> directory rootfs: /fsx/home/kball/singularity/centos7-fv3+upp-intel2019u4
> DEBUG   [U=1004,P=21418]   addKernelMount()              Checking
> configuration file for 'mount proc'
> DEBUG   [U=1004,P=21418]   addKernelMount()              Adding proc to
> mount list
> VERBOSE [U=1004,P=21418]   addKernelMount()              Default mount:
> /proc:/proc
> DEBUG   [U=1004,P=21418]   addKernelMount()              Checking
> configuration file for 'mount sys'
> DEBUG   [U=1004,P=21418]   addKernelMount()              Adding sysfs to
> mount list
> VERBOSE [U=1004,P=21418]   addKernelMount()              Default mount:
> /sys:/sys
> DEBUG   [U=1004,P=21418]   addDevMount()                 Checking
> configuration file for 'mount dev'
> DEBUG   [U=1004,P=21418]   addDevMount()                 Adding dev to
> mount list
> VERBOSE [U=1004,P=21418]   addDevMount()                 Default mount:
> /dev:/dev
> DEBUG   [U=1004,P=21418]   addHostMount()                Not mounting host
> file systems per configuration
> VERBOSE [U=1004,P=21418]   addBindsMount()               Found 'bind path'
> = /etc/localtime, /etc/localtime
> VERBOSE [U=1004,P=21418]   addBindsMount()               Found 'bind path'
> = /etc/hosts, /etc/hosts
> DEBUG   [U=1004,P=21418]   addHomeStagingDir()           Staging home
> directory (/fsx/home/kball) at /var/singularity/mnt/session/fsx/home/kball
> DEBUG   [U=1004,P=21418]   addHomeMount()                Adding home
> directory mount
> [/var/singularity/mnt/session/fsx/home/kball:/fsx/home/kball] to list using
> layer: none
> DEBUG   [U=1004,P=21418]   isLayerEnabled()              Using Layer
> system: none
> VERBOSE [U=1004,P=21418]   addHomeNoLayer()              Mounting staged
> home directory base (/var/singularity/mnt/session/fsx) into container at
> /var/singularity/mnt/session/rootfs/fsx
> DEBUG   [U=1004,P=21418]   addUserbindsMount()           Adding /applocal
> to mount list
> DEBUG   [U=1004,P=21418]   addUserbindsMount()           Adding
> /fsx/home/kball/singularity to mount list
> DEBUG   [U=1004,P=21418]   addUserbindsMount()           Checking for
> 'user bind control' in configuration file
> DEBUG   [U=1004,P=21418]   addTmpMount()                 Checking for
> 'mount tmp' in configuration file
> VERBOSE [U=1004,P=21418]   addTmpMount()                 Default mount:
> /tmp:/tmp
> VERBOSE [U=1004,P=21418]   addTmpMount()                 Default mount:
> /var/tmp:/var/tmp
> DEBUG   [U=1004,P=21418]   addScratchMount()             Not mounting
> scratch directory: Not requested
> VERBOSE [U=1004,P=21418]   addCwdMount()                 Default mount:
> /fsx/home/kball/singularity: to the container
> DEBUG   [U=1004,P=21418]   addLibsMount()                Checking for
> 'user bind control' in configuration file
> DEBUG   [U=1004,P=21418]   addResolvConfMount()          Adding
> /etc/resolv.conf to mount list
> VERBOSE [U=1004,P=21418]   addResolvConfMount()          Default mount:
> /etc/resolv.conf:/etc/resolv.conf
> DEBUG   [U=1004,P=21418]   addHostnameMount()            Skipping hostname
> mount, not virtualizing UTS namespace on user request
> DEBUG   [U=1004,P=21418]   create()                      Mount all
> DEBUG   [U=1004,P=21418]   mountGeneric()                Mounting tmpfs to
> /var/singularity/mnt/session
> DEBUG   [U=1004,P=21418]   mountGeneric()                Mounting
> /fsx/home/kball/singularity/centos7-fv3+upp-intel2019u4 to
> /var/singularity/mnt/session/rootfs
> DEBUG   [U=1004,P=21418]   mountGeneric()                Remounting
> /var/singularity/mnt/session/rootfs
> DEBUG   [U=1004,P=21418]   setPropagationMount()         Set RPC mount
> propagation flag to SLAVE
> VERBOSE [U=1004,P=21418]   Passwd()                      Checking for
> template passwd file: /var/singularity/mnt/session/rootfs/etc/passwd
> VERBOSE [U=1004,P=21418]   Passwd()                      Creating passwd
> content
> VERBOSE [U=1004,P=21418]   Passwd()                      Creating template
> passwd file and appending user data:
> /var/singularity/mnt/session/rootfs/etc/passwd
> DEBUG   [U=1004,P=21418]   addIdentityMount()            Adding
> /etc/passwd to mount list
> VERBOSE [U=1004,P=21418]   addIdentityMount()            Default mount:
> /etc/passwd:/etc/passwd
> VERBOSE [U=1004,P=21418]   Group()                       Checking for
> template group file: /var/singularity/mnt/session/rootfs/etc/group
> VERBOSE [U=1004,P=21418]   Group()                       Creating group
> content
> DEBUG   [U=1004,P=21418]   addIdentityMount()            Adding /etc/group
> to mount list
> VERBOSE [U=1004,P=21418]   addIdentityMount()            Default mount:
> /etc/group:/etc/group
> DEBUG   [U=1004,P=21418]   mountGeneric()                Skipping mount,
> /var/singularity/mnt/session/rootfs/dev doesn't exist in container
> DEBUG   [U=1004,P=21418]   mountGeneric()                Skipping mount,
> /var/singularity/mnt/session/rootfs/etc/localtime doesn't exist in container
> DEBUG   [U=1004,P=21418]   mountGeneric()                Mounting
> /etc/hosts to /var/singularity/mnt/session/rootfs/etc/hosts
> DEBUG   [U=1004,P=21418]   mountGeneric()                Mounting
> /etc/singularity/actions to
> /var/singularity/mnt/session/rootfs/.singularity.d/actions
> DEBUG   [U=1004,P=21418]   mountGeneric()                Remounting
> /var/singularity/mnt/session/rootfs/.singularity.d/actions
> DEBUG   [U=1004,P=21418]   mountGeneric()                Skipping mount,
> /var/singularity/mnt/session/rootfs/proc doesn't exist in container
> DEBUG   [U=1004,P=21418]   mountGeneric()                Skipping mount,
> /var/singularity/mnt/session/rootfs/proc doesn't exist in container
> DEBUG   [U=1004,P=21418]   mountGeneric()                Skipping mount,
> /var/singularity/mnt/session/rootfs/sys doesn't exist in container
> DEBUG   [U=1004,P=21418]   mountGeneric()                Mounting
> /fsx/home/kball to /var/singularity/mnt/session/fsx/home/kball
> DEBUG   [U=1004,P=21418]   mountGeneric()                Remounting
> /var/singularity/mnt/session/fsx/home/kball
> DEBUG   [U=1004,P=21418]   mountGeneric()                Mounting /tmp to
> /var/singularity/mnt/session/rootfs/tmp
> DEBUG   [U=1004,P=21418]   mountGeneric()                Remounting
> /var/singularity/mnt/session/rootfs/tmp
> DEBUG   [U=1004,P=21418]   mountGeneric()                Skipping mount,
> /var/singularity/mnt/session/rootfs/var/tmp doesn't exist in container
> DEBUG   [U=1004,P=21418]   mountGeneric()                Skipping mount,
> /var/singularity/mnt/session/rootfs/var/tmp doesn't exist in container
> DEBUG   [U=1004,P=21418]   mountGeneric()                Skipping mount,
> /var/singularity/mnt/session/rootfs/fsx/home/kball/singularity doesn't
> exist in container
> DEBUG   [U=1004,P=21418]   mountGeneric()                Skipping mount,
> /var/singularity/mnt/session/rootfs/fsx/home/kball/singularity doesn't
> exist in container
> DEBUG   [U=1004,P=21418]   mountGeneric()                Mounting
> /var/singularity/mnt/session/etc/resolv.conf to
> /var/singularity/mnt/session/rootfs/etc/resolv.conf
> DEBUG   [U=1004,P=21418]   mountGeneric()                Mounting
> /var/singularity/mnt/session/etc/passwd to
> /var/singularity/mnt/session/rootfs/etc/passwd
> DEBUG   [U=1004,P=21418]   mountGeneric()                Mounting
> /var/singularity/mnt/session/etc/group to
> /var/singularity/mnt/session/rootfs/etc/group
> DEBUG   [U=1004,P=21418]   mountGeneric()                Skipping mount,
> /var/singularity/mnt/session/rootfs/applocal doesn't exist in container
> DEBUG   [U=1004,P=21418]   mountGeneric()                Skipping mount,
> /var/singularity/mnt/session/rootfs/applocal doesn't exist in container
> DEBUG   [U=1004,P=21418]   mountGeneric()                Skipping mount,
> /var/singularity/mnt/session/rootfs/extmount doesn't exist in container
> DEBUG   [U=1004,P=21418]   mountGeneric()                Skipping mount,
> /var/singularity/mnt/session/rootfs/extmount doesn't exist in container
> DEBUG   [U=1004,P=21418]   mountGeneric()                Skipping mount,
> /var/singularity/mnt/session/rootfs/fsx doesn't exist in container
> DEBUG   [U=1004,P=21418]   create()                      Chroot into
> /var/singularity/mnt/session/rootfs
> DEBUG   [U=0,P=21439]      Chroot()                      Change current
> directory to /var/singularity/mnt/session/rootfs
> DEBUG   [U=0,P=21439]      Chroot()                      Hold reference to
> host / directory
> DEBUG   [U=0,P=21439]      Chroot()                      Called pivot_root
> on /var/singularity/mnt/session/rootfs
> DEBUG   [U=0,P=21439]      Chroot()                      Change current
> directory to host / directory
> DEBUG   [U=0,P=21439]      Chroot()                      Apply slave mount
> propagation for host / directory
> DEBUG   [U=0,P=21439]      Chroot()                      Called unmount(/,
> syscall.MNT_DETACH)
> DEBUG   [U=0,P=21439]      Chroot()                      Changing
> directory to / to avoid getpwd issues
> DEBUG   [U=1004,P=21418]   create()                      Chdir into / to
> avoid errors
> VERBOSE [U=1004,P=21438]   startup()                     Execute stage 2
> DEBUG   [U=1004,P=21438]   Stage()                       Entering stage 2
> FATAL   [U=1004,P=21438]   Stage()                       exec
> /.singularity.d/actions/shell failed: no such file or directory
> DEBUG   [U=1004,P=21418]   CleanupContainer()            Cleanup container
> DEBUG   [U=1004,P=21418]   Master()                      Child exited with
> exit status 255
>
> --
> Keith D. Ball, PhD
> RedLine Performance Solutions, LLC
> web:  http://www.redlineperf.com/
> email: kb...@redlineperf.com <aqualk...@redlineperf.com>
> cell: 540-557-7851
>
> --
> You received this message because you are subscribed to the Google Groups
> "singularity" group.
> To unsubscribe from this group and stop receiving emails from it, send an
> email to singu...@lbl.gov.
> To view this discussion on the web visit
> https://groups.google.com/a/lbl.gov/d/msgid/singularity/CABJnLg0J2P-QWG4a3ggLByaV80YVA%3D-rY-yDqRvKR59GkxQd2w%40mail.gmail.com
> <https://groups.google.com/a/lbl.gov/d/msgid/singularity/CABJnLg0J2P-QWG4a3ggLByaV80YVA%3D-rY-yDqRvKR59GkxQd2w%40mail.gmail.com?utm_medium=email&utm_source=footer>
> .
>


-- 
Vanessa Villamia Sochat
Stanford University '16
(603) 321-0676

--000000000000455a6c058efc8387
Content-Type: text/html; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">What commands did you issue? Without a history of what you=
 did, it would be hard to try and reproduce, other than guessing. If I were=
 in your shoes I would start with a recipe file, and then write the command=
s that you need to issue (to compile, etc.) and then build the container. T=
hen if you run into trouble, it&#39;s a matter of sharing the recipe and ea=
sy to help! Your future self will thank you when you need to rebuild, and p=
erhaps don&#39;t remember.=C2=A0<div><br></div></div><br><div class=3D"gmai=
l_quote"><div dir=3D"ltr" class=3D"gmail_attr">On Wed, Jul 31, 2019 at 12:1=
2 PM Keith Ball &lt;<a href=3D"mailto:kb...@redlineperf.com">kb...@redlinep=
erf.com</a>&gt; wrote:<br></div><blockquote class=3D"gmail_quote" style=3D"=
margin:0px 0px 0px 0.8ex;border-left:1px solid rgb(204,204,204);padding-lef=
t:1ex"><div dir=3D"ltr"><div>Hi All,</div><div><br></div><div>I have create=
d a sandbox using singularity version 3.2.1-1.1.el7 on CentOS 7.6. <br></di=
v><div>I have used shell to go into the container a few times in --writable=
 mode, to compile code, etc. Now when I go to shell back in, I am getting t=
he following error: <br></div><div><br></div><div>=C2=A0=C2=A0 exec /.singu=
larity.d/actions/shell failed: no such file or directory</div><div><br></di=
v><div>The &quot;shell&quot; file is in fact inside the sandbox directory a=
nd is executable:<br></div><div>-rwxr-xr-x 1 kball kball 613 Jul 26 21:07 m=
ycontainer/.singularity.d/actions/shell</div><div><br></div><div>What am I =
missing? Is there some wat to get around this error to get into the contain=
er?</div><div><br></div><div>Full debug output follows:<br></div><div>--<br=
></div><div><span class=3D"gmail-m_6028993443584046860gmail-gI"><span>singu=
larity --debug shell -B /applocal:/applocal:ro -B /fsx/home/kball/singulari=
ty:/extmount --writable mycontainer<br></span></span></div><div><br></div><=
div>VERBOSE [U=3D0,P=3D21418] =C2=A0 =C2=A0 =C2=A0print() =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Set messageleve=
l to: 5<br>DEBUG =C2=A0 [U=3D0,P=3D21418] =C2=A0 =C2=A0 =C2=A0init() =C2=A0=
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0PIPE_EXEC_FD value: 7<br>VERBOSE [U=3D0,P=3D21418] =C2=A0 =C2=A0 =C2=A0i=
nit() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
 =C2=A0 =C2=A0Container runtime<br>VERBOSE [U=3D0,P=3D21418] =C2=A0 =C2=A0 =
=C2=A0is_suid() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 Check if we are running as setuid<br>DEBUG =C2=A0 [U=3D0,P=3D214=
18] =C2=A0 =C2=A0 =C2=A0init() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Overlay seems supported by kernel<=
br>DEBUG =C2=A0 [U=3D0,P=3D21418] =C2=A0 =C2=A0 =C2=A0init() =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Drop p=
rivileges<br>DEBUG =C2=A0 [U=3D1004,P=3D21418] =C2=A0 init() =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Read j=
son configuration from pipe<br>DEBUG =C2=A0 [U=3D1004,P=3D21418] =C2=A0 ini=
t() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0Set child signal mask<br>DEBUG =C2=A0 [U=3D1004,P=3D21418] =C2=
=A0 init() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0Wait completion of stage1<br>VERBOSE [U=3D1004,P=3D2143=
0] =C2=A0 priv_escalate() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
Get root privileges<br>DEBUG =C2=A0 [U=3D0,P=3D21430] =C2=A0 =C2=A0 =C2=A0s=
et_parent_death_signal() =C2=A0 =C2=A0 Set parent death signal to 9<br>DEBU=
G =C2=A0 [U=3D0,P=3D21430] =C2=A0 =C2=A0 =C2=A0prepare_stage() =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Entering in stage 1<br>DEBUG =C2=A0 =
[U=3D1004,P=3D21430] =C2=A0 set_parent_death_signal() =C2=A0 =C2=A0 Set par=
ent death signal to 9<br>VERBOSE [U=3D1004,P=3D21430] =C2=A0 init() =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0Spawn stage 1<br>VERBOSE [U=3D1004,P=3D21430] =C2=A0 startup() =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Execute stag=
e 1<br>DEBUG =C2=A0 [U=3D1004,P=3D21430] =C2=A0 Stage() =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Entering stage =
1<br>DEBUG =C2=A0 [U=3D1004,P=3D21430] =C2=A0 prepareFd() =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Open file descriptor for /app=
local<br>DEBUG =C2=A0 [U=3D1004,P=3D21430] =C2=A0 prepareFd() =C2=A0 =C2=A0=
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Open file descriptor for =
/fsx/home/kball/singularity<br>DEBUG =C2=A0 [U=3D1004,P=3D21430] =C2=A0 Ini=
t() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0Entering image format intializer<br>DEBUG =C2=A0 [U=3D1004,P=
=3D21430] =C2=A0 Init() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Check for image format sif<br>DEBUG =C2=
=A0 [U=3D1004,P=3D21430] =C2=A0 Init() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Check for image format sand=
box<br>DEBUG =C2=A0 [U=3D1004,P=3D21418] =C2=A0 init() =C2=A0 =C2=A0 =C2=A0=
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Create socke=
tpair for master communication channel<br>DEBUG =C2=A0 [U=3D1004,P=3D21418]=
 =C2=A0 cleanup_fd() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0Check file descriptor /proc/self/fd/3 pointing to /applocal<br>DE=
BUG =C2=A0 [U=3D1004,P=3D21418] =C2=A0 cleanup_fd() =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Check file descriptor /proc/self/f=
d/4 pointing to anon_inode:[eventpoll]<br>DEBUG =C2=A0 [U=3D1004,P=3D21418]=
 =C2=A0 cleanup_fd() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0Closing /proc/self/fd/4<br>DEBUG =C2=A0 [U=3D1004,P=3D21418] =C2=
=A0 cleanup_fd() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0Check file descriptor /proc/self/fd/5 pointing to /fsx/home/kball/sin=
gularity<br>DEBUG =C2=A0 [U=3D1004,P=3D21418] =C2=A0 cleanup_fd() =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Check file descripto=
r /proc/self/fd/6 pointing to /fsx/home/kball/singularity/centos7-fv3+upp-i=
ntel2019u4<br>VERBOSE [U=3D1004,P=3D21418] =C2=A0 priv_escalate() =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Get root privileges<br>VERBOSE [U=
=3D0,P=3D21418] =C2=A0 =C2=A0 =C2=A0create_namespace() =C2=A0 =C2=A0 =C2=A0=
 =C2=A0 =C2=A0 =C2=A0Create mount namespace<br>DEBUG =C2=A0 [U=3D0,P=3D2141=
8] =C2=A0 =C2=A0 =C2=A0init() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Create RPC socketpair for communicati=
on between stage 2 and RPC server<br>VERBOSE [U=3D0,P=3D21418] =C2=A0 =C2=
=A0 =C2=A0init() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0Spawn master process<br>DEBUG =C2=A0 [U=3D0,P=3D=
21438] =C2=A0 =C2=A0 =C2=A0set_parent_death_signal() =C2=A0 =C2=A0 Set pare=
nt death signal to 9<br>VERBOSE [U=3D0,P=3D21438] =C2=A0 =C2=A0 =C2=A0creat=
e_namespace() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Create mount namespa=
ce<br>DEBUG =C2=A0 [U=3D0,P=3D21438] =C2=A0 =C2=A0 =C2=A0set_parent_death_s=
ignal() =C2=A0 =C2=A0 Set parent death signal to 9<br>DEBUG =C2=A0 [U=3D0,P=
=3D21438] =C2=A0 =C2=A0 =C2=A0prepare_stage() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 Entering in stage 2<br>DEBUG =C2=A0 [U=3D1004,P=3D2143=
8] =C2=A0 set_parent_death_signal() =C2=A0 =C2=A0 Set parent death signal t=
o 9<br>VERBOSE [U=3D0,P=3D21439] =C2=A0 =C2=A0 =C2=A0init() =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Spawn =
RPC server<br>VERBOSE [U=3D0,P=3D21439] =C2=A0 =C2=A0 =C2=A0startup() =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Serve RP=
C requests<br>VERBOSE [U=3D1004,P=3D21418] =C2=A0 startup() =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Execute master proc=
ess<br>DEBUG =C2=A0 [U=3D1004,P=3D21418] =C2=A0 setupSessionLayout() =C2=A0=
 =C2=A0 =C2=A0 =C2=A0 =C2=A0Image is writable, not attempting to use overla=
y or underlay<br>DEBUG =C2=A0 [U=3D1004,P=3D21418] =C2=A0 setupDefaultLayou=
t() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Creating default SESSIONDIR layout<br=
>DEBUG =C2=A0 [U=3D1004,P=3D21418] =C2=A0 addRootfsMount() =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Mount rootfs in read-write mode<br>DEBUG =
=C2=A0 [U=3D1004,P=3D21418] =C2=A0 addRootfsMount() =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0Mounting directory rootfs: /fsx/home/kball/singu=
larity/centos7-fv3+upp-intel2019u4<br>DEBUG =C2=A0 [U=3D1004,P=3D21418] =C2=
=A0 addKernelMount() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Checki=
ng configuration file for &#39;mount proc&#39;<br>DEBUG =C2=A0 [U=3D1004,P=
=3D21418] =C2=A0 addKernelMount() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
 =C2=A0Adding proc to mount list<br>VERBOSE [U=3D1004,P=3D21418] =C2=A0 add=
KernelMount() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Default mount=
: /proc:/proc<br>DEBUG =C2=A0 [U=3D1004,P=3D21418] =C2=A0 addKernelMount() =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Checking configuration file=
 for &#39;mount sys&#39;<br>DEBUG =C2=A0 [U=3D1004,P=3D21418] =C2=A0 addKer=
nelMount() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Adding sysfs to =
mount list<br>VERBOSE [U=3D1004,P=3D21418] =C2=A0 addKernelMount() =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Default mount: /sys:/sys<br>DEBUG =
=C2=A0 [U=3D1004,P=3D21418] =C2=A0 addDevMount() =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Checking configuration file for &#39;mount =
dev&#39;<br>DEBUG =C2=A0 [U=3D1004,P=3D21418] =C2=A0 addDevMount() =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Adding dev to mount list<b=
r>VERBOSE [U=3D1004,P=3D21418] =C2=A0 addDevMount() =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Default mount: /dev:/dev<br>DEBUG =C2=A0=
 [U=3D1004,P=3D21418] =C2=A0 addHostMount() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0Not mounting host file systems per configuration<br=
>VERBOSE [U=3D1004,P=3D21418] =C2=A0 addBindsMount() =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 Found &#39;bind path&#39; =3D /etc/localtime, /=
etc/localtime<br>VERBOSE [U=3D1004,P=3D21418] =C2=A0 addBindsMount() =C2=A0=
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Found &#39;bind path&#39; =3D /e=
tc/hosts, /etc/hosts<br>DEBUG =C2=A0 [U=3D1004,P=3D21418] =C2=A0 addHomeSta=
gingDir() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Staging home directory (/fsx/h=
ome/kball) at /var/singularity/mnt/session/fsx/home/kball<br>DEBUG =C2=A0 [=
U=3D1004,P=3D21418] =C2=A0 addHomeMount() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0Adding home directory mount [/var/singularity/mnt/s=
ession/fsx/home/kball:/fsx/home/kball] to list using layer: none<br>DEBUG =
=C2=A0 [U=3D1004,P=3D21418] =C2=A0 isLayerEnabled() =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0Using Layer system: none<br>VERBOSE [U=3D1004,P=
=3D21418] =C2=A0 addHomeNoLayer() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
 =C2=A0Mounting staged home directory base (/var/singularity/mnt/session/fs=
x) into container at /var/singularity/mnt/session/rootfs/fsx<br>DEBUG =C2=
=A0 [U=3D1004,P=3D21418] =C2=A0 addUserbindsMount() =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 Adding /applocal to mount list<br>DEBUG =C2=A0 [U=3D1004,P=3D=
21418] =C2=A0 addUserbindsMount() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Adding=
 /fsx/home/kball/singularity to mount list<br>DEBUG =C2=A0 [U=3D1004,P=3D21=
418] =C2=A0 addUserbindsMount() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Checking=
 for &#39;user bind control&#39; in configuration file<br>DEBUG =C2=A0 [U=
=3D1004,P=3D21418] =C2=A0 addTmpMount() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 Checking for &#39;mount tmp&#39; in configuration file=
<br>VERBOSE [U=3D1004,P=3D21418] =C2=A0 addTmpMount() =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Default mount: /tmp:/tmp<br>VERBOSE [U=
=3D1004,P=3D21418] =C2=A0 addTmpMount() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 Default mount: /var/tmp:/var/tmp<br>DEBUG =C2=A0 [U=3D=
1004,P=3D21418] =C2=A0 addScratchMount() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
 =C2=A0 Not mounting scratch directory: Not requested<br>VERBOSE [U=3D1004,=
P=3D21418] =C2=A0 addCwdMount() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 Default mount: /fsx/home/kball/singularity: to the container<=
br>DEBUG =C2=A0 [U=3D1004,P=3D21418] =C2=A0 addLibsMount() =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Checking for &#39;user bind contro=
l&#39; in configuration file<br>DEBUG =C2=A0 [U=3D1004,P=3D21418] =C2=A0 ad=
dResolvConfMount() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Adding /etc/resolv.con=
f to mount list<br>VERBOSE [U=3D1004,P=3D21418] =C2=A0 addResolvConfMount()=
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Default mount: /etc/resolv.conf:/etc/res=
olv.conf<br>DEBUG =C2=A0 [U=3D1004,P=3D21418] =C2=A0 addHostnameMount() =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Skipping hostname mount, not virtuali=
zing UTS namespace on user request<br>DEBUG =C2=A0 [U=3D1004,P=3D21418] =C2=
=A0 create() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
 =C2=A0 =C2=A0Mount all<br>DEBUG =C2=A0 [U=3D1004,P=3D21418] =C2=A0 mountGe=
neric() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Mounting tmp=
fs to /var/singularity/mnt/session<br>DEBUG =C2=A0 [U=3D1004,P=3D21418] =C2=
=A0 mountGeneric() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0M=
ounting /fsx/home/kball/singularity/centos7-fv3+upp-intel2019u4 to /var/sin=
gularity/mnt/session/rootfs<br>DEBUG =C2=A0 [U=3D1004,P=3D21418] =C2=A0 mou=
ntGeneric() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Remounti=
ng /var/singularity/mnt/session/rootfs<br>DEBUG =C2=A0 [U=3D1004,P=3D21418]=
 =C2=A0 setPropagationMount() =C2=A0 =C2=A0 =C2=A0 =C2=A0 Set RPC mount pro=
pagation flag to SLAVE<br>VERBOSE [U=3D1004,P=3D21418] =C2=A0 Passwd() =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Ch=
ecking for template passwd file: /var/singularity/mnt/session/rootfs/etc/pa=
sswd<br>VERBOSE [U=3D1004,P=3D21418] =C2=A0 Passwd() =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Creating passwd cont=
ent<br>VERBOSE [U=3D1004,P=3D21418] =C2=A0 Passwd() =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Creating template pa=
sswd file and appending user data: /var/singularity/mnt/session/rootfs/etc/=
passwd<br>DEBUG =C2=A0 [U=3D1004,P=3D21418] =C2=A0 addIdentityMount() =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Adding /etc/passwd to mount list<br>V=
ERBOSE [U=3D1004,P=3D21418] =C2=A0 addIdentityMount() =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0Default mount: /etc/passwd:/etc/passwd<br>VERBOSE [U=3D=
1004,P=3D21418] =C2=A0 Group() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Checking for template group file: /var/s=
ingularity/mnt/session/rootfs/etc/group<br>VERBOSE [U=3D1004,P=3D21418] =C2=
=A0 Group() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 Creating group content<br>DEBUG =C2=A0 [U=3D1004,P=3D21418] =
=C2=A0 addIdentityMount() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Adding /=
etc/group to mount list<br>VERBOSE [U=3D1004,P=3D21418] =C2=A0 addIdentityM=
ount() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Default mount: /etc/group:/=
etc/group<br>DEBUG =C2=A0 [U=3D1004,P=3D21418] =C2=A0 mountGeneric() =C2=A0=
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Skipping mount, /var/singu=
larity/mnt/session/rootfs/dev doesn&#39;t exist in container<br>DEBUG =C2=
=A0 [U=3D1004,P=3D21418] =C2=A0 mountGeneric() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0Skipping mount, /var/singularity/mnt/session/roo=
tfs/etc/localtime doesn&#39;t exist in container<br>DEBUG =C2=A0 [U=3D1004,=
P=3D21418] =C2=A0 mountGeneric() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0Mounting /etc/hosts to /var/singularity/mnt/session/rootfs/etc=
/hosts<br>DEBUG =C2=A0 [U=3D1004,P=3D21418] =C2=A0 mountGeneric() =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Mounting /etc/singularity/a=
ctions to /var/singularity/mnt/session/rootfs/.singularity.d/actions<br>DEB=
UG =C2=A0 [U=3D1004,P=3D21418] =C2=A0 mountGeneric() =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Remounting /var/singularity/mnt/session/r=
ootfs/.singularity.d/actions<br>DEBUG =C2=A0 [U=3D1004,P=3D21418] =C2=A0 mo=
untGeneric() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Skippin=
g mount, /var/singularity/mnt/session/rootfs/proc doesn&#39;t exist in cont=
ainer<br>DEBUG =C2=A0 [U=3D1004,P=3D21418] =C2=A0 mountGeneric() =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Skipping mount, /var/singulari=
ty/mnt/session/rootfs/proc doesn&#39;t exist in container<br>DEBUG =C2=A0 [=
U=3D1004,P=3D21418] =C2=A0 mountGeneric() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0Skipping mount, /var/singularity/mnt/session/rootfs=
/sys doesn&#39;t exist in container<br>DEBUG =C2=A0 [U=3D1004,P=3D21418] =
=C2=A0 mountGeneric() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0Mounting /fsx/home/kball to /var/singularity/mnt/session/fsx/home/kball<=
br>DEBUG =C2=A0 [U=3D1004,P=3D21418] =C2=A0 mountGeneric() =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Remounting /var/singularity/mnt/se=
ssion/fsx/home/kball<br>DEBUG =C2=A0 [U=3D1004,P=3D21418] =C2=A0 mountGener=
ic() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Mounting /tmp t=
o /var/singularity/mnt/session/rootfs/tmp<br>DEBUG =C2=A0 [U=3D1004,P=3D214=
18] =C2=A0 mountGeneric() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0Remounting /var/singularity/mnt/session/rootfs/tmp<br>DEBUG =C2=A0 [U=
=3D1004,P=3D21418] =C2=A0 mountGeneric() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
 =C2=A0 =C2=A0 =C2=A0Skipping mount, /var/singularity/mnt/session/rootfs/va=
r/tmp doesn&#39;t exist in container<br>DEBUG =C2=A0 [U=3D1004,P=3D21418] =
=C2=A0 mountGeneric() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0Skipping mount, /var/singularity/mnt/session/rootfs/var/tmp doesn&#39;t =
exist in container<br>DEBUG =C2=A0 [U=3D1004,P=3D21418] =C2=A0 mountGeneric=
() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Skipping mount, /=
var/singularity/mnt/session/rootfs/fsx/home/kball/singularity doesn&#39;t e=
xist in container<br>DEBUG =C2=A0 [U=3D1004,P=3D21418] =C2=A0 mountGeneric(=
) =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Skipping mount, /v=
ar/singularity/mnt/session/rootfs/fsx/home/kball/singularity doesn&#39;t ex=
ist in container<br>DEBUG =C2=A0 [U=3D1004,P=3D21418] =C2=A0 mountGeneric()=
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Mounting /var/singu=
larity/mnt/session/etc/resolv.conf to /var/singularity/mnt/session/rootfs/e=
tc/resolv.conf<br>DEBUG =C2=A0 [U=3D1004,P=3D21418] =C2=A0 mountGeneric() =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Mounting /var/singul=
arity/mnt/session/etc/passwd to /var/singularity/mnt/session/rootfs/etc/pas=
swd<br>DEBUG =C2=A0 [U=3D1004,P=3D21418] =C2=A0 mountGeneric() =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Mounting /var/singularity/mnt/=
session/etc/group to /var/singularity/mnt/session/rootfs/etc/group<br>DEBUG=
 =C2=A0 [U=3D1004,P=3D21418] =C2=A0 mountGeneric() =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Skipping mount, /var/singularity/mnt/session=
/rootfs/applocal doesn&#39;t exist in container<br>DEBUG =C2=A0 [U=3D1004,P=
=3D21418] =C2=A0 mountGeneric() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0Skipping mount, /var/singularity/mnt/session/rootfs/applocal d=
oesn&#39;t exist in container<br>DEBUG =C2=A0 [U=3D1004,P=3D21418] =C2=A0 m=
ountGeneric() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Skippi=
ng mount, /var/singularity/mnt/session/rootfs/extmount doesn&#39;t exist in=
 container<br>DEBUG =C2=A0 [U=3D1004,P=3D21418] =C2=A0 mountGeneric() =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Skipping mount, /var/si=
ngularity/mnt/session/rootfs/extmount doesn&#39;t exist in container<br>DEB=
UG =C2=A0 [U=3D1004,P=3D21418] =C2=A0 mountGeneric() =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Skipping mount, /var/singularity/mnt/sess=
ion/rootfs/fsx doesn&#39;t exist in container<br>DEBUG =C2=A0 [U=3D1004,P=
=3D21418] =C2=A0 create() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0Chroot into /var/singularity/mnt/session/rootfs<=
br>DEBUG =C2=A0 [U=3D0,P=3D21439] =C2=A0 =C2=A0 =C2=A0Chroot() =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Change cu=
rrent directory to /var/singularity/mnt/session/rootfs<br>DEBUG =C2=A0 [U=
=3D0,P=3D21439] =C2=A0 =C2=A0 =C2=A0Chroot() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Hold reference to host / di=
rectory<br>DEBUG =C2=A0 [U=3D0,P=3D21439] =C2=A0 =C2=A0 =C2=A0Chroot() =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Ca=
lled pivot_root on /var/singularity/mnt/session/rootfs<br>DEBUG =C2=A0 [U=
=3D0,P=3D21439] =C2=A0 =C2=A0 =C2=A0Chroot() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Change current directory to=
 host / directory<br>DEBUG =C2=A0 [U=3D0,P=3D21439] =C2=A0 =C2=A0 =C2=A0Chr=
oot() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
 =C2=A0Apply slave mount propagation for host / directory<br>DEBUG =C2=A0 [=
U=3D0,P=3D21439] =C2=A0 =C2=A0 =C2=A0Chroot() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Called unmount(/, syscall.M=
NT_DETACH)<br>DEBUG =C2=A0 [U=3D0,P=3D21439] =C2=A0 =C2=A0 =C2=A0Chroot() =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0Changing directory to / to avoid getpwd issues<br>DEBUG =C2=A0 [U=3D1004=
,P=3D21418] =C2=A0 create() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Chdir into / to avoid errors<br>VERBOSE [U=
=3D1004,P=3D21438] =C2=A0 startup() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Execute stage 2<br>DEBUG =C2=A0 [U=3D1004,P=
=3D21438] =C2=A0 Stage() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 Entering stage 2<br>FATAL =C2=A0 [U=3D1004,P=3D=
21438] =C2=A0 Stage() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 exec /.singularity.d/actions/shell failed: no such=
 file or directory<br>DEBUG =C2=A0 [U=3D1004,P=3D21418] =C2=A0 CleanupConta=
iner() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Cleanup container<br>DEBUG =
=C2=A0 [U=3D1004,P=3D21418] =C2=A0 Master() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Child exited with exit status =
255</div><div><br></div>-- <br><div dir=3D"ltr" class=3D"gmail-m_6028993443=
584046860gmail_signature"><div dir=3D"ltr"><div><div dir=3D"ltr"><div>Keith=
 D. Ball, PhD<br><div dir=3D"ltr"><div><div><div>RedLine Performance Soluti=
ons, LLC</div><div>web: =C2=A0<a href=3D"http://www.redlineperf.com/" targe=
t=3D"_blank">http://www.redlineperf.com/</a><br><div>email: <a href=3D"mail=
to:aqualk...@redlineperf.com" target=3D"_blank">kb...@redlineperf.com</a></=
div></div></div><div>cell: 540-557-7851<br></div></div></div></div></div></=
div></div></div></div>

<p></p>

-- <br>
You received this message because you are subscribed to the Google Groups &=
quot;singularity&quot; group.<br>
To unsubscribe from this group and stop receiving emails from it, send an e=
mail to <a href=3D"mailto:singu...@lbl.gov" target=3D"_blank">singu...@lbl.=
gov</a>.<br>
To view this discussion on the web visit <a href=3D"https://groups.google.c=
om/a/lbl.gov/d/msgid/singularity/CABJnLg0J2P-QWG4a3ggLByaV80YVA%3D-rY-yDqRv=
KR59GkxQd2w%40mail.gmail.com?utm_medium=3Demail&amp;utm_source=3Dfooter" ta=
rget=3D"_blank">https://groups.google.com/a/lbl.gov/d/msgid/singularity/CAB=
JnLg0J2P-QWG4a3ggLByaV80YVA%3D-rY-yDqRvKR59GkxQd2w%40mail.gmail.com</a>.<br=
>
</blockquote></div><br clear=3D"all"><div><br></div>-- <br><div dir=3D"ltr"=
 class=3D"gmail_signature">Vanessa Villamia Sochat<br>Stanford University &=
#39;16<br><div><div><div>(603) 321-0676</div></div></div></div>

--000000000000455a6c058efc8387--
