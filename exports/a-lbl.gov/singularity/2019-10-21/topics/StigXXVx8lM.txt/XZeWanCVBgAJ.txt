X-Received: by 10.237.60.33 with SMTP id t30mr11090658qte.2.1496779522370;
        Tue, 06 Jun 2017 13:05:22 -0700 (PDT)
X-BeenThere: singularity@lbl.gov
Received: by 10.107.136.74 with SMTP id k71ls1063130iod.32.gmail; Tue, 06 Jun
 2017 13:05:21 -0700 (PDT)
X-Received: by 10.98.159.135 with SMTP id v7mr27318649pfk.57.1496779521355;
        Tue, 06 Jun 2017 13:05:21 -0700 (PDT)
ARC-Seal: i=1; a=rsa-sha256; t=1496779521; cv=none;
        d=google.com; s=arc-20160816;
        b=lno2/VuRLWOp4ZcWPeBKSK24Txv62Y8C32sw/MGowrjdAE/0O9wTaaVUpTGEPiEbTH
         U0D5M0od52JXSGVxulPwDj+Xk/K696uALx67ZYZhW+a3b5mgsjIcG+CVwpYvdlf4mGlL
         juG+vmlt5Tvj1nbEqwySujUFTRPiqHE1zic8lsbnWmMiKyRvVxJ48ci5UjHoCVhVf04J
         5UdszT3ZcR8JRkNDSFLHvdU383aJ1TZvKUC49W/73mb/8PnZxT1aQ6mA6pq84tE0/9Qa
         NyuVbwPQC6GrDDFocm19yqyhubMVFK1svr3cUMV4RD/yspyZqEXAxm6DdoXQ1yamP5dN
         iVxA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;
        h=to:subject:message-id:date:from:references:in-reply-to:mime-version
         :dkim-signature:arc-authentication-results;
        bh=7fVw29dTIY3K6a0Bb0+mmnf9Eqv6WGKb//mD7Fz6pd8=;
        b=oU2mJcL+te09k8hOcAeOgfAxB4K4sU7pWFfFCDxe/fP1GHQ3xiUfWy5VpFNJ9AmNTx
         i5rcr36gW9Fx7nKsS8HD4VZuPiKyMRj3pIbDIu3NciIqUnAhnS6QqnnF32ECDiTeBLFG
         q4c+Rv/2H28U2Q3qHu9iVt5kEe6JGgGNx46FSjRm0N6sAxZKX+rO4r8apeYFwHCy6fag
         MM4KwEqCycSMpcqJygLIRrW2w71nWHA/vvC82/0kos8iq/sDGj0H/FFNVdGKCxHYXGsB
         eQwiCozhNc0oohOWva8CADbdS5qpY2EB1+F6T2FAoHW4sbWm8UcMs3eRJQ94Vo0aWm4Z
         OfUw==
ARC-Authentication-Results: i=1; mx.google.com;
       dkim=pass head...@gmail.com;
       spf=pass (google.com: domain of rem...@gmail.com designates 209.85.216.182 as permitted sender) smtp.mailfrom=rem...@gmail.com
Return-Path: <rem...@gmail.com>
Received: from fe4.lbl.gov (fe4.lbl.gov. [128.3.41.71])
        by mx.google.com with ESMTP id b6si34316938pgn.332.2017.06.06.13.05.21
        for <singu...@lbl.gov>;
        Tue, 06 Jun 2017 13:05:21 -0700 (PDT)
Received-SPF: pass (google.com: domain of rem...@gmail.com designates 209.85.216.182 as permitted sender) client-ip=209.85.216.182;
Authentication-Results: mx.google.com;
       dkim=pass head...@gmail.com;
       spf=pass (google.com: domain of rem...@gmail.com designates 209.85.216.182 as permitted sender) smtp.mailfrom=rem...@gmail.com
X-Ironport-SBRS: 2.7
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: =?us-ascii?q?A2FpAAAlCjdZf7bYVdFbAxsBAQEDAQEBC?=
 =?us-ascii?q?QEBARYBAQEDAQEBCQEBAYJEPAKBDYENB4NkCIEEMohjkgWVf4ExARsbJQMhAQm?=
 =?us-ascii?q?BcIQJAoJeBz8YAQEBAQEBAQEBAQECEAEBCQsLCCYxQgyBZQUCAwIeBARGIQUBA?=
 =?us-ascii?q?gMBAQEBAQEBAQEBASABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQE?=
 =?us-ascii?q?JAgwDHAQPEgEBGAEBAQECARoJBBkBDQ4SDAMBCwYDAgsNFgEJAQkCAiEBAQ4DA?=
 =?us-ascii?q?QUBHA4HBAEZAQIEiDeBOQEDDQgFC490kRo/jAeBbBgFARyDCgWDZwoZJw1Wg1w?=
 =?us-ascii?q?BCgEBAQEBGgIGEogvghSBDIJYKSVGTxIBPQwaAQGCSYJhBYEsAYgTA4ZtgV2Ed?=
 =?us-ascii?q?YZ3OQKBRoVghldchFuCW48kiz6HWxQfgRUfeA0zC1EjWxlag1oqDxyBZj42AQE?=
 =?us-ascii?q?BBYYIfw0XMIFpAQEB?=
X-IronPort-AV: E=Sophos;i="5.39,307,1493708400"; 
   d="scan'208,217";a="77130770"
Received: from mail-qt0-f182.google.com ([209.85.216.182])
  by fe4.lbl.gov with ESMTP; 06 Jun 2017 13:05:15 -0700
Received: by mail-qt0-f182.google.com with SMTP id u12so120089969qth.0
        for <singu...@lbl.gov>; Tue, 06 Jun 2017 13:05:15 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=7fVw29dTIY3K6a0Bb0+mmnf9Eqv6WGKb//mD7Fz6pd8=;
        b=cwTDAnN8gusDigklaeBIA/uVbxtDiJd53bzLf1W3b1tWrQUv4XPvcA+KwdGSjQ8HQl
         N3o9gm197XDRdGVMyuuscnfwx9TPB+cLW9zndwhHH97STRin1DCc0yr92jDaWbQzfb1i
         YHchp8t+Ze+99L+dxueBYW590xsTdxOFmWhLHipVWUseov2flSDNXuuPRaTDTXDQAXBR
         Cy6ILXB+VJV0AB9YqbbE+qv8n+AakRDxjd8uXNdcUWR+0Q+7SbMZ3dglFobMpBIFeGcY
         LMFpmdmmgcz0KF2ARZKARfXXBji+dvD/oAlGGw9hBc6H0GKVk4YUKd6GiJMaXFTkQB1L
         qVZQ==
X-Gm-Message-State: AODbwcDkJ/vwUcWTD0CwxZkEl5AgHB05xH3zRf8J655xnKRj2IpZavP6
	rdVHs4kqKYCjSl2hogRSN4mMaQ68Kw==
X-Received: by 10.200.51.172 with SMTP id c41mr31998422qtb.71.1496779514409;
 Tue, 06 Jun 2017 13:05:14 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.200.56.231 with HTTP; Tue, 6 Jun 2017 13:05:13 -0700 (PDT)
Received: by 10.200.56.231 with HTTP; Tue, 6 Jun 2017 13:05:13 -0700 (PDT)
In-Reply-To: <05C6516D-943A-46C0-BA63-DB9AC28FCDF6@gmail.com>
References: <eb2e5586-6bbb-4764-a155-83aea545ded0@lbl.gov> <CAM=pu+JNZw5WSspqPJhxfvVVa+W4CrUatPOFyJd02uNXK7QGsw@mail.gmail.com>
 <705AFBC5-ABBF-45AB-9A0A-F094AC0A7E07@fordham.edu> <CAM=pu+KwqfXQwbxYwZbAifx-rQjFgCoh-4KNwMPLaw8BD1xidg@mail.gmail.com>
 <C734A832-7C37-424C-BDA8-F3003A088C9A@fordham.edu> <6F6BCBDE-B10D-40F5-8D23-AB3470CA7DAA@gmail.com>
 <672F6430-4C6C-4A66-919B-A9C4E7FE4ECB@fordham.edu> <F0A18C08-400E-4362-AD1B-B9DA736F72AB@gmail.com>
 <59F05D2F-47A7-49BC-9F37-D16F845C159D@fordham.edu> <CAA6Bz=f=191vj-Mx29bsDtmt+vwHFp9E7wE9xse34ak762JxDQ@mail.gmail.com>
 <9CF6424D-BCDB-40E8-830C-81CE2F1C5538@fordham.edu> <CAA6Bz=eFXAstGLM8pm+p_PiaMvo8LNb=TGNJn82K+mLuM2BAFg@mail.gmail.com>
 <BDFE338B-2C36-4DE2-B94E-6AAB75FF2615@fordham.edu> <CAA6Bz=dKY7hicKNuGdea9YyHrd+n_cPTLuSS2SW2vb3xZspmug@mail.gmail.com>
 <F920964C-A347-41C8-A231-12A9167A2546@fordham.edu> <CAM=pu+LZ3+pmkdrZG2Epa59FXTh55=_frfb_rJLGmoW-ugdYnw@mail.gmail.com>
 <CAM=pu+Lo+TnjqrcScC3ptiH4Yx-JULHZmXxv9DUS9vCSwHCqfw@mail.gmail.com>
 <E43855ED-30E1-4DBA-AFF4-509EC76ABE63@fordham.edu> <05C6516D-943A-46C0-BA63-DB9AC28FCDF6@gmail.com>
From: =?UTF-8?B?UsOpbXkgRGVybmF0?= <rem...@gmail.com>
Date: Tue, 6 Jun 2017 22:05:13 +0200
Message-ID: <CAA6Bz=ct76fh47bP1FdmftALX+Ss+moaUgeNPYjDy2D0MOhvOg@mail.gmail.com>
Subject: Re: [Singularity] using Singularity to add Ubuntu to a NPACI Rocks
 Cluster node
To: singularity@lbl.gov
Content-Type: multipart/alternative; boundary="001a11426c9c43763005515023e3"

--001a11426c9c43763005515023e3
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable

I suggest the use of a modulefile in /etc/modulefiles/

You can create a file called singularity-<version> and then, add it to your
list of files to synchronize in /var/411/Files.mk
Then run:

cd /var/411
make clean && make force
rocks sync config
rocks sync users

Hope that helps

R=C3=A9my.

Le 6 juin 2017 21:52, "Rick Wagner" <richard...@gmail.com> a =C3=A9crit :

> On each compute node create a singularity.sh and singularity.csh file in
> /etc/profile.d/. You can put these on the front end and distribute them v=
ia
> 411.
>
> Example for adding some IB utilities to the PATH:
>
> [ux455215@comet-ln2 profile.d]$ pwd
> /etc/profile.d
>
> [ux455215@comet-ln2 profile.d]$ cat ibutils.sh
> if ! echo ${PATH} | grep -q /opt/ibutils/bin ; then
>         PATH=3D${PATH}:/opt/ibutils/bin
> fi
>
> [ux455215@comet-ln2 profile.d]$ cat ibutils.csh
> if ( "${path}" !~ */opt/ibutils/bin* ) then
>         set path =3D ( $path /opt/ibutils/bin )
> endif
> [ux455215@comet-ln2 profile.d]$
>
> =E2=80=94Rick
>
> On Jun 6, 2017, at 3:30 PM, Robert Kudyba <rku...@fordham.edu> wrote:
>
> It=E2=80=99s all coming together! Since we don=E2=80=99t really care abou=
t the Ubuntu
> image I made it chmod 777 to allow writeable to all. Also does anyone kno=
w
> how to export the $PATH to all Rocks compute nodes to include /share/apps=
/
> singularity-install/bin/singularity to allow singularity to work without
> being in the bin/ directory? I see the init file in etc but that doesn=E2=
=80=99t
> seem to work before calling singularity.
>
> On Jun 6, 2017, at 1:38 PM, vanessa s <vso...@gmail.com> wrote:
>
> And if you want to shell inside (and run doesn't open a shell) you should
> just use shell instead:
>
> sudo singularity shell --writable /share/apps/ubuntu.simg
>
> On Tue, Jun 6, 2017 at 10:37 AM, vanessa s <vso...@gmail.com> wrote:
>
>> Almost! To use -w you need to run as root:
>>
>> sudo singularity run -w /share/apps/ubuntu.simg
>>
>> On Tue, Jun 6, 2017 at 9:04 AM, Robert Kudyba <rku...@fordham.edu> w
>> rote:
>>
>>> is this the correct usage of -w?
>>>
>>> ./singularity run -w /share/apps/ubuntu.simg
>>> ERROR  : Could not open image /share/apps/ubuntu.simg: Permission denie=
d
>>> ABORT  : Retval =3D 255
>>>
>>>
>>>
>>> On Jun 6, 2017, at 11:18 AM, R=C3=A9my Dernat <rem...@gmail.com> wrote:
>>>
>>> I think you built your image on a machine with uid "426" which is not
>>> present on the cluster, so, that's normal. You just have to enter in th=
e
>>> container with '-w' flag in root, and edit permissions on your runscrip=
t to
>>> fit your user on the cluster side.
>>>
>>> BTW, of course, normally, on Rocks, you had to build your image with:
>>> ```
>>> ./configure --prefix=3D/share/apps/singularity-install
>>> ```
>>> Instead of:
>>> ```
>>> ./configure --prefix=3D/export/apps/singularity-install
>>> ```
>>> Specially if some binaries contain the path of some files like
>>> singularity.conf
>>> Sorry for this mistake.
>>>
>>> Best,
>>> R=C3=A9my
>>>
>>>
>>>
>>> 2017-06-06 16:55 GMT+02:00 Robert Kudyba <rku...@fordham.edu>:
>>>
>>>> I was able to delete everything except the var directory:
>>>> rmdir session/
>>>> rmdir: failed to remove `session/': Device or resource busy
>>>> pwd
>>>> /share/apps/var/singularity/mnt
>>>>
>>>> But deleting the source and recloning did get me further. On the head
>>>> node I can run singularity commands. But again on the desired node we=
=E2=80=99d
>>>> like to run this on we get this:
>>>>
>>>> ./singularity
>>>> Error loading functions: /export/apps/singularity-insta
>>>> ll/libexec/singularity/functions
>>>>
>>>> On the Rocks mailing list I as reminded to do this:
>>>> "You need to reference singularity (or any app for that matter) as
>>>> /share/apps and never /export/apps
>>>>
>>>> /export/apps only exists on the head node. "
>>>>
>>>> So the good news is once I redid everything to use /share/apps I was
>>>> able to get the singularity command to work on the compute node.
>>>>
>>>> So once I tried a command like: ./singularity run
>>>> /share/apps/ubuntu.simg
>>>> groups: cannot find name for group ID 426
>>>>
>>>> It looks like I=E2=80=99m in a shell:
>>>> ls -l /singularity
>>>> lrwxrwxrwx 1 root root 24 Jun  6 14:46 /singularity ->
>>>> .singularity.d/runscript
>>>>
>>>> But is that error/warning normal?
>>>>
>>>>
>>>> On Jun 6, 2017, at 10:01 AM, R=C3=A9my Dernat <rem...@gmail.com> wrote=
:
>>>>
>>>> Hi,
>>>>
>>>> Try to remove every previous install and the install src directory.
>>>> Then, logout/login and clone singularity again. Finally, build it from=
 a
>>>> clean environment.
>>>> Let us know if it solves your issue.
>>>>
>>>> Otherwise, it could be a bug. Try to create a symbolic link to
>>>> configuration file where it is searching (/etc/singularity/singularity=
.
>>>> conf).
>>>>
>>>> Best regards,
>>>> R=C3=A9my
>>>>
>>>> 2017-06-06 15:51 GMT+02:00 Robert Kudyba <rku...@fordham.edu>:
>>>>
>>>>> OK I did that but still getting the bathing error about the conf file=
.
>>>>> I did find a previous thread mentioning this https://groups.google.co=
m
>>>>> /a/lbl.gov/forum/#!topic/singularity/mTPunMFQF4k
>>>>> <https://urldefense.proofpoint.com/v2/url?u=3Dhttps-3A__groups.google=
.com_a_lbl.gov_forum_-23-21topic_singularity_mTPunMFQF4k&d=3DDwMFaQ&c=3DaqM=
fXOEvEJQh2iQMCb7Wy8l0sPnURkcqADc2guUW8IM&r=3DX0jL9y0sL4r4iU_qVtR3lLNo4tOL1r=
y_m7-psV3GejY&m=3D6bH1ymxbi1sjYEf1b1I5mFgmrV6i74K8qBLXr92Gwts&s=3D8idh7dZXY=
flc0-GnBBay6ept9BXftZeazG5A09GHiNA&e=3D> but
>>>>> there=E2=80=99s no solution on how to point to an alternative locatio=
n, like a -c
>>>>> option. I updated the init file to add /export/apps/singularity-insta=
ll
>>>>> to the $PATH.
>>>>>
>>>>>
>>>>> ./singularity --debug create /export/apps/ubuntu.simg
>>>>> Enabling debugging
>>>>> Ending argument loop
>>>>> Singularity version: 2.3-master.gda9cd20
>>>>> Exec'ing: /export/apps/singularity-install/libexec/singularity/cli/cr=
e
>>>>> ate.exec
>>>>> VERBOSE [U=3D0,P=3D17149]      message_init()
>>>>> Set messagelevel to: 5
>>>>> VERBOSE [U=3D0,P=3D17149]      singularity_config_parse()
>>>>> Initialize configuration file: /etc/singularity/singularity.conf
>>>>> ERROR   [U=3D0,P=3D17149]      singularity_config_parse()
>>>>> Specified configuration file /etc/singularity/singularity.conf does
>>>>> not appear to be a normal file.
>>>>> ERROR   [U=3D0,P=3D17149]      singularity_config_parse()
>>>>> Could not open configuration file /etc/singularity/singularity.conf:
>>>>> No such file or directory
>>>>> VERBOSE [U=3D0,P=3D17149]      singularity_registry_init()
>>>>> Initializing Singularity Registry
>>>>> VERBOSE [U=3D0,P=3D17149]      singularity_registry_set()
>>>>> Adding value to registry: 'WRITABLE' =3D '1'
>>>>> DEBUG   [U=3D0,P=3D17149]      singularity_registry_set()
>>>>> Returning singularity_registry_set(WRITABLE, 1) =3D 0
>>>>> VERBOSE [U=3D0,P=3D17149]      singularity_registry_set()
>>>>> Adding value to registry: 'LIBEXECDIR' =3D '/export/apps/singularity-=
inst
>>>>> all/libexec'
>>>>> DEBUG   [U=3D0,P=3D17149]      singularity_registry_set()
>>>>> Returning singularity_registry_set(libexecdir,
>>>>> /export/apps/singularity-install/libexec) =3D 0
>>>>> VERBOSE [U=3D0,P=3D17149]      singularity_registry_set()
>>>>> Adding value to registry: 'COMMAND' =3D 'create'
>>>>> DEBUG   [U=3D0,P=3D17149]      singularity_registry_set()
>>>>> Returning singularity_registry_set(COMMAND, create) =3D 0
>>>>> VERBOSE [U=3D0,P=3D17149]      singularity_registry_set()
>>>>> Adding value to registry: 'MESSAGELEVEL' =3D '5'
>>>>> DEBUG   [U=3D0,P=3D17149]      singularity_registry_set()
>>>>> Returning singularity_registry_set(MESSAGELEVEL, 5) =3D 0
>>>>> VERBOSE [U=3D0,P=3D17149]      singularity_registry_set()
>>>>> Adding value to registry: 'VERSION' =3D '2.3-master.gda9cd20'
>>>>> DEBUG   [U=3D0,P=3D17149]      singularity_registry_set()
>>>>> Returning singularity_registry_set(version, 2.3-master.gda9cd20) =3D =
0
>>>>> VERBOSE [U=3D0,P=3D17149]      singularity_registry_set()
>>>>> Adding value to registry: 'LOCALSTATEDIR' =3D '/export/apps/singulari=
ty-inst
>>>>> all/var'
>>>>> DEBUG   [U=3D0,P=3D17149]      singularity_registry_set()
>>>>> Returning singularity_registry_set(localstatedir,
>>>>> /export/apps/singularity-install/var) =3D 0
>>>>> VERBOSE [U=3D0,P=3D17149]      singularity_registry_set()
>>>>> Adding value to registry: 'SYSCONFDIR' =3D '/export/apps/singularity-=
inst
>>>>> all/etc'
>>>>> DEBUG   [U=3D0,P=3D17149]      singularity_registry_set()
>>>>> Returning singularity_registry_set(sysconfdir,
>>>>> /export/apps/singularity-install/etc) =3D 0
>>>>> VERBOSE [U=3D0,P=3D17149]      singularity_registry_set()
>>>>> Adding value to registry: 'BINDIR' =3D '/export/apps/singularity-inst
>>>>> all/bin'
>>>>> DEBUG   [U=3D0,P=3D17149]      singularity_registry_set()
>>>>> Returning singularity_registry_set(bindir,
>>>>> /export/apps/singularity-install/bin) =3D 0
>>>>> VERBOSE [U=3D0,P=3D17149]      singularity_registry_set()
>>>>> Adding value to registry: 'IMAGE' =3D '/export/apps/ubuntu.simg'
>>>>> DEBUG   [U=3D0,P=3D17149]      singularity_registry_set()
>>>>> Returning singularity_registry_set(IMAGE, /export/apps/ubuntu.simg) =
=3D
>>>>> 0
>>>>> DEBUG   [U=3D0,P=3D17149]      singularity_registry_get()
>>>>> Returning NULL on 'HOME'
>>>>> DEBUG   [U=3D0,P=3D17149]      singularity_registry_get()
>>>>> Returning NULL on 'TARGET_UID'
>>>>> DEBUG   [U=3D0,P=3D17149]      singularity_registry_get()
>>>>> Returning NULL on 'TARGET_GID'
>>>>> DEBUG   [U=3D0,P=3D17149]      singularity_priv_init()
>>>>> Initializing user info
>>>>> DEBUG   [U=3D0,P=3D17149]      singularity_priv_init()
>>>>> Set the calling user's username to: root
>>>>> DEBUG   [U=3D0,P=3D17149]      singularity_priv_init()
>>>>> Marking uinfo structure as ready
>>>>> DEBUG   [U=3D0,P=3D17149]      singularity_priv_init()
>>>>> Obtaining home directory
>>>>> VERBOSE [U=3D0,P=3D17149]      singularity_priv_init()
>>>>> Set home (via getpwuid()) to: /root
>>>>> VERBOSE [U=3D0,P=3D17149]      singularity_suid_init()
>>>>> Running SUID program workflow
>>>>> VERBOSE [U=3D0,P=3D17149]      singularity_suid_init()
>>>>> Checking program has appropriate permissions
>>>>> VERBOSE [U=3D0,P=3D17149]      singularity_suid_init()
>>>>> Checking configuration file is properly owned by root
>>>>> ABORT   [U=3D0,P=3D17149]      singularity_suid_init()
>>>>> Running in privileged mode, root must own the Singularity configurati=
on
>>>>> file: /etc/singularity/singularity.conf
>>>>> ABORT   [U=3D0,P=3D17149]      singularity_suid_init()
>>>>> Retval =3D 255
>>>>>
>>>>>
>>>>> On Jun 6, 2017, at 2:53 AM, R=C3=A9my Dernat <rem...@gmail.com> wrote=
:
>>>>>
>>>>> Hi Robert,
>>>>>
>>>>> You just have to install singularity on a NFS export; Replace:
>>>>>
>>>>> ```
>>>>>  ./configure --prefix=3D/export/apps/singularity-install
>>>>> --sysconfdir=3D/etc
>>>>> ```
>>>>> With:
>>>>> ```
>>>>>  ./configure --prefix=3D/export/apps/singularity-install
>>>>> ```
>>>>>
>>>>> Then, it should works as expected.
>>>>>
>>>>> Do not forget that some singularity commands, like `bootstrap` in 2.3
>>>>> or many more in previous release need sudo/root privileges.
>>>>>
>>>>> Best regards,
>>>>> R=C3=A9my
>>>>>
>>>>> 2017-06-05 23:09 GMT+02:00 Robert Kudyba <rku...@fordham.edu>:
>>>>>
>>>>>>
>>>>>> On Jun 5, 2017, at 4:30 PM, Rick Wagner <richard...@gmail.com>
>>>>>> wrote:
>>>>>>
>>>>>>
>>>>>> On Jun 5, 2017, at 4:13 PM, Robert Kudyba <rku...@fordham.edu>
>>>>>> wrote:
>>>>>>
>>>>>>
>>>>>> On Jun 5, 2017, at 4:08 PM, Rick Wagner <richard...@gmail.com>
>>>>>> wrote:
>>>>>>
>>>>>> Robert,
>>>>>>
>>>>>> That=E2=80=99s an NFS export for the Rocks head node that may be mou=
nted
>>>>>> nosuid
>>>>>>
>>>>>>
>>>>>> Right in /etc/fstab for other applications we already have this:
>>>>>>
>>>>>> UUID=3Dxxxxx /export                 ext4    defaults        1 2
>>>>>>
>>>>>> So what else needs to be done?
>>>>>>
>>>>>>
>>>>>> One option is to build an RPM using the spec file in the Singularity
>>>>>> repo and put that in contrib for your Rocks distro along with a pack=
age tag
>>>>>> in extend compute. That=E2=80=99s my preference because I don=E2=80=
=99t like serving
>>>>>> applications over NFS, especially ones with setuid.
>>>>>>
>>>>>> WARNING: the following will allow any executable with a setuid bit i=
n
>>>>>> that NFS file system to be run.
>>>>>>
>>>>>> You can try changing defaults to defaults,suid and remounting the
>>>>>> file system on a compute node.
>>>>>>
>>>>>>
>>>>>> Is this an =E2=80=9Cor=E2=80=9D suggestion? I don=E2=80=99t have a p=
roblem with changing the
>>>>>> /etc/fstab. I did that and ran:
>>>>>>   rocks sync config
>>>>>>   rocks sync users
>>>>>>
>>>>>> Also made sure to use the config option as /share/apps (not
>>>>>> /export/apps as that=E2=80=99s just for the head node)
>>>>>>
>>>>>> Still getting:
>>>>>> /share/apps/bin
>>>>>> ./singularity shell /share/apps/ubuntu.simg
>>>>>> ERROR  : Session directory does not exist:
>>>>>> /export/apps/var/singularity/mnt/session
>>>>>> ABORT  : Retval =3D 255
>>>>>>
>>>>>> --
>>>>>> You received this message because you are subscribed to the Google
>>>>>> Groups "singularity" group.
>>>>>> To unsubscribe from this group and stop receiving emails from it,
>>>>>> send an email to singu...@lbl.gov.
>>>>>>
>>>>>
>>>>>
>>>>> --
>>>>> You received this message because you are subscribed to the Google
>>>>> Groups "singularity" group.
>>>>> To unsubscribe from this group and stop receiving emails from it, sen=
d
>>>>> an email to singu...@lbl.gov.
>>>>>
>>>>>
>>>>>
>>>>> --
>>>>> You received this message because you are subscribed to the Google
>>>>> Groups "singularity" group.
>>>>> To unsubscribe from this group and stop receiving emails from it, sen=
d
>>>>> an email to singu...@lbl.gov.
>>>>>
>>>>
>>>>
>>>> --
>>>> You received this message because you are subscribed to the Google
>>>> Groups "singularity" group.
>>>> To unsubscribe from this group and stop receiving emails from it, send
>>>> an email to singu...@lbl.gov.
>>>>
>>>>
>>>>
>>>> --
>>>> You received this message because you are subscribed to the Google
>>>> Groups "singularity" group.
>>>> To unsubscribe from this group and stop receiving emails from it, send
>>>> an email to singu...@lbl.gov.
>>>>
>>>
>>>
>>> --
>>> You received this message because you are subscribed to the Google
>>> Groups "singularity" group.
>>> To unsubscribe from this group and stop receiving emails from it, send
>>> an email to singu...@lbl.gov.
>>>
>>>
>>>
>>> --
>>> You received this message because you are subscribed to the Google
>>> Groups "singularity" group.
>>> To unsubscribe from this group and stop receiving emails from it, send
>>> an email to singu...@lbl.gov.
>>>
>>
>>
>>
>> --
>> Vanessa Villamia Sochat
>> Stanford University '16
>> (603) 321-0676
>>
>
>
>
> --
> Vanessa Villamia Sochat
> Stanford University '16
> (603) 321-0676
>
> --
> You received this message because you are subscribed to the Google Groups
> "singularity" group.
> To unsubscribe from this group and stop receiving emails from it, send an
> email to singu...@lbl.gov.
>
>
>
> --
> You received this message because you are subscribed to the Google Groups
> "singularity" group.
> To unsubscribe from this group and stop receiving emails from it, send an
> email to singu...@lbl.gov.
>
>
> --
> You received this message because you are subscribed to the Google Groups
> "singularity" group.
> To unsubscribe from this group and stop receiving emails from it, send an
> email to singu...@lbl.gov.
>

--001a11426c9c43763005515023e3
Content-Type: text/html; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable

<div dir=3D"auto">I suggest the use of a modulefile in /etc/modulefiles/<di=
v dir=3D"auto"><br></div><div dir=3D"auto">You can create a file called sin=
gularity-&lt;version&gt; and then, add it to your list of files to synchron=
ize in /var/411/Files.mk</div><div dir=3D"auto">Then run:</div><div dir=3D"=
auto"><br></div><div dir=3D"auto">cd /var/411</div><div dir=3D"auto">make c=
lean &amp;&amp; make force</div><div dir=3D"auto">rocks sync config</div><d=
iv dir=3D"auto">rocks sync users</div><div dir=3D"auto"><br></div><div dir=
=3D"auto">Hope that helps</div><div dir=3D"auto"><br></div><div dir=3D"auto=
">R=C3=A9my.</div></div><div class=3D"gmail_extra"><br><div class=3D"gmail_=
quote">Le=C2=A06 juin 2017 21:52, &quot;Rick Wagner&quot; &lt;<a href=3D"ma=
ilto:richard...@gmail.com">richard...@gmail.com</a>&gt; a =C3=A9crit=C2=A0:=
<br type=3D"attribution"><blockquote class=3D"gmail_quote" style=3D"margin:=
0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div style=3D"word-=
wrap:break-word"><div>On each compute node create a singularity.sh and sing=
ularity.csh file in /etc/profile.d/. You can put these on the front end and=
 distribute them via 411.</div><div><br></div><div>Example for adding some =
IB utilities to the PATH:</div><div><br></div><div>[ux455215@comet-ln2 prof=
ile.d]$ pwd<br>/etc/profile.d<br></div><div><br></div><div>[ux455215@comet-=
ln2 profile.d]$ cat ibutils.sh=C2=A0<br>if ! echo ${PATH} | grep -q /opt/ib=
utils/bin ; then<br>=C2=A0 =C2=A0 =C2=A0 =C2=A0=C2=A0PATH=3D${PATH}:/opt/ib=
utils/<wbr>bin<br>fi</div><div><br>[ux455215@comet-ln2 profile.d]$ cat ibut=
ils.csh=C2=A0<br>if ( &quot;${path}&quot; !~ */opt/ibutils/bin* ) then<br>=
=C2=A0 =C2=A0 =C2=A0 =C2=A0=C2=A0set path =3D ( $path /opt/ibutils/bin )<br=
>endif<br>[ux455215@comet-ln2 profile.d]$=C2=A0</div><div><br></div>=E2=80=
=94Rick<div><br><div><blockquote type=3D"cite"><div>On Jun 6, 2017, at 3:30=
 PM, Robert Kudyba &lt;<a href=3D"mailto:rku...@fordham.edu" target=3D"_bla=
nk">rku...@fordham.edu</a>&gt; wrote:</div><br class=3D"m_-6106958642398323=
28Apple-interchange-newline"><div><div style=3D"word-wrap:break-word"><div>=
It=E2=80=99s all coming together! Since we don=E2=80=99t really care about =
the Ubuntu image I made it chmod 777 to allow writeable to all. Also does a=
nyone know how to export the $PATH to all Rocks compute nodes to include=C2=
=A0<span style=3D"font-family:Menlo;font-size:10px">/share/apps/<wbr>singul=
arity-install/bin/<wbr>singularity to allow singularity to work=C2=A0</span=
><font face=3D"Menlo" size=3D"1">without being in the bin/ directory? I see=
 the init file in etc but that doesn=E2=80=99t seem to work before calling =
singularity.</font></div><br><div><blockquote type=3D"cite"><div>On Jun 6, =
2017, at 1:38 PM, vanessa s &lt;<a href=3D"mailto:vso...@gmail.com" target=
=3D"_blank">vso...@gmail.com</a>&gt; wrote:</div><br class=3D"m_-6106958642=
39832328Apple-interchange-newline"><div><div dir=3D"ltr" style=3D"font-fami=
ly:Helvetica;font-size:12px;font-style:normal;font-variant-caps:normal;font=
-weight:normal;letter-spacing:normal;text-align:start;text-indent:0px;text-=
transform:none;white-space:normal;word-spacing:0px">And if you want to shel=
l inside (and run doesn&#39;t open a shell) you should just use shell inste=
ad:<div><br></div><div><span style=3D"font-size:12.8px">sudo singularity sh=
ell --writable /share/apps/ubuntu.simg</span><br></div></div><div class=3D"=
gmail_extra" style=3D"font-family:Helvetica;font-size:12px;font-style:norma=
l;font-variant-caps:normal;font-weight:normal;letter-spacing:normal;text-al=
ign:start;text-indent:0px;text-transform:none;white-space:normal;word-spaci=
ng:0px"><br><div class=3D"gmail_quote">On Tue, Jun 6, 2017 at 10:37 AM, van=
essa s<span class=3D"m_-610695864239832328Apple-converted-space">=C2=A0</sp=
an><span dir=3D"ltr">&lt;<a href=3D"mailto:vso...@gmail.com" target=3D"_bla=
nk">vso...@gmail.com</a>&gt;</span><span class=3D"m_-610695864239832328Appl=
e-converted-space">=C2=A0</span>wrote:<br><blockquote class=3D"gmail_quote"=
 style=3D"margin:0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:=
rgb(204,204,204);border-left-style:solid;padding-left:1ex"><div dir=3D"ltr"=
>Almost! To use -w you need to run as root:<div><br></div><div>sudo singula=
rity run -w /share/apps/ubuntu.simg</div></div><div class=3D"gmail_extra"><=
div><div class=3D"m_-610695864239832328h5"><br><div class=3D"gmail_quote">O=
n Tue, Jun 6, 2017 at 9:04 AM, Robert Kudyba<span class=3D"m_-6106958642398=
32328Apple-converted-space">=C2=A0</span><span dir=3D"ltr">&lt;<a href=3D"m=
ailto:rku...@fordham.edu" target=3D"_blank">rku...@fordham.edu</a>&gt;</spa=
n><span class=3D"m_-610695864239832328Apple-converted-space">=C2=A0</span>w=
<wbr>rote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0px 0px 0px=
 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left=
-style:solid;padding-left:1ex"><div style=3D"word-wrap:break-word">is this =
the correct usage of -w?<div><br></div><div><div style=3D"margin:0px;font-s=
ize:10px;line-height:normal;font-family:Menlo"><span style=3D"font-variant-=
ligatures:no-common-ligatures">./singularity run -w /share/apps/ubuntu.simg=
=C2=A0</span></div><div style=3D"margin:0px;font-size:10px;line-height:norm=
al;font-family:Menlo;color:rgb(255,59,29)"><span style=3D"font-variant-liga=
tures:no-common-ligatures">ERROR=C2=A0 : Could not open image /share/apps/u=
buntu.simg: Permission denied</span></div><div style=3D"margin:0px;font-siz=
e:10px;line-height:normal;font-family:Menlo;color:rgb(195,55,32)"><span sty=
le=3D"font-variant-ligatures:no-common-ligatures">ABORT=C2=A0 : Retval =3D =
255</span></div><div><div class=3D"m_-610695864239832328m_79317716552407701=
18h5"><div><span style=3D"font-variant-ligatures:no-common-ligatures"><br><=
/span></div><div><span style=3D"font-variant-ligatures:no-common-ligatures"=
><br></span></div><div><span style=3D"font-variant-ligatures:no-common-liga=
tures"><br></span></div><div><blockquote type=3D"cite"><div>On Jun 6, 2017,=
 at 11:18 AM, R=C3=A9my Dernat &lt;<a href=3D"mailto:rem...@gmail.com" targ=
et=3D"_blank">rem...@gmail.com</a>&gt; wrote:</div><br class=3D"m_-61069586=
4239832328m_7931771655240770118m_1840847850162928191Apple-interchange-newli=
ne"><div><div dir=3D"ltr">I think you built your image on a machine with ui=
d &quot;426&quot; which is not present on the cluster, so, that&#39;s norma=
l. You just have to enter in the container with &#39;-w&#39; flag in root, =
and edit permissions on your runscript to fit your user on the cluster side=
.<div><br></div><div>BTW, of course, normally, on Rocks, you had to build y=
our image with:</div><div>```</div><div><span style=3D"font-family:Menlo;fo=
nt-size:10px;font-variant-ligatures:no-common-ligatures">./configure --pref=
ix=3D/share/apps/singular</span><span style=3D"font-family:Menlo;font-size:=
10px;font-variant-ligatures:no-common-ligatures">i<wbr>ty-install</span><br=
></div><div>```</div><div>Instead of:</div><div><div>```</div><div><span st=
yle=3D"font-family:Menlo;font-size:10px;font-variant-ligatures:no-common-li=
gatures">./configure --prefix=3D/export/apps/singular</span><span style=3D"=
font-family:Menlo;font-size:10px;font-variant-ligatures:no-common-ligatures=
"><wbr>ity-install</span><br></div><div>```</div></div><div>Specially if so=
me binaries contain the path of some files like singularity.conf</div><div>=
Sorry for this mistake.<br></div><div><br></div><div>Best,</div><div>R=C3=
=A9my</div><div><br></div><div><br></div></div><div class=3D"gmail_extra"><=
br><div class=3D"gmail_quote">2017-06-06 16:55 GMT+02:00 Robert Kudyba<span=
 class=3D"m_-610695864239832328Apple-converted-space">=C2=A0</span><span di=
r=3D"ltr">&lt;<a href=3D"mailto:rku...@fordham.edu" target=3D"_blank">rku..=
.@fordham.edu</a>&gt;</span>:<br><blockquote class=3D"gmail_quote" style=3D=
"margin:0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,2=
04,204);border-left-style:solid;padding-left:1ex"><div style=3D"word-wrap:b=
reak-word"><div>I was able to delete everything except the var directory:=
=C2=A0</div><div><div style=3D"margin:0px;font-size:10px;line-height:normal=
;font-family:Menlo"><span style=3D"font-variant-ligatures:no-common-ligatur=
es">rmdir session/</span></div><div style=3D"margin:0px;font-size:10px;line=
-height:normal;font-family:Menlo"><span style=3D"font-variant-ligatures:no-=
common-ligatures">rmdir: failed to remove `session/&#39;: Device or resourc=
e busy</span></div><div style=3D"margin:0px;font-size:10px;line-height:norm=
al;font-family:Menlo"><span style=3D"font-variant-ligatures:no-common-ligat=
ures">pwd</span></div><div style=3D"margin:0px;font-size:10px;line-height:n=
ormal;font-family:Menlo"><span style=3D"font-variant-ligatures:no-common-li=
gatures">/share/apps/var/singularity/mn<wbr>t</span></div></div><div><span =
style=3D"font-variant-ligatures:no-common-ligatures"><br></span></div><div>=
But deleting the source and recloning did get me further. On the head node =
I can run singularity commands. But again on the desired node we=E2=80=99d =
like to run this on we get this:</div><div><br></div><div><div style=3D"mar=
gin:0px;font-size:10px;line-height:normal;font-family:Menlo"><span style=3D=
"font-variant-ligatures:no-common-ligatures">./singularity=C2=A0</span></di=
v><div style=3D"margin:0px;font-size:10px;line-height:normal;font-family:Me=
nlo"><span style=3D"font-variant-ligatures:no-common-ligatures">Error loadi=
ng functions: /export/apps/singularity-insta<wbr>ll/libexec/singularity/fun=
ctio<wbr>ns</span></div></div><div><br></div><div>On the Rocks mailing list=
 I as reminded to do this:</div><div>&quot;You need to reference singularit=
y (or any app for that matter) as /share/apps and never /export/apps<br><br=
>/export/apps only exists on the head node. &quot;</div><div><br></div><div=
>So the good news is once I redid everything to use /share/apps I was able =
to get the singularity command to work on the compute node.</div><div><br><=
/div><div>So once I tried a command like:=C2=A0<span style=3D"font-family:M=
enlo;font-size:10px">./singularity run /share/apps/ubuntu.simg</span><span =
style=3D"font-family:Menlo;font-size:10px">=C2=A0</span></div><div style=3D=
"margin:0px;font-size:10px;line-height:normal;font-family:Menlo"><span styl=
e=3D"font-variant-ligatures:no-common-ligatures">groups: cannot find name f=
or group ID 426</span></div><div><br></div><div>It looks like I=E2=80=99m i=
n a shell:</div><div><div style=3D"margin:0px;font-size:10px;line-height:no=
rmal;font-family:Menlo"><span style=3D"font-variant-ligatures:no-common-lig=
atures">ls -l /singularity=C2=A0</span></div><div style=3D"margin:0px;font-=
size:10px;line-height:normal;font-family:Menlo"><span style=3D"font-variant=
-ligatures:no-common-ligatures">lrwxrwxrwx 1 root root 24 Jun=C2=A0 6 14:46=
 /singularity -&gt; .singularity.d/runscript</span></div></div><div><br></d=
iv><div>But is that error/warning normal?</div><div><div class=3D"m_-610695=
864239832328m_7931771655240770118m_1840847850162928191h5"><div><br></div><b=
r><div><blockquote type=3D"cite"><div>On Jun 6, 2017, at 10:01 AM, R=C3=A9m=
y Dernat &lt;<a href=3D"mailto:rem...@gmail.com" target=3D"_blank">rem...@g=
mail.com</a>&gt; wrote:</div><br class=3D"m_-610695864239832328m_7931771655=
240770118m_1840847850162928191m_-672932233201048330Apple-interchange-newlin=
e"><div><div dir=3D"ltr">Hi,<div><br></div><div>Try to remove every previou=
s install and the install src directory. Then, logout/login and clone singu=
larity again. Finally, build it from a clean environment.</div><div>Let us =
know if it solves your issue.</div><div><br></div><div>Otherwise, it could =
be a bug. Try to create a symbolic link to configuration file where it is s=
earching (/etc/singularity/singularity.<wbr>conf).</div><div><br></div><div=
>Best regards,</div><div>R=C3=A9my</div></div><div class=3D"gmail_extra"><b=
r><div class=3D"gmail_quote">2017-06-06 15:51 GMT+02:00 Robert Kudyba<span =
class=3D"m_-610695864239832328Apple-converted-space">=C2=A0</span><span dir=
=3D"ltr">&lt;<a href=3D"mailto:rku...@fordham.edu" target=3D"_blank">rku...=
@fordham.edu</a>&gt;</span>:<br><blockquote class=3D"gmail_quote" style=3D"=
margin:0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,20=
4,204);border-left-style:solid;padding-left:1ex"><div style=3D"word-wrap:br=
eak-word"><div>OK I did that but still getting the bathing error about the =
conf file. I did find a previous thread mentioning this=C2=A0<a href=3D"htt=
ps://urldefense.proofpoint.com/v2/url?u=3Dhttps-3A__groups.google.com_a_lbl=
.gov_forum_-23-21topic_singularity_mTPunMFQF4k&amp;d=3DDwMFaQ&amp;c=3DaqMfX=
OEvEJQh2iQMCb7Wy8l0sPnURkcqADc2guUW8IM&amp;r=3DX0jL9y0sL4r4iU_qVtR3lLNo4tOL=
1ry_m7-psV3GejY&amp;m=3D6bH1ymxbi1sjYEf1b1I5mFgmrV6i74K8qBLXr92Gwts&amp;s=
=3D8idh7dZXYflc0-GnBBay6ept9BXftZeazG5A09GHiNA&amp;e=3D" target=3D"_blank">=
https://groups.google.com<wbr>/a/lbl.gov/forum/#!topic/singu<wbr>larity/mTP=
unMFQF4k</a>=C2=A0but there=E2=80=99s no solution on how to point to an alt=
ernative location, like a -c option. I updated the init file to add /export=
/apps/singularity-insta<wbr>ll to the $PATH.</div><div><br></div><div><br><=
/div><div><div style=3D"margin:0px;font-size:10px;line-height:normal;font-f=
amily:Menlo"><span style=3D"font-variant-ligatures:no-common-ligatures">./s=
ingularity --debug create /export/apps/ubuntu.simg</span></div><div style=
=3D"margin:0px;font-size:10px;line-height:normal;font-family:Menlo"><span s=
tyle=3D"font-variant-ligatures:no-common-ligatures">Enabling debugging</spa=
n></div><div style=3D"margin:0px;font-size:10px;line-height:normal;font-fam=
ily:Menlo"><span style=3D"font-variant-ligatures:no-common-ligatures">Endin=
g argument loop</span></div><div style=3D"margin:0px;font-size:10px;line-he=
ight:normal;font-family:Menlo"><span style=3D"font-variant-ligatures:no-com=
mon-ligatures">Singularity version: 2.3-master.gda9cd20</span></div><div st=
yle=3D"margin:0px;font-size:10px;line-height:normal;font-family:Menlo"><spa=
n style=3D"font-variant-ligatures:no-common-ligatures">Exec&#39;ing: /expor=
t/apps/singularity-insta<wbr>ll/libexec/singularity/cli/cre<wbr>ate.exec</s=
pan></div><div style=3D"margin:0px;font-size:10px;line-height:normal;font-f=
amily:Menlo"><span style=3D"font-variant-ligatures:no-common-ligatures">VER=
BOSE [U=3D0,P=3D17149]=C2=A0 =C2=A0 =C2=A0 message_init()=C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 Set messagelevel to: 5</span></div><div style=3D"margin:0px;font-siz=
e:10px;line-height:normal;font-family:Menlo"><span style=3D"font-variant-li=
gatures:no-common-ligatures">VERBOSE [U=3D0,P=3D17149]=C2=A0 =C2=A0 =C2=A0 =
singularity_config_parse()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 Initialize configuration file: /etc/singularity/singularity.c<wbr>on=
f</span></div><div style=3D"margin:0px;font-size:10px;line-height:normal;fo=
nt-family:Menlo;color:rgb(255,59,29)"><span style=3D"font-variant-ligatures=
:no-common-ligatures">ERROR =C2=A0 [U=3D0,P=3D17149]=C2=A0 =C2=A0 =C2=A0 si=
ngularity_config_parse()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 Specified configuration file /etc/singularity/singularity.c<wbr>onf =
does not appear to be a normal file.</span></div><div style=3D"margin:0px;f=
ont-size:10px;line-height:normal;font-family:Menlo;color:rgb(255,59,29)"><s=
pan style=3D"font-variant-ligatures:no-common-ligatures">ERROR =C2=A0 [U=3D=
0,P=3D17149]=C2=A0 =C2=A0 =C2=A0 singularity_config_parse()=C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Could not open configuration file=
 /etc/singularity/singularity.c<wbr>onf: No such file or directory</span></=
div><div style=3D"margin:0px;font-size:10px;line-height:normal;font-family:=
Menlo"><span style=3D"font-variant-ligatures:no-common-ligatures">VERBOSE [=
U=3D0,P=3D17149]=C2=A0 =C2=A0 =C2=A0 singularity_registry_init() =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Initializing Singularity Registry</s=
pan></div><div style=3D"margin:0px;font-size:10px;line-height:normal;font-f=
amily:Menlo"><span style=3D"font-variant-ligatures:no-common-ligatures">VER=
BOSE [U=3D0,P=3D17149]=C2=A0 =C2=A0 =C2=A0 singularity_registry_set()=C2=A0=
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Adding value to registry:=
 &#39;WRITABLE&#39; =3D &#39;1&#39;</span></div><div style=3D"margin:0px;fo=
nt-size:10px;line-height:normal;font-family:Menlo"><span style=3D"font-vari=
ant-ligatures:no-common-ligatures">DEBUG =C2=A0 [U=3D0,P=3D17149]=C2=A0 =C2=
=A0 =C2=A0 singularity_registry_set()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 Returning singularity_registry_set(WRITA<wbr>BLE, 1) =3D =
0</span></div><div style=3D"margin:0px;font-size:10px;line-height:normal;fo=
nt-family:Menlo"><span style=3D"font-variant-ligatures:no-common-ligatures"=
>VERBOSE [U=3D0,P=3D17149]=C2=A0 =C2=A0 =C2=A0 singularity_registry_set()=
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Adding value to reg=
istry: &#39;LIBEXECDIR&#39; =3D &#39;/export/apps/singularity-inst<wbr>all/=
libexec&#39;</span></div><div style=3D"margin:0px;font-size:10px;line-heigh=
t:normal;font-family:Menlo"><span style=3D"font-variant-ligatures:no-common=
-ligatures">DEBUG =C2=A0 [U=3D0,P=3D17149]=C2=A0 =C2=A0 =C2=A0 singularity_=
registry_set()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Retur=
ning singularity_registry_set(libex<wbr>ecdir, /export/apps/singularity-ins=
ta<wbr>ll/libexec) =3D 0</span></div><div style=3D"margin:0px;font-size:10p=
x;line-height:normal;font-family:Menlo"><span style=3D"font-variant-ligatur=
es:no-common-ligatures">VERBOSE [U=3D0,P=3D17149]=C2=A0 =C2=A0 =C2=A0 singu=
larity_registry_set()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 Adding value to registry: &#39;COMMAND&#39; =3D &#39;create&#39;</span>=
</div><div style=3D"margin:0px;font-size:10px;line-height:normal;font-famil=
y:Menlo"><span style=3D"font-variant-ligatures:no-common-ligatures">DEBUG =
=C2=A0 [U=3D0,P=3D17149]=C2=A0 =C2=A0 =C2=A0 singularity_registry_set()=C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Returning singularity_=
registry_set(COMMA<wbr>ND, create) =3D 0</span></div><div style=3D"margin:0=
px;font-size:10px;line-height:normal;font-family:Menlo"><span style=3D"font=
-variant-ligatures:no-common-ligatures">VERBOSE [U=3D0,P=3D17149]=C2=A0 =C2=
=A0 =C2=A0 singularity_registry_set()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 Adding value to registry: &#39;MESSAGELEVEL&#39; =3D &#39=
;5&#39;</span></div><div style=3D"margin:0px;font-size:10px;line-height:nor=
mal;font-family:Menlo"><span style=3D"font-variant-ligatures:no-common-liga=
tures">DEBUG =C2=A0 [U=3D0,P=3D17149]=C2=A0 =C2=A0 =C2=A0 singularity_regis=
try_set()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Returning =
singularity_registry_set(MESSA<wbr>GELEVEL, 5) =3D 0</span></div><div style=
=3D"margin:0px;font-size:10px;line-height:normal;font-family:Menlo"><span s=
tyle=3D"font-variant-ligatures:no-common-ligatures">VERBOSE [U=3D0,P=3D1714=
9]=C2=A0 =C2=A0 =C2=A0 singularity_registry_set()=C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Adding value to registry: &#39;VERSION&#39;=
 =3D &#39;2.3-master.gda9cd20&#39;</span></div><div style=3D"margin:0px;fon=
t-size:10px;line-height:normal;font-family:Menlo"><span style=3D"font-varia=
nt-ligatures:no-common-ligatures">DEBUG =C2=A0 [U=3D0,P=3D17149]=C2=A0 =C2=
=A0 =C2=A0 singularity_registry_set()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 Returning singularity_registry_set(versi<wbr>on, 2.3-mast=
er.gda9cd20) =3D 0</span></div><div style=3D"margin:0px;font-size:10px;line=
-height:normal;font-family:Menlo"><span style=3D"font-variant-ligatures:no-=
common-ligatures">VERBOSE [U=3D0,P=3D17149]=C2=A0 =C2=A0 =C2=A0 singularity=
_registry_set()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Addi=
ng value to registry: &#39;LOCALSTATEDIR&#39; =3D &#39;/export/apps/singula=
rity-inst<wbr>all/var&#39;</span></div><div style=3D"margin:0px;font-size:1=
0px;line-height:normal;font-family:Menlo"><span style=3D"font-variant-ligat=
ures:no-common-ligatures">DEBUG =C2=A0 [U=3D0,P=3D17149]=C2=A0 =C2=A0 =C2=
=A0 singularity_registry_set()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 Returning singularity_registry_set(local<wbr>statedir, /export/a=
pps/singularity-insta<wbr>ll/var) =3D 0</span></div><div style=3D"margin:0p=
x;font-size:10px;line-height:normal;font-family:Menlo"><span style=3D"font-=
variant-ligatures:no-common-ligatures">VERBOSE [U=3D0,P=3D17149]=C2=A0 =C2=
=A0 =C2=A0 singularity_registry_set()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 Adding value to registry: &#39;SYSCONFDIR&#39; =3D &#39;/=
export/apps/singularity-inst<wbr>all/etc&#39;</span></div><div style=3D"mar=
gin:0px;font-size:10px;line-height:normal;font-family:Menlo"><span style=3D=
"font-variant-ligatures:no-common-ligatures">DEBUG =C2=A0 [U=3D0,P=3D17149]=
=C2=A0 =C2=A0 =C2=A0 singularity_registry_set()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 Returning singularity_registry_set(sysco<wbr>nf=
dir, /export/apps/singularity-insta<wbr>ll/etc) =3D 0</span></div><div styl=
e=3D"margin:0px;font-size:10px;line-height:normal;font-family:Menlo"><span =
style=3D"font-variant-ligatures:no-common-ligatures">VERBOSE [U=3D0,P=3D171=
49]=C2=A0 =C2=A0 =C2=A0 singularity_registry_set()=C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Adding value to registry: &#39;BINDIR&#39; =
=3D &#39;/export/apps/singularity-inst<wbr>all/bin&#39;</span></div><div st=
yle=3D"margin:0px;font-size:10px;line-height:normal;font-family:Menlo"><spa=
n style=3D"font-variant-ligatures:no-common-ligatures">DEBUG =C2=A0 [U=3D0,=
P=3D17149]=C2=A0 =C2=A0 =C2=A0 singularity_registry_set()=C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Returning singularity_registry_set(b=
indi<wbr>r, /export/apps/singularity-insta<wbr>ll/bin) =3D 0</span></div><d=
iv style=3D"margin:0px;font-size:10px;line-height:normal;font-family:Menlo"=
><span style=3D"font-variant-ligatures:no-common-ligatures">VERBOSE [U=3D0,=
P=3D17149]=C2=A0 =C2=A0 =C2=A0 singularity_registry_set()=C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Adding value to registry: &#39;IMAGE=
&#39; =3D &#39;/export/apps/ubuntu.simg&#39;</span></div><div style=3D"marg=
in:0px;font-size:10px;line-height:normal;font-family:Menlo"><span style=3D"=
font-variant-ligatures:no-common-ligatures">DEBUG =C2=A0 [U=3D0,P=3D17149]=
=C2=A0 =C2=A0 =C2=A0 singularity_registry_set()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 Returning singularity_registry_set(IMAGE<wbr>, =
/export/apps/ubuntu.simg) =3D 0</span></div><div style=3D"margin:0px;font-s=
ize:10px;line-height:normal;font-family:Menlo"><span style=3D"font-variant-=
ligatures:no-common-ligatures">DEBUG =C2=A0 [U=3D0,P=3D17149]=C2=A0 =C2=A0 =
=C2=A0 singularity_registry_get()=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 Returning NULL on &#39;HOME&#39;</span></div><div style=3D"ma=
rgin:0px;font-size:10px;line-height:normal;font-family:Menlo"><span style=
=3D"font-variant-ligatures:no-common-ligatures">DEBUG =C2=A0 [U=3D0,P=3D171=
49]=C2=A0 =C2=A0 =C2=A0 singularity_registry_get()=C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Returning NULL on &#39;TARGET_UID&#39;</spa=
n></div><div style=3D"margin:0px;font-size:10px;line-height:normal;font-fam=
ily:Menlo"><span style=3D"font-variant-ligatures:no-common-ligatures">DEBUG=
 =C2=A0 [U=3D0,P=3D17149]=C2=A0 =C2=A0 =C2=A0 singularity_registry_get()=C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Returning NULL on &#39=
;TARGET_GID&#39;</span></div><div style=3D"margin:0px;font-size:10px;line-h=
eight:normal;font-family:Menlo"><span style=3D"font-variant-ligatures:no-co=
mmon-ligatures">DEBUG =C2=A0 [U=3D0,P=3D17149]=C2=A0 =C2=A0 =C2=A0 singular=
ity_priv_init() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 Initializing user info</span></div><div style=3D"margin:0px;font-size:1=
0px;line-height:normal;font-family:Menlo"><span style=3D"font-variant-ligat=
ures:no-common-ligatures">DEBUG =C2=A0 [U=3D0,P=3D17149]=C2=A0 =C2=A0 =C2=
=A0 singularity_priv_init() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 Set the calling user&#39;s username to: root</span></div>=
<div style=3D"margin:0px;font-size:10px;line-height:normal;font-family:Menl=
o"><span style=3D"font-variant-ligatures:no-common-ligatures">DEBUG =C2=A0 =
[U=3D0,P=3D17149]=C2=A0 =C2=A0 =C2=A0 singularity_priv_init() =C2=A0 =C2=A0=
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Marking uinfo structure a=
s ready</span></div><div style=3D"margin:0px;font-size:10px;line-height:nor=
mal;font-family:Menlo"><span style=3D"font-variant-ligatures:no-common-liga=
tures">DEBUG =C2=A0 [U=3D0,P=3D17149]=C2=A0 =C2=A0 =C2=A0 singularity_priv_=
init() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Obtai=
ning home directory</span></div><div style=3D"margin:0px;font-size:10px;lin=
e-height:normal;font-family:Menlo"><span style=3D"font-variant-ligatures:no=
-common-ligatures">VERBOSE [U=3D0,P=3D17149]=C2=A0 =C2=A0 =C2=A0 singularit=
y_priv_init() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 Set home (via getpwuid()) to: /root</span></div><div style=3D"margin:0p=
x;font-size:10px;line-height:normal;font-family:Menlo"><span style=3D"font-=
variant-ligatures:no-common-ligatures">VERBOSE [U=3D0,P=3D17149]=C2=A0 =C2=
=A0 =C2=A0 singularity_suid_init() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 Running SUID program workflow</span></div><div sty=
le=3D"margin:0px;font-size:10px;line-height:normal;font-family:Menlo"><span=
 style=3D"font-variant-ligatures:no-common-ligatures">VERBOSE [U=3D0,P=3D17=
149]=C2=A0 =C2=A0 =C2=A0 singularity_suid_init() =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Checking program has appropriate per=
missions</span></div><div style=3D"margin:0px;font-size:10px;line-height:no=
rmal;font-family:Menlo"><span style=3D"font-variant-ligatures:no-common-lig=
atures">VERBOSE [U=3D0,P=3D17149]=C2=A0 =C2=A0 =C2=A0 singularity_suid_init=
() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Checking =
configuration file is properly owned by root</span></div><div style=3D"marg=
in:0px;font-size:10px;line-height:normal;font-family:Menlo;color:rgb(195,55=
,32)"><span style=3D"font-variant-ligatures:no-common-ligatures">ABORT =C2=
=A0 [U=3D0,P=3D17149]=C2=A0 =C2=A0 =C2=A0 singularity_suid_init() =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Running in privileg=
ed mode, root must own the Singularity configuration file: /etc/singularity=
/singularity.c<wbr>onf</span></div><div style=3D"margin:0px;font-size:10px;=
line-height:normal;font-family:Menlo;color:rgb(195,55,32)"><span style=3D"f=
ont-variant-ligatures:no-common-ligatures">ABORT =C2=A0 [U=3D0,P=3D17149]=
=C2=A0 =C2=A0 =C2=A0 singularity_suid_init() =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Retval =3D 255</span></div></div><div><d=
iv class=3D"m_-610695864239832328m_7931771655240770118m_1840847850162928191=
m_-672932233201048330h5"><div><span style=3D"font-variant-ligatures:no-comm=
on-ligatures"><br></span></div><br><div><blockquote type=3D"cite"><div>On J=
un 6, 2017, at 2:53 AM, R=C3=A9my Dernat &lt;<a href=3D"mailto:rem...@gmail=
.com" target=3D"_blank">rem...@gmail.com</a>&gt; wrote:</div><br class=3D"m=
_-610695864239832328m_7931771655240770118m_1840847850162928191m_-6729322332=
01048330m_9141356409832340507Apple-interchange-newline"><div><div dir=3D"lt=
r">Hi Robert,<div><br></div><div>You just have to install singularity on a =
NFS export; Replace:</div><div><br></div><div>```</div><div><span style=3D"=
font-variant-ligatures:no-common-ligatures;font-family:Menlo;font-size:10px=
">=C2=A0</span><span style=3D"font-variant-ligatures:no-common-ligatures;fo=
nt-family:Menlo;font-size:10px">./configure --prefix=3D/export/apps/singula=
r<wbr>ity-install --sysconfdir=3D/etc</span><br></div><div>```</div><div>Wi=
th:</div><div>```</div><div><span style=3D"font-variant-ligatures:no-common=
-ligatures;font-family:Menlo;font-size:10px">=C2=A0</span><span style=3D"fo=
nt-variant-ligatures:no-common-ligatures;font-family:Menlo;font-size:10px">=
./configure --prefix=3D/export/apps/singular<wbr>ity-install</span><br></di=
v><div>```</div><div><br></div><div>Then, it should works as expected.</div=
><div><br></div><div>Do not forget that some singularity commands, like `bo=
otstrap` in 2.3 or many more in previous release need sudo/root privileges.=
</div><div><br></div><div>Best regards,<br>R=C3=A9my</div></div><div class=
=3D"gmail_extra"><br><div class=3D"gmail_quote">2017-06-05 23:09 GMT+02:00 =
Robert Kudyba<span class=3D"m_-610695864239832328Apple-converted-space">=C2=
=A0</span><span dir=3D"ltr">&lt;<a href=3D"mailto:rku...@fordham.edu" targe=
t=3D"_blank">rku...@fordham.edu</a>&gt;</span>:<br><blockquote class=3D"gma=
il_quote" style=3D"margin:0px 0px 0px 0.8ex;border-left-width:1px;border-le=
ft-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex"><div st=
yle=3D"word-wrap:break-word"><span><br><div><blockquote type=3D"cite"><div>=
On Jun 5, 2017, at 4:30 PM, Rick Wagner &lt;<a href=3D"mailto:richard...@gm=
ail.com" target=3D"_blank">richard...@gmail.com</a>&gt; wrote:</div><br cla=
ss=3D"m_-610695864239832328m_7931771655240770118m_1840847850162928191m_-672=
932233201048330m_9141356409832340507m_-5619588665609687384Apple-interchange=
-newline"><div><div style=3D"word-wrap:break-word"><br><div><blockquote typ=
e=3D"cite"><div>On Jun 5, 2017, at 4:13 PM, Robert Kudyba &lt;<a href=3D"ma=
ilto:rku...@fordham.edu" target=3D"_blank">rku...@fordham.edu</a>&gt; wrote=
:</div><br class=3D"m_-610695864239832328m_7931771655240770118m_18408478501=
62928191m_-672932233201048330m_9141356409832340507m_-5619588665609687384App=
le-interchange-newline"><div><div style=3D"word-wrap:break-word"><br><div><=
blockquote type=3D"cite"><div>On Jun 5, 2017, at 4:08 PM, Rick Wagner &lt;<=
a href=3D"mailto:richard...@gmail.com" target=3D"_blank">richard...@gmail.c=
om</a>&gt; wrote:</div><br class=3D"m_-610695864239832328m_7931771655240770=
118m_1840847850162928191m_-672932233201048330m_9141356409832340507m_-561958=
8665609687384Apple-interchange-newline"><div><div style=3D"word-wrap:break-=
word"><div>Robert,</div><div><br></div><div>That=E2=80=99s an NFS export fo=
r the Rocks head node that may be mounted nosuid</div></div></div></blockqu=
ote><br></div><div>Right in /etc/fstab for other applications we already ha=
ve this:</div><div><br></div><div><div style=3D"margin:0px;font-size:10px;l=
ine-height:normal;font-family:Menlo"><span style=3D"font-variant-ligatures:=
no-common-ligatures">UUID=3Dxxxxx /export =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 ext4=C2=A0 =C2=A0 defaults=C2=A0 =C2=A0 =C2=A0 =C2=
=A0 1 2</span></div><div><span style=3D"font-variant-ligatures:no-common-li=
gatures"><br></span></div></div>So what else needs to be done?</div></div><=
/blockquote><div><br></div><div>One option is to build an RPM using the spe=
c file in the Singularity repo and put that in contrib for your Rocks distr=
o along with a package tag in extend compute. That=E2=80=99s my preference =
because I don=E2=80=99t like serving applications over NFS, especially ones=
 with setuid.</div><div><br></div><div>WARNING: the following will allow an=
y executable with a setuid bit in that NFS file system to be run.</div><div=
><br></div><div>You can try changing defaults to defaults,suid and remounti=
ng the file system on a compute node.</div></div></div></div></blockquote><=
br></div></span><div>Is this an =E2=80=9Cor=E2=80=9D suggestion? I don=E2=
=80=99t have a problem with changing the /etc/fstab. I did that and ran:</d=
iv><div><div style=3D"margin:0px;font-size:10px;line-height:normal;font-fam=
ily:Menlo"><span style=3D"font-variant-ligatures:no-common-ligatures">=C2=
=A0=C2=A0rocks sync config</span></div><div style=3D"margin:0px;font-size:1=
0px;line-height:normal;font-family:Menlo"><span style=3D"font-variant-ligat=
ures:no-common-ligatures">=C2=A0<span class=3D"m_-610695864239832328Apple-c=
onverted-space">=C2=A0</span>rocks sync users</span></div><div style=3D"mar=
gin:0px;font-size:10px;line-height:normal;font-family:Menlo"><br></div></di=
v>Also made sure to use the config option as /share/apps (not /export/apps =
as that=E2=80=99s just for the head node)<div><br></div><div>Still getting:=
</div><div><div><div style=3D"margin:0px;font-size:10px;line-height:normal;=
font-family:Menlo"><span style=3D"font-variant-ligatures:no-common-ligature=
s">/share/apps/bin</span></div></div><div><div style=3D"margin:0px;font-siz=
e:10px;line-height:normal;font-family:Menlo"><div style=3D"margin:0px;line-=
height:normal"><span style=3D"font-variant-ligatures:no-common-ligatures">.=
/singularity shell /share/apps/ubuntu.simg</span></div><span><div style=3D"=
margin:0px;line-height:normal;color:rgb(255,59,29)"><span style=3D"font-var=
iant-ligatures:no-common-ligatures">ERROR=C2=A0 : Session directory does no=
t exist: /export/apps/var/singularity/m<wbr>nt/session</span></div><div sty=
le=3D"margin:0px;line-height:normal;color:rgb(195,55,32)"><span style=3D"fo=
nt-variant-ligatures:no-common-ligatures">ABORT=C2=A0 : Retval =3D 255</spa=
n></div></span></div></div></div></div><div><br class=3D"m_-610695864239832=
328m_7931771655240770118m_1840847850162928191m_-672932233201048330m_9141356=
409832340507webkit-block-placeholder"></div>--<span class=3D"m_-61069586423=
9832328Apple-converted-space">=C2=A0</span><br><div class=3D"m_-61069586423=
9832328m_7931771655240770118m_1840847850162928191m_-672932233201048330m_914=
1356409832340507HOEnZb"><div class=3D"m_-610695864239832328m_79317716552407=
70118m_1840847850162928191m_-672932233201048330m_9141356409832340507h5">You=
 received this message because you are subscribed to the Google Groups &quo=
t;singularity&quot; group.<br>To unsubscribe from this group and stop recei=
ving emails from it, send an email to<span class=3D"m_-610695864239832328Ap=
ple-converted-space">=C2=A0</span><a href=3D"mailto:singu...@lbl.gov" targe=
t=3D"_blank">singularity+unsubscribe@<wbr>lbl.gov</a>.<br></div></div></blo=
ckquote></div><br></div><div><br class=3D"m_-610695864239832328m_7931771655=
240770118m_1840847850162928191m_-672932233201048330m_9141356409832340507web=
kit-block-placeholder"></div>--<span class=3D"m_-610695864239832328Apple-co=
nverted-space">=C2=A0</span><br>You received this message because you are s=
ubscribed to the Google Groups &quot;singularity&quot; group.<br>To unsubsc=
ribe from this group and stop receiving emails from it, send an email to<sp=
an class=3D"m_-610695864239832328Apple-converted-space">=C2=A0</span><a hre=
f=3D"mailto:singu...@lbl.gov" target=3D"_blank">singularity+unsubscribe@<wb=
r>lbl.gov</a>.<br></div></blockquote></div><br></div></div></div><div class=
=3D"m_-610695864239832328m_7931771655240770118m_1840847850162928191m_-67293=
2233201048330HOEnZb"><div class=3D"m_-610695864239832328m_79317716552407701=
18m_1840847850162928191m_-672932233201048330h5"><div><br class=3D"m_-610695=
864239832328m_7931771655240770118m_1840847850162928191m_-672932233201048330=
webkit-block-placeholder"></div>--<span class=3D"m_-610695864239832328Apple=
-converted-space">=C2=A0</span><br>You received this message because you ar=
e subscribed to the Google Groups &quot;singularity&quot; group.<br>To unsu=
bscribe from this group and stop receiving emails from it, send an email to=
<span class=3D"m_-610695864239832328Apple-converted-space">=C2=A0</span><a =
href=3D"mailto:singu...@lbl.gov" target=3D"_blank">singularity+unsubscribe@=
<wbr>lbl.gov</a>.<br></div></div></blockquote></div><br></div><div><br clas=
s=3D"m_-610695864239832328m_7931771655240770118m_1840847850162928191m_-6729=
32233201048330webkit-block-placeholder"></div>--<span class=3D"m_-610695864=
239832328Apple-converted-space">=C2=A0</span><br>You received this message =
because you are subscribed to the Google Groups &quot;singularity&quot; gro=
up.<br>To unsubscribe from this group and stop receiving emails from it, se=
nd an email to<span class=3D"m_-610695864239832328Apple-converted-space">=
=C2=A0</span><a href=3D"mailto:singu...@lbl.gov" target=3D"_blank">singular=
ity+unsubscribe@<wbr>lbl.gov</a>.<br></div></blockquote></div><br></div></d=
iv></div><div class=3D"m_-610695864239832328m_7931771655240770118m_18408478=
50162928191HOEnZb"><div class=3D"m_-610695864239832328m_7931771655240770118=
m_1840847850162928191h5"><div><br class=3D"m_-610695864239832328m_793177165=
5240770118m_1840847850162928191webkit-block-placeholder"></div>--<span clas=
s=3D"m_-610695864239832328Apple-converted-space">=C2=A0</span><br>You recei=
ved this message because you are subscribed to the Google Groups &quot;sing=
ularity&quot; group.<br>To unsubscribe from this group and stop receiving e=
mails from it, send an email to<span class=3D"m_-610695864239832328Apple-co=
nverted-space">=C2=A0</span><a href=3D"mailto:singu...@lbl.gov" target=3D"_=
blank">singularity+unsubscribe@<wbr>lbl.gov</a>.<br></div></div></blockquot=
e></div><br></div><div><br class=3D"m_-610695864239832328m_7931771655240770=
118m_1840847850162928191webkit-block-placeholder"></div>--<span class=3D"m_=
-610695864239832328Apple-converted-space">=C2=A0</span><br>You received thi=
s message because you are subscribed to the Google Groups &quot;singularity=
&quot; group.<br>To unsubscribe from this group and stop receiving emails f=
rom it, send an email to<span class=3D"m_-610695864239832328Apple-converted=
-space">=C2=A0</span><a href=3D"mailto:singu...@lbl.gov" target=3D"_blank">=
singularity+unsubscribe@<wbr>lbl.gov</a>.<br></div></blockquote></div><br><=
/div></div></div></div><div class=3D"m_-610695864239832328m_793177165524077=
0118HOEnZb"><div class=3D"m_-610695864239832328m_7931771655240770118h5"><di=
v><br class=3D"m_-610695864239832328webkit-block-placeholder"></div>--<span=
 class=3D"m_-610695864239832328Apple-converted-space">=C2=A0</span><br>You =
received this message because you are subscribed to the Google Groups &quot=
;singularity&quot; group.<br>To unsubscribe from this group and stop receiv=
ing emails from it, send an email to<span class=3D"m_-610695864239832328App=
le-converted-space">=C2=A0</span><a href=3D"mailto:singu...@lbl.gov" target=
=3D"_blank">singularity+unsubscribe@<wbr>lbl.gov</a>.<br></div></div></bloc=
kquote></div><br><br clear=3D"all"><div><br></div></div></div><span>--<span=
 class=3D"m_-610695864239832328Apple-converted-space">=C2=A0</span><br><div=
 class=3D"m_-610695864239832328m_7931771655240770118gmail_signature" data-s=
martmail=3D"gmail_signature">Vanessa Villamia Sochat<br>Stanford University=
 &#39;16<br><div><div><div><a href=3D"tel:(603)%20321-0676" value=3D"+16033=
210676" target=3D"_blank">(603) 321-0676</a></div></div></div></div></span>=
</div></blockquote></div><br><br clear=3D"all"><div><br></div>--<span class=
=3D"m_-610695864239832328Apple-converted-space">=C2=A0</span><br><div class=
=3D"m_-610695864239832328gmail_signature" data-smartmail=3D"gmail_signature=
">Vanessa Villamia Sochat<br>Stanford University &#39;16<br><div><div><div>=
<a href=3D"tel:(603)%20321-0676" value=3D"+16033210676" target=3D"_blank">(=
603) 321-0676</a></div></div></div></div></div><div style=3D"font-family:He=
lvetica;font-size:12px;font-style:normal;font-variant-caps:normal;font-weig=
ht:normal;letter-spacing:normal;text-align:start;text-indent:0px;text-trans=
form:none;white-space:normal;word-spacing:0px"><br class=3D"m_-610695864239=
832328webkit-block-placeholder"></div><span style=3D"font-family:Helvetica;=
font-size:12px;font-style:normal;font-variant-caps:normal;font-weight:norma=
l;letter-spacing:normal;text-align:start;text-indent:0px;text-transform:non=
e;white-space:normal;word-spacing:0px;float:none;display:inline!important">=
--<span class=3D"m_-610695864239832328Apple-converted-space">=C2=A0</span><=
/span><br style=3D"font-family:Helvetica;font-size:12px;font-style:normal;f=
ont-variant-caps:normal;font-weight:normal;letter-spacing:normal;text-align=
:start;text-indent:0px;text-transform:none;white-space:normal;word-spacing:=
0px"><span style=3D"font-family:Helvetica;font-size:12px;font-style:normal;=
font-variant-caps:normal;font-weight:normal;letter-spacing:normal;text-alig=
n:start;text-indent:0px;text-transform:none;white-space:normal;word-spacing=
:0px;float:none;display:inline!important">You received this message because=
 you are subscribed to the Google Groups &quot;singularity&quot; group.</sp=
an><br style=3D"font-family:Helvetica;font-size:12px;font-style:normal;font=
-variant-caps:normal;font-weight:normal;letter-spacing:normal;text-align:st=
art;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px=
"><span style=3D"font-family:Helvetica;font-size:12px;font-style:normal;fon=
t-variant-caps:normal;font-weight:normal;letter-spacing:normal;text-align:s=
tart;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0p=
x;float:none;display:inline!important">To unsubscribe from this group and s=
top receiving emails from it, send an email to<span class=3D"m_-61069586423=
9832328Apple-converted-space">=C2=A0</span></span><a href=3D"mailto:singu..=
.@lbl.gov" style=3D"font-family:Helvetica;font-size:12px;font-style:normal;=
font-variant-caps:normal;font-weight:normal;letter-spacing:normal;text-alig=
n:start;text-indent:0px;text-transform:none;white-space:normal;word-spacing=
:0px" target=3D"_blank">singularity+unsubscribe@<wbr>lbl.gov</a><span style=
=3D"font-family:Helvetica;font-size:12px;font-style:normal;font-variant-cap=
s:normal;font-weight:normal;letter-spacing:normal;text-align:start;text-ind=
ent:0px;text-transform:none;white-space:normal;word-spacing:0px;float:none;=
display:inline!important">.</span></div></blockquote></div><br></div><div><=
br class=3D"m_-610695864239832328webkit-block-placeholder"></div>

-- <br>
You received this message because you are subscribed to the Google Groups &=
quot;singularity&quot; group.<br>
To unsubscribe from this group and stop receiving emails from it, send an e=
mail to <a href=3D"mailto:singu...@lbl.gov" target=3D"_blank">singularity+u=
nsubscribe@lbl.<wbr>gov</a>.<br>
</div></blockquote></div><br></div></div>

<p></p>

-- <br>
You received this message because you are subscribed to the Google Groups &=
quot;singularity&quot; group.<br>
To unsubscribe from this group and stop receiving emails from it, send an e=
mail to <a href=3D"mailto:singu...@lbl.gov" target=3D"_blank">singularity+u=
nsubscribe@lbl.<wbr>gov</a>.<br>
</blockquote></div></div>

--001a11426c9c43763005515023e3--
