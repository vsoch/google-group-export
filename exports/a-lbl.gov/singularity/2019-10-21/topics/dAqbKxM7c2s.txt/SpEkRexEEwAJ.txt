X-Received: by 10.99.44.85 with SMTP id s82mr10109677pgs.150.1487714831683;
        Tue, 21 Feb 2017 14:07:11 -0800 (PST)
X-BeenThere: singularity@lbl.gov
Received: by 10.36.80.147 with SMTP id m141ls1587479itb.19.canary-gmail; Tue,
 21 Feb 2017 14:07:11 -0800 (PST)
X-Received: by 10.98.200.136 with SMTP id i8mr8947602pfk.120.1487714830826;
        Tue, 21 Feb 2017 14:07:10 -0800 (PST)
Return-Path: <cheri...@gmail.com>
Received: from fe4.lbl.gov (fe4.lbl.gov. [128.3.41.71])
        by mx.google.com with ESMTP id b44si12731930pli.24.2017.02.21.14.07.10
        for <singu...@lbl.gov>;
        Tue, 21 Feb 2017 14:07:10 -0800 (PST)
Received-SPF: pass (google.com: domain of cheri...@gmail.com designates 209.85.215.42 as permitted sender) client-ip=209.85.215.42;
Authentication-Results: mx.google.com;
       dkim=pass head...@gmail.com;
       spf=pass (google.com: domain of cheri...@gmail.com designates 209.85.215.42 as permitted sender) smtp.mailfrom=cheri...@gmail.com
X-Ironport-SBRS: 3.4
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: A2E+AADwuKxYhirXVdFeHAEBBAEBCgEBFwEBBAEBCgEBgkSBQ4EJg1MIigiSFoJkklCBShslAx8BBoQigVoCgnE/GAEBAQEBAQEBAQEBAhABAQEICwsKHS+CMwQCAxkFBAQ9CgMvAQEBAQEBAQEBAQEBAQEBGgINHhMDDwIYAQEBAwEaCR0BDQ4eAwELBgMCCw0gAQkCAiEBAQ4DAQUBCxEOBwQBHASJNAEDDQgFkUiRFj+MA4IEBQEcgwkFg2IKGScNVYMiAQEBBwEBAQEBAQEBGAIGEospglGBVREBSYJZgl8FiQ8HjEyFbzoBhnOHEIQbgXtTgQeDQoNQhiiINYINhxwygRUPEIECLwhTaoN6Kg8RDIFhQDUHiAVHgWcBAQE
X-IronPort-AV: E=Sophos;i="5.35,191,1484035200"; 
   d="scan'208,217";a="64879590"
Received: from mail-lf0-f42.google.com ([209.85.215.42])
  by fe4.lbl.gov with ESMTP; 21 Feb 2017 14:07:04 -0800
Received: by mail-lf0-f42.google.com with SMTP id z127so71016196lfa.2
        for <singu...@lbl.gov>; Tue, 21 Feb 2017 14:07:04 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:references:in-reply-to:from:date:message-id:subject:to;
        bh=gTNOXRxSgDA/8ZLiL0KVR2LYCkAfmrlED0VfC/WKY74=;
        b=ahjk36DlFDUEZ3IksiIpTCjdkX/kjBNHhOMvE5MkKSfbqDbPmrC73MV1+x0cUYcnip
         87syjIF5tMNSnVJL1I85kE08fS9wGj2a5LKg7oMdhtWlHzB6CyQHlFFfoLY5M3+Gi7kQ
         Qz1bDpYyMru0GIDAnKmYLa/WRMO5N7O0cGO7o0AFEfLGSPMSAvmGY6m+DieBkJF65ZJZ
         4XO6A8HC1m1IZuE3oOXzkIrTru50XHn1+VN0qtgcdTaz4oMT2lgEOgNS7rHf3enpQNO3
         q9UayG/vvvFAqNli4mYIIqnOd5F33RxINIQ4HkBHOhQif3AK4Cmy5OiBIjvJm90t/X9V
         Fj0A==
X-Gm-Message-State: AMke39mCdNqxRg8YmALtN45RYnaZ8TWZIhMJXG2QsWs0p8hE8/ttA+sp7SQ2i/U3RqDvTycmw8pi+3u2JnEUwg==
X-Received: by 10.46.71.132 with SMTP id u126mr7186654lja.43.1487714823019;
 Tue, 21 Feb 2017 14:07:03 -0800 (PST)
MIME-Version: 1.0
References: <CAJm6r9-oXj4pPnoDY48u1Sf58dHtavBCF25Ca3QuxegqiHOkog@mail.gmail.com>
 <23dd4099-4149-4296-b9f7-a3e90cb21840@lbl.gov> <3d1f4bbd-5f5c-44d2-989d-32c899f7a432@lbl.gov>
 <CAKswpQhoxBV+neT+PwpXQVJB=Ow3F23xkB=gPn8grkz4n96-0g@mail.gmail.com>
 <CAO+LYDWC5FZrhH-dcWUmRDFdfQciaC2_NQYZFFV7WxN9tLuGfQ@mail.gmail.com>
 <CACtFfPFbueOmTpXxpfL6RxBKb7zbmtayuDXH+RHM1FSN=mqkdQ@mail.gmail.com>
 <CAN7etTzkMFyMofc05A8vhuRj4MXCD+oHOLKZUG+NcwguwTHqHA@mail.gmail.com>
 <CAO+LYDX+2A6+h7Tuz315YsriCzczTG7eEBy2JU=VDoe_5W2pmg@mail.gmail.com> <CAN7etTzDLGE7YgWQwHZHk+349RVDd_CiuAhG3KepB4bDAq5bhQ@mail.gmail.com>
In-Reply-To: <CAN7etTzDLGE7YgWQwHZHk+349RVDd_CiuAhG3KepB4bDAq5bhQ@mail.gmail.com>
From: "Xiaoyi Lu@gmail" <cheri...@gmail.com>
Date: Tue, 21 Feb 2017 22:06:52 +0000
Message-ID: <CAO+LYDX=kWUOE+od7fH1_FVD9BZLmVP6J8sg4Mqw-bP9KmtTtw@mail.gmail.com>
Subject: Re: [Singularity] Not able to return with MVAPICH2
To: singularity@lbl.gov
Content-Type: multipart/alternative; boundary=001a113db2fa8da292054911991b

--001a113db2fa8da292054911991b
Content-Type: text/plain; charset=UTF-8

Sounds good. Will try. Thanks. Let us know when you have a full fix.

Xiaoyi

On Tue, Feb 21, 2017 at 5:02 PM Gregory M. Kurtzer <gmku...@lbl.gov>
wrote:

> BTW, you might be able to avoid the zombie if you run it like:
>
> $ mpirun_rsh -np 1 localhost SINGULARITY_NOSESSIONCLEANUP=1 singularity
> exec /tmp/user.img date
>
> NOSESSIONCLEANUP inhibits the session thread which cleanups after the
> container exits.
>
>
>
> On Tue, Feb 21, 2017 at 1:13 PM, Xiaoyi Lu@gmail <cheri...@gmail.com>
> wrote:
>
> Thanks for the update, Greg. This is good to know.
>
> Xiaoyi
>
> On Tue, Feb 21, 2017 at 4:10 PM, Gregory M. Kurtzer <gmku...@lbl.gov>
> wrote:
>
> Hello,
>
> I did a quick verification of what you described using MVAPICH2 and the
> latest lib-refactor code I'm working on. It seems that there is a conflict
> somehow with MVAPICH2 and how we are managing the signal handler pipes as
> if I avoid Singularity's forking, I can circumvent the issue.
>
> Brian and I spoke about it and one or both of us will hopefully have time
> to debug this in more detail shortly.
>
> Thanks!
>
> On Mon, Feb 6, 2017 at 12:41 PM, Jie Zhang <jessezh...@gmail.com>
> wrote:
>
> Hi, Brian,
>
> For #1, the results are basically as what we knew.
>
> zhanjie   4178  0.0  0.0  34976  1340 pts/0    Sl+  13:07   0:00  |
>             \_ /home/zhanjie/singularity/master.install/bin/mpispawn 0
> zhanjie   4180  0.0  0.0   5432  1688 pts/0    S+   13:07   0:00  |
>                 \_ /usr/local/libexec/singularity/sexec date
> zhanjie   4183  0.6  0.0      0     0 pts/0    Z+   13:07   0:00  |
>                          \_ [date] <defunct>
>
> For #2, I run `mpirun_rsh -np 1 sandy4 /usr/local/bin/singularity exec
> singularity-centos7.img strace date'. It's stuck at the end, even though it
> shows `+++ exited with 0 +++'.
>
> action_exec_do /usr/local/libexec/singularity/sexec strace
> execve("/usr/bin/date", ["date"], [/* 87 vars */]) = 0
> brk(0)                                  = 0x2462000
> mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) =
> 0x7f3284495000
> access("/etc/ld.so.preload", R_OK)      = -1 ENOENT (No such file or
> directory)
> open("/etc/ld.so.cache", O_RDONLY|O_CLOEXEC) = 6
> fstat(6, {st_mode=S_IFREG|0644, st_size=15081, ...}) = 0
> mmap(NULL, 15081, PROT_READ, MAP_PRIVATE, 6, 0) = 0x7f3284491000
> close(6)                                = 0
> open("/lib64/libc.so.6", O_RDONLY|O_CLOEXEC) = 6
> read(6, "\177ELF\2\1\1\3\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0
> \34\2\0\0\0\0\0"..., 832) = 832
> fstat(6, {st_mode=S_IFREG|0755, st_size=2112384, ...}) = 0
> mmap(NULL, 3936832, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 6, 0)
> = 0x7f3283eb3000
> mprotect(0x7f328406a000, 2097152, PROT_NONE) = 0
> mmap(0x7f328426a000, 24576, PROT_READ|PROT_WRITE,
> MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 6, 0x1b7000) = 0x7f328426a000
> mmap(0x7f3284270000, 16960, PROT_READ|PROT_WRITE,
> MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x7f3284270000
> close(6)                                = 0
> mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) =
> 0x7f3284490000
> mmap(NULL, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) =
> 0x7f328448e000
> arch_prctl(ARCH_SET_FS, 0x7f328448e740) = 0
> mprotect(0x7f328426a000, 16384, PROT_READ) = 0
> mprotect(0x60d000, 4096, PROT_READ)     = 0
> mprotect(0x7f3284496000, 4096, PROT_READ) = 0
> munmap(0x7f3284491000, 15081)           = 0
> brk(0)                                  = 0x2462000
> brk(0x2483000)                          = 0x2483000
> brk(0)                                  = 0x2483000
> open("/usr/lib/locale/locale-archive", O_RDONLY|O_CLOEXEC) = 6
> fstat(6, {st_mode=S_IFREG|0644, st_size=106065056, ...}) = 0
> mmap(NULL, 106065056, PROT_READ, MAP_PRIVATE, 6, 0) = 0x7f327d98c000
> close(6)                                = 0
> open("/usr/share/zoneinfo/EST", O_RDONLY|O_CLOEXEC) = 6
> fstat(6, {st_mode=S_IFREG|0644, st_size=118, ...}) = 0
> fstat(6, {st_mode=S_IFREG|0644, st_size=118, ...}) = 0
> mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) =
> 0x7f3284494000
> read(6, "TZif2\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\1\0\0\0\1\0\0\0\0"...,
> 4096) = 118
> lseek(6, -62, SEEK_CUR)                 = 56
> read(6, "TZif2\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\1\0\0\0\1\0\0\0\0"...,
> 4096) = 62
> close(6)                                = 0
> munmap(0x7f3284494000, 4096)            = 0
> fstat(1, {st_mode=S_IFCHR|0620, st_rdev=makedev(136, 0), ...}) = 0
> mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) =
> 0x7f3284494000
> write(1, "Mon Feb  6 15:29:11 EST 2017\n", 29Mon Feb  6 15:29:11 EST 2017
> ) = 29
> close(1)                                = 0
> munmap(0x7f3284494000, 4096)            = 0
> close(2)                                = 0
> exit_group(0)                           = ?
> +++ exited with 0 +++
> *****stuck here*****
>
> MVAPICH2 is public available, can you please try and see if you can
> reproduce this issue?
>
>
> Thanks,
> -Jie
>
> --------------------------------------------
> Department of Computer Science & Engineering
> Erwin E. Dreese Laboratories 774
> The Ohio State University
> 2015 Neil Avenue
> Columbus, OH 43210, USA
>
>
>
> On Tue, Jan 31, 2017 at 12:08 PM, Xiaoyi Lu@gmail <cheri...@gmail.com>
> wrote:
>
> Thanks, Brian. We will explore these and get back to you.
>
> Xiaoyi
>
>
> On Tue, Jan 31, 2017 at 11:59 AM, Brian Bockelman <bock...@gmail.com>
> wrote:
>
> Hi Xiaoyi,
>
>
>
>
>
> Two things would help -
>
>
>
>
>
> 1) Output of "ps faux" when done with the mpirun case.  This will help
>
>
> understand which processes are running and have which parentage.
>
>
> 2) For the case that's sticking, for any singularity processes, a stack
> trace.
>
>
>
>
>
> The poll command you reference tends to be waiting on a sub-process to
>
>
> exec, so it's possible we are not looking at the right thing.
>
>
>
>
>
> Thanks,
>
>
>
>
>
> Brian
>
>
>
>
>
> On Tue, Jan 31, 2017 at 10:43 AM, Xiaoyi Lu <cheri...@gmail.com> wrote:
>
>
> > Hi, Krishna,
>
>
> >
>
>
> > Jie is traveling internationally. Here is the new update from us.
>
>
> >
>
>
> > We found that with mpirun_rsh, the parent process did not get back from
>
>
> > singularity_fork() in `singularity_sessiondir_init'.
>
>
> >
>
>
> > It seems that it keeps on waiting on signal from watchdog (poll(fds,
>
>
> > watchdog_rpipe == -1 ? 2 : 3, -1)).
>
>
> >
>
>
> >
>
>
> > We are pretty sure this difference, compared to the case without
> mpirun_rsh.
>
>
> >
>
>
> >
>
>
> > Any thoughts here?
>
>
> >
>
>
> >
>
>
> > Thanks,
>
>
> >
>
>
> > Xiaoyi
>
>
> >
>
>
> >
>
>
> > On Friday, January 27, 2017 at 11:18:59 AM UTC-5, Jie Zhang wrote:
>
>
> >>
>
>
> >> Thanks, Krishna,
>
>
> >>
>
>
> >> I corrected the way to run strace.
>
>
> >> 1. singularity exec singularity-centos7.img strace date
>
>
> >> 2. mpirun_rsh -np 1  host1  singularity exec singularity-centos7.img
>
>
> >> strace date
>
>
> >>
>
>
> >> I see both of them show `+++exited with 0+++' at the end, even though
> it's
>
>
> >> stuck after that for #2.
>
>
> >> The log files are attached below.
>
>
> >>
>
>
> >>
>
>
> >>
>
>
> >> On Friday, January 27, 2017 at 3:47:30 AM UTC-5, Krishna Muriki wrote:
>
>
> >>>
>
>
> >>> Jie,
>
>
> >>>
>
>
> >>> What we should do is to run strace on the date command inside the
>
>
> >>> singularity container not on the singularity command itself. Mount this
>
>
> >>> singularity container singularity-centos7.img in read/write mode on
> your
>
>
> >>> endpoint, install strace package into it. After then when you invoke
>
>
> >>> mpirun_rsh run it like this:
>
>
> >>>
>
>
> >>> mpirun_rsh -np 1  host1  singularity exec singularity-centos7.img
> strace
>
>
> >>> date
>
>
> >>>
>
>
> >>> Thanks,
>
>
> >>> Krishna.
>
>
> >>>
>
>
> >>> On Thu, Jan 26, 2017 at 10:55 PM, Jie Zhang <jes...@gmail.com>
> wrote:
>
>
> >>>>
>
>
> >>>> Hi, Krishna,
>
>
> >>>>
>
>
> >>>> I tried adding strace to the plain singularity case (strace
>
>
> >>>> /usr/local/bin/singularity exec singularity-centos7.img date), what I
> found
>
>
> >>>> is that it actually exited with error (255) at the end
>
>
> >>>> (non-root-strace.log).
>
>
> >>>> If trying with root (sudo strace /usr/local/bin/singularity exec
>
>
> >>>> singularity-centos7.img date), there's no error. (root-strace.log)
>
>
> >>>> Trying with mpirun_rsh, it looks hanging on futex system call.
>
>
> >>>> (non-root-mpirun_rsh-strace.log)
>
>
> >>>>
>
>
> >>>> Please take a look at the log files attached below to see if you have
>
>
> >>>> any insight.
>
>
> >>>>
>
>
> >>>>
>
>
> >>>>
>
>
> >>>> On Thursday, January 26, 2017 at 8:10:22 PM UTC-5, Krishna Muriki
> wrote:
>
>
> >>>>>
>
>
> >>>>> Jie,
>
>
> >>>>>
>
>
> >>>>> Could you add strace to the container and run strace date to see why
>
>
> >>>>> the date process is going defunct ? Also first try running with -np
> 1 host1
>
>
> >>>>> and then scale to -np 2 and multiple nodes.
>
>
> >>>>>
>
>
> >>>>> Thanks,
>
>
> >>>>> Krishna.
>
>
> >>>>>
>
>
> >>>>> On Thu, Jan 26, 2017 at 5:07 PM, Jie Zhang <jes...@gmail.com>
>
>
> >>>>> wrote:
>
>
> >>>>>>
>
>
> >>>>>> Hi, Krishna,
>
>
> >>>>>>
>
>
> >>>>>>
>
>
> >>>>>> Without mpirun_rsh, all other tests work fine.
>
>
> >>>>>>
>
>
> >>>>>> ssh host1  singularity exec singularity-centos7.img date
>
>
> >>>>>> singularity exec singularity-centos7.img date
>
>
> >>>>>>
>
>
> >>>>>>
>
>
> >>>>>>
>
>
> >>>>>> On Thursday, January 26, 2017 at 7:58:21 PM UTC-5, Krishna Muriki
>
>
> >>>>>> wrote:
>
>
> >>>>>>>
>
>
> >>>>>>> Jie,
>
>
> >>>>>>>
>
>
> >>>>>>> Can you do a couple of tests, see if directly running  'singularity
>
>
> >>>>>>> exec singularity-centos7.img date' without mpirun_rsh returns the
> prompt
>
>
> >>>>>>> back to you properly. If that also gets struck, add strace to your
> container
>
>
> >>>>>>> and run strace date.
>
>
> >>>>>>>
>
>
> >>>>>>> If that does return properly try running with 'ssh host1
> singularity
>
>
> >>>>>>> exec singularity-centos7.img date' without mpirun_rsh and see if
> that works.
>
>
> >>>>>>>
>
>
> >>>>>>> --Krishna.
>
>
> >>>>>>>
>
>
> >>>>>>> On Thu, Jan 26, 2017 at 1:51 PM, Jie Zhang <zh...@osu.edu>
> wrote:
>
>
> >>>>>>>>
>
>
> >>>>>>>> Hello,
>
>
> >>>>>>>>
>
>
> >>>>>>>> I'm trying singularity with MVAPICH2. I found a small issue here.
>
>
> >>>>>>>> When running `mpirun_rsh -np 2  host1 host1  singularity exec
>
>
> >>>>>>>> singularity-centos7.img date', the routine (date) got executed
> successfully,
>
>
> >>>>>>>> but the mpi command is not able to return.
>
>
> >>>>>>>>
>
>
> >>>>>>>> [runbot@host1:singularity]$mpirun_rsh -np 2  host1 host1
>
>
> >>>>>>>> singularity exec singularity-centos7.img date
>
>
> >>>>>>>> Thu Jan 26 16:38:35 EST 2017
>
>
> >>>>>>>> Thu Jan 26 16:38:35 EST 2017
>
>
> >>>>>>>> (stuck here...., can Not return)
>
>
> >>>>>>>>
>
>
> >>>>>>>> And I can see the `date' command does not return properly.
>
>
> >>>>>>>> [runbot@host1:singularity]$ps -Af | grep runbot
>
>
> >>>>>>>> .........
>
>
> >>>>>>>> runbot   7347  7345  0 16:45 pts/1    00:00:00
>
>
> >>>>>>>> /home/runbot/singularity/master.install/bin/mpispawn 0
>
>
> >>>>>>>> runbot  7349  7347  0 16:45 pts/1    00:00:00
>
>
> >>>>>>>> /usr/local/libexec/singularity/sexec date
>
>
> >>>>>>>> runbot  7350  7347  0 16:45 pts/1    00:00:00
>
>
> >>>>>>>> /usr/local/libexec/singularity/sexec date
>
>
> >>>>>>>> runbot  7355  7349  0 16:45 pts/1    00:00:00 [date] <defunct>
>
>
> >>>>>>>> runbot  7356  7350  0 16:45 pts/1    00:00:00 [date] <defunct>
>
>
> >>>>>>>>
>
>
> >>>>>>>> I'm not sure whether the issue is from either mpi launcher,
>
>
> >>>>>>>> singularity or the interaction between both. Do you have any idea?
>
>
> >>>>>>>>
>
>
> >>>>>>>>
>
>
> >>>>>>>> Thanks,
>
>
> >>>>>>>> -Jie
>
>
> >>>>>>>>
>
>
> >>>>>>>> --------------------------------------------
>
>
> >>>>>>>> Department of Computer Science & Engineering
>
>
> >>>>>>>> Erwin E. Dreese Laboratories, 2015 Neil Avenue
>
>
> >>>>>>>> Ohio State University
>
>
> >>>>>>>>
>
>
> >>>>>>>> --
>
>
> >>>>>>>> You received this message because you are subscribed to the Google
>
>
> >>>>>>>> Groups "singularity" group.
>
>
> >>>>>>>> To unsubscribe from this group and stop receiving emails from it,
>
>
> >>>>>>>> send an email to singu...@lbl.gov.
>
>
> >>>>>>>
>
>
> >>>>>>>
>
>
> >>>>>> --
>
>
> >>>>>> You received this message because you are subscribed to the Google
>
>
> >>>>>> Groups "singularity" group.
>
>
> >>>>>> To unsubscribe from this group and stop receiving emails from it,
> send
>
>
> >>>>>> an email to singu...@lbl.gov.
>
>
> >>>>>
>
>
> >>>>>
>
>
> >>>> --
>
>
> >>>> You received this message because you are subscribed to the Google
>
>
> >>>> Groups "singularity" group.
>
>
> >>>> To unsubscribe from this group and stop receiving emails from it, send
>
>
> >>>> an email to singu...@lbl.gov.
>
>
> >>>
>
>
> >>>
>
>
> > --
>
>
> > You received this message because you are subscribed to the Google Groups
>
>
> > "singularity" group.
>
>
> > To unsubscribe from this group and stop receiving emails from it, send an
>
>
> > email to singu...@lbl.gov.
>
>
>
>
>
> --
>
>
> You received this message because you are subscribed to the Google Groups
> "singularity" group.
>
>
> To unsubscribe from this group and stop receiving emails from it, send an
> email to singu...@lbl.gov.
>
>
>
>
>
>
>
>
>
>
>
> --
>
>
> You received this message because you are subscribed to the Google Groups
> "singularity" group.
>
>
> To unsubscribe from this group and stop receiving emails from it, send an
> email to singu...@lbl.gov.
>
>
>
>
>
>
>
>
>
>
>
> --
>
>
> You received this message because you are subscribed to the Google Groups
> "singularity" group.
>
>
> To unsubscribe from this group and stop receiving emails from it, send an
> email to singu...@lbl.gov.
>
>
>
>
>
> --
> Gregory M. Kurtzer
> HPC Systems Architect and Technology Developer
> Lawrence Berkeley National Laboratory HPCS
> University of California Berkeley Research IT
> Singularity Linux Containers (http://singularity.lbl.gov/)
> Warewulf Cluster Management (http://warewulf.lbl.gov/)
> GitHub: https://github.com/gmkurtzer, Twitter:
> https://twitter.com/gmkurtzer
>
>
>
>
>
>
>
>
>
>
> --
>
>
> You received this message because you are subscribed to the Google Groups
> "singularity" group.
>
>
> To unsubscribe from this group and stop receiving emails from it, send an
> email to singu...@lbl.gov.
>
>
>
>
>
>
>
>
>
>
>
> --
>
>
> You received this message because you are subscribed to the Google Groups
> "singularity" group.
>
>
> To unsubscribe from this group and stop receiving emails from it, send an
> email to singu...@lbl.gov.
>
>
>
>
>
> --
> Gregory M. Kurtzer
> HPC Systems Architect and Technology Developer
> Lawrence Berkeley National Laboratory HPCS
> University of California Berkeley Research IT
> Singularity Linux Containers (http://singularity.lbl.gov/)
> Warewulf Cluster Management (http://warewulf.lbl.gov/)
> GitHub: https://github.com/gmkurtzer, Twitter:
> https://twitter.com/gmkurtzer
>
>
>
>
>
>
>
>
>
>
> --
>
>
> You received this message because you are subscribed to the Google Groups
> "singularity" group.
>
>
> To unsubscribe from this group and stop receiving emails from it, send an
> email to singu...@lbl.gov.
>
>
>

--001a113db2fa8da292054911991b
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div><div>Sounds good. Will try. Thanks. Let us know when you have a full f=
ix.</div></div><div><br></div><div>Xiaoyi</div><div><br><div class=3D"gmail=
_quote"><div>On Tue, Feb 21, 2017 at 5:02 PM Gregory M. Kurtzer &lt;<a href=
=3D"mailto:gmku...@lbl.gov">gmku...@lbl.gov</a>&gt; wrote:<br></div><blockq=
uote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc =
solid;padding-left:1ex"><div class=3D"gmail_msg"><div class=3D"gmail_msg">B=
TW, you might be able to avoid the zombie if you run it like:</div><div cla=
ss=3D"gmail_msg"><br class=3D"gmail_msg"></div><div class=3D"gmail_msg">$ m=
pirun_rsh -np 1 localhost SINGULARITY_NOSESSIONCLEANUP=3D1 singularity exec=
 /tmp/user.img date<br class=3D"gmail_msg"></div><div class=3D"gmail_msg"><=
br class=3D"gmail_msg"></div><div class=3D"gmail_msg">NOSESSIONCLEANUP inhi=
bits the session thread which cleanups after the container exits.</div><div=
 class=3D"gmail_msg"><br class=3D"gmail_msg"></div><div class=3D"gmail_msg"=
><br class=3D"gmail_msg"></div></div><div class=3D"gmail_extra gmail_msg"><=
br class=3D"gmail_msg"><div class=3D"gmail_quote gmail_msg">On Tue, Feb 21,=
 2017 at 1:13 PM, Xiaoyi Lu@gmail <span class=3D"gmail_msg">&lt;<a href=3D"=
mailto:cheri...@gmail.com" class=3D"gmail_msg" target=3D"_blank">cheri...@g=
mail.com</a>&gt;</span> wrote:<br class=3D"gmail_msg"><blockquote class=3D"=
gmail_quote gmail_msg" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc soli=
d;padding-left:1ex"><div class=3D"gmail_msg">Thanks for the update, Greg. T=
his is good to know.=C2=A0<span class=3D"m_-5300382142425417683HOEnZb gmail=
_msg"><font color=3D"#888888" class=3D"gmail_msg"><div class=3D"gmail_msg">=
<br class=3D"gmail_msg"></div><div class=3D"gmail_msg">Xiaoyi</div></font><=
/span></div><div class=3D"m_-5300382142425417683HOEnZb gmail_msg"><div clas=
s=3D"m_-5300382142425417683h5 gmail_msg"><div class=3D"gmail_extra gmail_ms=
g"><br class=3D"gmail_msg"><div class=3D"gmail_quote gmail_msg">On Tue, Feb=
 21, 2017 at 4:10 PM, Gregory M. Kurtzer <span class=3D"gmail_msg">&lt;<a h=
ref=3D"mailto:gmku...@lbl.gov" class=3D"gmail_msg" target=3D"_blank">gmku..=
.@lbl.gov</a>&gt;</span> wrote:<br class=3D"gmail_msg"><blockquote class=3D=
"gmail_quote gmail_msg" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc sol=
id;padding-left:1ex"><div class=3D"gmail_msg">Hello,<div class=3D"gmail_msg=
"><br class=3D"gmail_msg"></div><div class=3D"gmail_msg">I did a quick veri=
fication of what you described using MVAPICH2 and the latest lib-refactor c=
ode I&#39;m working on. It seems that there is a conflict somehow with MVAP=
ICH2 and how we are managing the signal handler pipes as if I avoid Singula=
rity&#39;s forking, I can circumvent the issue.</div><div class=3D"gmail_ms=
g"><br class=3D"gmail_msg"></div><div class=3D"gmail_msg">Brian and I spoke=
 about it and one or both of us will hopefully have time to debug this in m=
ore detail shortly.</div><div class=3D"gmail_msg"><br class=3D"gmail_msg"><=
/div><div class=3D"gmail_msg">Thanks!</div></div><div class=3D"gmail_extra =
gmail_msg"><div class=3D"gmail_msg"><div class=3D"m_-5300382142425417683m_1=
355088625254818441h5 gmail_msg"><br class=3D"gmail_msg"><div class=3D"gmail=
_quote gmail_msg">On Mon, Feb 6, 2017 at 12:41 PM, Jie Zhang <span class=3D=
"gmail_msg">&lt;<a href=3D"mailto:jessezh...@gmail.com" class=3D"gmail_msg"=
 target=3D"_blank">jessezh...@gmail.com</a>&gt;</span> wrote:<br class=3D"g=
mail_msg"><blockquote class=3D"gmail_quote gmail_msg" style=3D"margin:0 0 0=
 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div class=3D"gmail_msg"=
>Hi, Brian,<div class=3D"gmail_msg"><br class=3D"gmail_msg"></div><div clas=
s=3D"gmail_msg">For #1, the results are basically as what we knew.</div><di=
v class=3D"gmail_msg"><br class=3D"gmail_msg"></div><div class=3D"gmail_msg=
">zhanjie =C2=A0 4178 =C2=A00.0 =C2=A00.0 =C2=A034976 =C2=A01340 pts/0 =C2=
=A0 =C2=A0Sl+ =C2=A013:07 =C2=A0 0:00 =C2=A0| =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 \_ /home/zhanjie/singularity/master.inst=
all/bin/mpispawn 0</div><div class=3D"gmail_msg">zhanjie =C2=A0 4180 =C2=A0=
0.0 =C2=A00.0 =C2=A0 5432 =C2=A01688 pts/0 =C2=A0 =C2=A0S+ =C2=A0 13:07 =C2=
=A0 0:00 =C2=A0| =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 \_ /usr/local/libexec/singularity/sexec date</div><div=
 class=3D"gmail_msg">zhanjie =C2=A0 4183 =C2=A00.6 =C2=A00.0 =C2=A0 =C2=A0 =
=C2=A00 =C2=A0 =C2=A0 0 pts/0 =C2=A0 =C2=A0Z+ =C2=A0 13:07 =C2=A0 0:00 =C2=
=A0| =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0\_ [date] &lt;defunct&gt;=C2=A0</d=
iv><div class=3D"gmail_msg"><br class=3D"gmail_msg"></div><div class=3D"gma=
il_msg">For #2, I run `mpirun_rsh -np 1 sandy4 /usr/local/bin/singularity e=
xec singularity-centos7.img strace date&#39;. It&#39;s stuck at the end, ev=
en though it shows `+++ exited with 0 +++&#39;.</div><div class=3D"gmail_ms=
g"><br class=3D"gmail_msg"></div><div class=3D"gmail_msg"><div class=3D"gma=
il_msg">action_exec_do /usr/local/libexec/singularity/sexec strace</div><di=
v class=3D"gmail_msg">execve(&quot;/usr/bin/date&quot;, [&quot;date&quot;],=
 [/* 87 vars */]) =3D 0</div><div class=3D"gmail_msg">brk(0) =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=3D 0x2462000</div><div class=3D"gmail_msg">=
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) =
=3D 0x7f3284495000</div><div class=3D"gmail_msg">access(&quot;/etc/ld.so.pr=
eload&quot;, R_OK) =C2=A0 =C2=A0 =C2=A0=3D -1 ENOENT (No such file or direc=
tory)</div><div class=3D"gmail_msg">open(&quot;/etc/ld.so.cache&quot;, O_RD=
ONLY|O_CLOEXEC) =3D 6</div><div class=3D"gmail_msg">fstat(6, {st_mode=3DS_I=
FREG|0644, st_size=3D15081, ...}) =3D 0</div><div class=3D"gmail_msg">mmap(=
NULL, 15081, PROT_READ, MAP_PRIVATE, 6, 0) =3D 0x7f3284491000</div><div cla=
ss=3D"gmail_msg">close(6) =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=3D 0</div><d=
iv class=3D"gmail_msg">open(&quot;/lib64/libc.so.6&quot;, O_RDONLY|O_CLOEXE=
C) =3D 6</div><div class=3D"gmail_msg">read(6, &quot;\177ELF\2\1\1\3\0\0\0\=
0\0\0\0\0\3\0&gt;\0\1\0\0\0 \34\2\0\0\0\0\0&quot;..., 832) =3D 832</div><di=
v class=3D"gmail_msg">fstat(6, {st_mode=3DS_IFREG|0755, st_size=3D2112384, =
...}) =3D 0</div><div class=3D"gmail_msg">mmap(NULL, 3936832, PROT_READ|PRO=
T_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 6, 0) =3D 0x7f3283eb3000</div><div class=
=3D"gmail_msg">mprotect(0x7f328406a000, 2097152, PROT_NONE) =3D 0</div><div=
 class=3D"gmail_msg">mmap(0x7f328426a000, 24576, PROT_READ|PROT_WRITE, MAP_=
PRIVATE|MAP_FIXED|MAP_DENYWRITE, 6, 0x1b7000) =3D 0x7f328426a000</div><div =
class=3D"gmail_msg">mmap(0x7f3284270000, 16960, PROT_READ|PROT_WRITE, MAP_P=
RIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) =3D 0x7f3284270000</div><div class=
=3D"gmail_msg">close(6) =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=3D 0</div><d=
iv class=3D"gmail_msg">mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|M=
AP_ANONYMOUS, -1, 0) =3D 0x7f3284490000</div><div class=3D"gmail_msg">mmap(=
NULL, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) =3D 0x7=
f328448e000</div><div class=3D"gmail_msg">arch_prctl(ARCH_SET_FS, 0x7f32844=
8e740) =3D 0</div><div class=3D"gmail_msg">mprotect(0x7f328426a000, 16384, =
PROT_READ) =3D 0</div><div class=3D"gmail_msg">mprotect(0x60d000, 4096, PRO=
T_READ) =C2=A0 =C2=A0 =3D 0</div><div class=3D"gmail_msg">mprotect(0x7f3284=
496000, 4096, PROT_READ) =3D 0</div><div class=3D"gmail_msg">munmap(0x7f328=
4491000, 15081) =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =3D 0</div><div class=3D=
"gmail_msg">brk(0) =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=3D 0x2462000=
</div><div class=3D"gmail_msg">brk(0x2483000) =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=3D 0x2483000=
</div><div class=3D"gmail_msg">brk(0) =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0=3D 0x2483000</div><div class=3D"gmail_msg">open(&quot;/usr/lib/l=
ocale/locale-archive&quot;, O_RDONLY|O_CLOEXEC) =3D 6</div><div class=3D"gm=
ail_msg">fstat(6, {st_mode=3DS_IFREG|0644, st_size=3D106065056, ...}) =3D 0=
</div><div class=3D"gmail_msg">mmap(NULL, 106065056, PROT_READ, MAP_PRIVATE=
, 6, 0) =3D 0x7f327d98c000</div><div class=3D"gmail_msg">close(6) =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=3D 0</div><div class=3D"gmail_msg">open(&qu=
ot;/usr/share/zoneinfo/EST&quot;, O_RDONLY|O_CLOEXEC) =3D 6</div><div class=
=3D"gmail_msg">fstat(6, {st_mode=3DS_IFREG|0644, st_size=3D118, ...}) =3D 0=
</div><div class=3D"gmail_msg">fstat(6, {st_mode=3DS_IFREG|0644, st_size=3D=
118, ...}) =3D 0</div><div class=3D"gmail_msg">mmap(NULL, 4096, PROT_READ|P=
ROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) =3D 0x7f3284494000</div><div c=
lass=3D"gmail_msg">read(6, &quot;TZif2\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\=
1\0\0\0\1\0\0\0\0&quot;..., 4096) =3D 118</div><div class=3D"gmail_msg">lse=
ek(6, -62, SEEK_CUR) =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =3D 56</div><div class=3D"gmail_msg">read(6, &quot;TZif2\0\0\0\0\0\0\0\=
0\0\0\0\0\0\0\0\0\0\0\1\0\0\0\1\0\0\0\0&quot;..., 4096) =3D 62</div><div cl=
ass=3D"gmail_msg">close(6) =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=3D 0</div><=
div class=3D"gmail_msg">munmap(0x7f3284494000, 4096) =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0=3D 0</div><div class=3D"gmail_msg">fstat(1, {st_mode=
=3DS_IFCHR|0620, st_rdev=3Dmakedev(136, 0), ...}) =3D 0</div><div class=3D"=
gmail_msg">mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS=
, -1, 0) =3D 0x7f3284494000</div><div class=3D"gmail_msg">write(1, &quot;Mo=
n Feb =C2=A06 15:29:11 EST 2017\n&quot;, 29Mon Feb =C2=A06 15:29:11 EST 201=
7</div><div class=3D"gmail_msg">) =3D 29</div><div class=3D"gmail_msg">clos=
e(1) =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=3D 0</div><div class=3D"gmail_msg=
">munmap(0x7f3284494000, 4096) =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=3D=
 0</div><div class=3D"gmail_msg">close(2) =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0=3D 0</div><div class=3D"gmail_msg">exit_group(0) =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=3D ?</div><div class=3D"gmail_msg">+++ exited with 0 +++</div></div><div c=
lass=3D"gmail_msg"><font color=3D"#ff0000" class=3D"gmail_msg">*****stuck h=
ere*****</font></div><div class=3D"gmail_msg"><font color=3D"#ff0000" class=
=3D"gmail_msg"><br class=3D"gmail_msg"></font></div><div class=3D"gmail_msg=
">MVAPICH2 is public available, can you please try and see if you can repro=
duce this issue?<font color=3D"#ff0000" class=3D"gmail_msg"><br class=3D"gm=
ail_msg"></font></div><div class=3D"gmail_msg"><br class=3D"gmail_msg"></di=
v></div><div class=3D"gmail_extra gmail_msg"><br clear=3D"all" class=3D"gma=
il_msg"><div class=3D"gmail_msg"><div class=3D"m_-5300382142425417683m_1355=
088625254818441m_-8917703324977184479m_5553504256568381150gmail_signature g=
mail_msg" data-smartmail=3D"gmail_signature"><div class=3D"gmail_msg"><div =
class=3D"gmail_msg"><span class=3D"gmail_msg"><div class=3D"gmail_msg"><div=
 class=3D"gmail_msg"><font size=3D"2" face=3D"tahoma, sans-serif" color=3D"=
#000000" class=3D"gmail_msg">Thanks,</font></div><font size=3D"2" face=3D"t=
ahoma, sans-serif" class=3D"gmail_msg"><font color=3D"#000000" class=3D"gma=
il_msg">-Jie<br class=3D"gmail_msg"><br class=3D"gmail_msg">---------------=
-----------------------------</font></font></div><div class=3D"gmail_msg"><=
span style=3D"color:rgb(0,0,0);font-family:tahoma,sans-serif;font-size:smal=
l" class=3D"gmail_msg">Department of Computer Science &amp; Engineering</sp=
an><font size=3D"2" face=3D"tahoma, sans-serif" class=3D"gmail_msg"><font c=
olor=3D"#000000" class=3D"gmail_msg"><br class=3D"gmail_msg"></font></font>=
</div></span><div class=3D"gmail_msg"><span style=3D"color:rgb(0,0,0);font-=
family:tahoma,sans-serif;font-size:small" class=3D"gmail_msg">Erwin E. Dree=
se Laboratories 774</span></div><div class=3D"gmail_msg"><span style=3D"col=
or:rgb(0,0,0);font-family:tahoma,sans-serif;font-size:small" class=3D"gmail=
_msg">The Ohio State University</span><span style=3D"color:rgb(0,0,0);font-=
family:tahoma,sans-serif;font-size:small" class=3D"gmail_msg"><br class=3D"=
gmail_msg"></span></div><div class=3D"gmail_msg"><span style=3D"color:rgb(0=
,0,0);font-family:tahoma,sans-serif;font-size:small" class=3D"gmail_msg">20=
15 Neil Avenue</span></div><div class=3D"gmail_msg"><span style=3D"color:rg=
b(0,0,0);font-family:tahoma,sans-serif;font-size:small" class=3D"gmail_msg"=
>Columbus, OH 43210, USA</span></div><div class=3D"gmail_msg"><span style=
=3D"font-family:times new roman,serif;color:rgb(51,51,255)" class=3D"gmail_=
msg"></span></div></div></div></div></div><div class=3D"gmail_msg"><div cla=
ss=3D"m_-5300382142425417683m_1355088625254818441m_-8917703324977184479h5 g=
mail_msg"><br><br><br class=3D"gmail_msg"><div class=3D"gmail_quote gmail_m=
sg">On Tue, Jan 31, 2017 at 12:08 PM, Xiaoyi Lu@gmail <span class=3D"gmail_=
msg">&lt;<a href=3D"mailto:cheri...@gmail.com" class=3D"gmail_msg" target=
=3D"_blank">cheri...@gmail.com</a>&gt;</span> wrote:<br class=3D"gmail_msg"=
><blockquote class=3D"gmail_quote gmail_msg" style=3D"margin:0 0 0 .8ex;bor=
der-left:1px #ccc solid;padding-left:1ex"><div class=3D"gmail_msg">Thanks, =
Brian. We will explore these and get back to you.<span class=3D"m_-53003821=
42425417683m_1355088625254818441m_-8917703324977184479m_5553504256568381150=
HOEnZb gmail_msg"><font color=3D"#888888" class=3D"gmail_msg"><div class=3D=
"gmail_msg"><br class=3D"gmail_msg"></div><div class=3D"gmail_msg">Xiaoyi</=
div><div class=3D"gmail_msg"><br class=3D"gmail_msg"></div></font></span></=
div><div class=3D"m_-5300382142425417683m_1355088625254818441m_-89177033249=
77184479m_5553504256568381150HOEnZb gmail_msg"><div class=3D"m_-53003821424=
25417683m_1355088625254818441m_-8917703324977184479m_5553504256568381150h5 =
gmail_msg"><div class=3D"gmail_extra gmail_msg"><br class=3D"gmail_msg"><di=
v class=3D"gmail_quote gmail_msg">On Tue, Jan 31, 2017 at 11:59 AM, Brian B=
ockelman <span class=3D"gmail_msg">&lt;<a href=3D"mailto:bock...@gmail.com"=
 class=3D"gmail_msg" target=3D"_blank">bock...@gmail.com</a>&gt;</span> wro=
te:<br class=3D"gmail_msg"><blockquote class=3D"gmail_quote gmail_msg" styl=
e=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">Hi Xiao=
yi,<br class=3D"gmail_msg"><br><br><br class=3D"gmail_msg"><br><br>Two thin=
gs would help -<br class=3D"gmail_msg"><br><br><br class=3D"gmail_msg"><br>=
<br>1) Output of &quot;ps faux&quot; when done with the mpirun case.=C2=A0 =
This will help<br class=3D"gmail_msg"><br><br>understand which processes ar=
e running and have which parentage.<br class=3D"gmail_msg"><br><br>2) For t=
he case that&#39;s sticking, for any singularity processes, a stack trace.<=
br class=3D"gmail_msg"><br><br><br class=3D"gmail_msg"><br><br>The poll com=
mand you reference tends to be waiting on a sub-process to<br class=3D"gmai=
l_msg"><br><br>exec, so it&#39;s possible we are not looking at the right t=
hing.<br class=3D"gmail_msg"><br><br><br class=3D"gmail_msg"><br><br>Thanks=
,<br class=3D"gmail_msg"><br><br><br class=3D"gmail_msg"><br><br>Brian<br c=
lass=3D"gmail_msg"><br><br><div class=3D"m_-5300382142425417683m_1355088625=
254818441m_-8917703324977184479m_5553504256568381150m_1863973391569103025HO=
EnZb gmail_msg"><div class=3D"m_-5300382142425417683m_1355088625254818441m_=
-8917703324977184479m_5553504256568381150m_1863973391569103025h5 gmail_msg"=
><br class=3D"gmail_msg"><br><br>On Tue, Jan 31, 2017 at 10:43 AM, Xiaoyi L=
u &lt;<a href=3D"mailto:cheri...@gmail.com" class=3D"gmail_msg" target=3D"_=
blank">cheri...@gmail.com</a>&gt; wrote:<br class=3D"gmail_msg"><br><br>&gt=
; Hi, Krishna,<br class=3D"gmail_msg"><br><br>&gt;<br class=3D"gmail_msg"><=
br><br>&gt; Jie is traveling internationally. Here is the new update from u=
s.<br class=3D"gmail_msg"><br><br>&gt;<br class=3D"gmail_msg"><br><br>&gt; =
We found that with mpirun_rsh, the parent process did not get back from<br =
class=3D"gmail_msg"><br><br>&gt; singularity_fork() in `singularity_session=
dir_init&#39;.<br class=3D"gmail_msg"><br><br>&gt;<br class=3D"gmail_msg"><=
br><br>&gt; It seems that it keeps on waiting on signal from watchdog (poll=
(fds,<br class=3D"gmail_msg"><br><br>&gt; watchdog_rpipe =3D=3D -1 ? 2 : 3,=
 -1)).<br class=3D"gmail_msg"><br><br>&gt;<br class=3D"gmail_msg"><br><br>&=
gt;<br class=3D"gmail_msg"><br><br>&gt; We are pretty sure this difference,=
 compared to the case without mpirun_rsh.<br class=3D"gmail_msg"><br><br>&g=
t;<br class=3D"gmail_msg"><br><br>&gt;<br class=3D"gmail_msg"><br><br>&gt; =
Any thoughts here?<br class=3D"gmail_msg"><br><br>&gt;<br class=3D"gmail_ms=
g"><br><br>&gt;<br class=3D"gmail_msg"><br><br>&gt; Thanks,<br class=3D"gma=
il_msg"><br><br>&gt;<br class=3D"gmail_msg"><br><br>&gt; Xiaoyi<br class=3D=
"gmail_msg"><br><br>&gt;<br class=3D"gmail_msg"><br><br>&gt;<br class=3D"gm=
ail_msg"><br><br>&gt; On Friday, January 27, 2017 at 11:18:59 AM UTC-5, Jie=
 Zhang wrote:<br class=3D"gmail_msg"><br><br>&gt;&gt;<br class=3D"gmail_msg=
"><br><br>&gt;&gt; Thanks, Krishna,<br class=3D"gmail_msg"><br><br>&gt;&gt;=
<br class=3D"gmail_msg"><br><br>&gt;&gt; I corrected the way to run strace.=
<br class=3D"gmail_msg"><br><br>&gt;&gt; 1. singularity exec singularity-ce=
ntos7.img strace date<br class=3D"gmail_msg"><br><br>&gt;&gt; 2. mpirun_rsh=
 -np 1=C2=A0 host1=C2=A0 singularity exec singularity-centos7.img<br class=
=3D"gmail_msg"><br><br>&gt;&gt; strace date<br class=3D"gmail_msg"><br><br>=
&gt;&gt;<br class=3D"gmail_msg"><br><br>&gt;&gt; I see both of them show `+=
++exited with 0+++&#39; at the end, even though it&#39;s<br class=3D"gmail_=
msg"><br><br>&gt;&gt; stuck after that for #2.<br class=3D"gmail_msg"><br><=
br>&gt;&gt; The log files are attached below.<br class=3D"gmail_msg"><br><b=
r>&gt;&gt;<br class=3D"gmail_msg"><br><br>&gt;&gt;<br class=3D"gmail_msg"><=
br><br>&gt;&gt;<br class=3D"gmail_msg"><br><br>&gt;&gt; On Friday, January =
27, 2017 at 3:47:30 AM UTC-5, Krishna Muriki wrote:<br class=3D"gmail_msg">=
<br><br>&gt;&gt;&gt;<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt; Jie,<br cl=
ass=3D"gmail_msg"><br><br>&gt;&gt;&gt;<br class=3D"gmail_msg"><br><br>&gt;&=
gt;&gt; What we should do is to run strace on the date command inside the<b=
r class=3D"gmail_msg"><br><br>&gt;&gt;&gt; singularity container not on the=
 singularity command itself. Mount this<br class=3D"gmail_msg"><br><br>&gt;=
&gt;&gt; singularity container singularity-centos7.img in read/write mode o=
n your<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt; endpoint, install strace=
 package into it. After then when you invoke<br class=3D"gmail_msg"><br><br=
>&gt;&gt;&gt; mpirun_rsh run it like this:<br class=3D"gmail_msg"><br><br>&=
gt;&gt;&gt;<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt; mpirun_rsh -np 1=C2=
=A0 host1=C2=A0 singularity exec singularity-centos7.img strace<br class=3D=
"gmail_msg"><br><br>&gt;&gt;&gt; date<br class=3D"gmail_msg"><br><br>&gt;&g=
t;&gt;<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt; Thanks,<br class=3D"gmai=
l_msg"><br><br>&gt;&gt;&gt; Krishna.<br class=3D"gmail_msg"><br><br>&gt;&gt=
;&gt;<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt; On Thu, Jan 26, 2017 at 1=
0:55 PM, Jie Zhang &lt;<a href=3D"mailto:jes...@gmail.com" class=3D"gmail_m=
sg" target=3D"_blank">jes...@gmail.com</a>&gt; wrote:<br class=3D"gmail_msg=
"><br><br>&gt;&gt;&gt;&gt;<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt; =
Hi, Krishna,<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;<br class=3D"gm=
ail_msg"><br><br>&gt;&gt;&gt;&gt; I tried adding strace to the plain singul=
arity case (strace<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt; /usr/loc=
al/bin/singularity exec singularity-centos7.img date), what I found<br clas=
s=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt; is that it actually exited with er=
ror (255) at the end<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt; (non-r=
oot-strace.log).<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt; If trying =
with root (sudo strace /usr/local/bin/singularity exec<br class=3D"gmail_ms=
g"><br><br>&gt;&gt;&gt;&gt; singularity-centos7.img date), there&#39;s no e=
rror. (root-strace.log)<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt; Try=
ing with mpirun_rsh, it looks hanging on futex system call.<br class=3D"gma=
il_msg"><br><br>&gt;&gt;&gt;&gt; (non-root-mpirun_rsh-strace.log)<br class=
=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;<br class=3D"gmail_msg"><br><br>&gt;=
&gt;&gt;&gt; Please take a look at the log files attached below to see if y=
ou have<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt; any insight.<br cla=
ss=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;<br class=3D"gmail_msg"><br><br>&g=
t;&gt;&gt;&gt;<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;<br class=3D"=
gmail_msg"><br><br>&gt;&gt;&gt;&gt; On Thursday, January 26, 2017 at 8:10:2=
2 PM UTC-5, Krishna Muriki wrote:<br class=3D"gmail_msg"><br><br>&gt;&gt;&g=
t;&gt;&gt;<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt; Jie,<br clas=
s=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;<br class=3D"gmail_msg"><br><br=
>&gt;&gt;&gt;&gt;&gt; Could you add strace to the container and run strace =
date to see why<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt; the dat=
e process is going defunct ? Also first try running with -np 1 host1<br cla=
ss=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt; and then scale to -np 2 and m=
ultiple nodes.<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;<br class=
=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt; Thanks,<br class=3D"gmail_msg">=
<br><br>&gt;&gt;&gt;&gt;&gt; Krishna.<br class=3D"gmail_msg"><br><br>&gt;&g=
t;&gt;&gt;&gt;<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt; On Thu, =
Jan 26, 2017 at 5:07 PM, Jie Zhang &lt;<a href=3D"mailto:jes...@gmail.com" =
class=3D"gmail_msg" target=3D"_blank">jes...@gmail.com</a>&gt;<br class=3D"=
gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt; wrote:<br class=3D"gmail_msg"><br><=
br>&gt;&gt;&gt;&gt;&gt;&gt;<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;=
&gt;&gt; Hi, Krishna,<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&g=
t;<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;<br class=3D"gmai=
l_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt; Without mpirun_rsh, all other tests=
 work fine.<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;<br clas=
s=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt; ssh host1=C2=A0 singularit=
y exec singularity-centos7.img date<br class=3D"gmail_msg"><br><br>&gt;&gt;=
&gt;&gt;&gt;&gt; singularity exec singularity-centos7.img date<br class=3D"=
gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;<br class=3D"gmail_msg"><br><br>=
&gt;&gt;&gt;&gt;&gt;&gt;<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt=
;&gt;<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt; On Thursday, =
January 26, 2017 at 7:58:21 PM UTC-5, Krishna Muriki<br class=3D"gmail_msg"=
><br><br>&gt;&gt;&gt;&gt;&gt;&gt; wrote:<br class=3D"gmail_msg"><br><br>&gt=
;&gt;&gt;&gt;&gt;&gt;&gt;<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&g=
t;&gt;&gt; Jie,<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;=
<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; Can you do a c=
ouple of tests, see if directly running=C2=A0 &#39;singularity<br class=3D"=
gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; exec singularity-centos7.im=
g date&#39; without mpirun_rsh returns the prompt<br class=3D"gmail_msg"><b=
r><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; back to you properly. If that also gets =
struck, add strace to your container<br class=3D"gmail_msg"><br><br>&gt;&gt=
;&gt;&gt;&gt;&gt;&gt; and run strace date.<br class=3D"gmail_msg"><br><br>&=
gt;&gt;&gt;&gt;&gt;&gt;&gt;<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;=
&gt;&gt;&gt; If that does return properly try running with &#39;ssh host1=
=C2=A0 singularity<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&=
gt; exec singularity-centos7.img date&#39; without mpirun_rsh and see if th=
at works.<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br cl=
ass=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; --Krishna.<br class=
=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br class=3D"gmail_msg">=
<br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; On Thu, Jan 26, 2017 at 1:51 PM, Jie Z=
hang &lt;<a href=3D"mailto:zh...@osu.edu" class=3D"gmail_msg" target=3D"_bl=
ank">zh...@osu.edu</a>&gt; wrote:<br class=3D"gmail_msg"><br><br>&gt;&gt;&g=
t;&gt;&gt;&gt;&gt;&gt;<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&=
gt;&gt;&gt; Hello,<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&=
gt;&gt;<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; I&#=
39;m trying singularity with MVAPICH2. I found a small issue here.<br class=
=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; When running `mpiru=
n_rsh -np 2=C2=A0 host1 host1=C2=A0 singularity exec<br class=3D"gmail_msg"=
><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; singularity-centos7.img date&#39;=
, the routine (date) got executed successfully,<br class=3D"gmail_msg"><br>=
<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; but the mpi command is not able to ret=
urn.<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br cla=
ss=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; [runbot@host1:sin=
gularity]$mpirun_rsh -np 2=C2=A0 host1 host1<br class=3D"gmail_msg"><br><br=
>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; singularity exec singularity-centos7.img =
date<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Thu Ja=
n 26 16:38:35 EST 2017<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&=
gt;&gt;&gt; Thu Jan 26 16:38:35 EST 2017<br class=3D"gmail_msg"><br><br>&gt=
;&gt;&gt;&gt;&gt;&gt;&gt;&gt; (stuck here...., can Not return)<br class=3D"=
gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br class=3D"gmail_msg">=
<br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; And I can see the `date&#39; comma=
nd does not return properly.<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt=
;&gt;&gt;&gt;&gt; [runbot@host1:singularity]$ps -Af | grep runbot<br class=
=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; .........<br class=
=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; runbot=C2=A0 =C2=A0=
7347=C2=A0 7345=C2=A0 0 16:45 pts/1=C2=A0 =C2=A0 00:00:00<br class=3D"gmail=
_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; /home/runbot/singularity/mas=
ter.install/bin/mpispawn 0<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&=
gt;&gt;&gt;&gt; runbot=C2=A0 7349=C2=A0 7347=C2=A0 0 16:45 pts/1=C2=A0 =C2=
=A0 00:00:00<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt=
; /usr/local/libexec/singularity/sexec date<br class=3D"gmail_msg"><br><br>=
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; runbot=C2=A0 7350=C2=A0 7347=C2=A0 0 16:45=
 pts/1=C2=A0 =C2=A0 00:00:00<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt=
;&gt;&gt;&gt;&gt; /usr/local/libexec/singularity/sexec date<br class=3D"gma=
il_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; runbot=C2=A0 7355=C2=A0 73=
49=C2=A0 0 16:45 pts/1=C2=A0 =C2=A0 00:00:00 [date] &lt;defunct&gt;<br clas=
s=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; runbot=C2=A0 7356=
=C2=A0 7350=C2=A0 0 16:45 pts/1=C2=A0 =C2=A0 00:00:00 [date] &lt;defunct&gt=
;<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br class=
=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; I&#39;m not sure wh=
ether the issue is from either mpi launcher,<br class=3D"gmail_msg"><br><br=
>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; singularity or the interaction between bo=
th. Do you have any idea?<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&g=
t;&gt;&gt;&gt;<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&=
gt;<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Thanks,=
<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; -Jie<br cl=
ass=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br class=3D"gmai=
l_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; ---------------------------=
-----------------<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&g=
t;&gt; Department of Computer Science &amp; Engineering<br class=3D"gmail_m=
sg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Erwin E. Dreese Laboratories, =
2015 Neil Avenue<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt=
;&gt; Ohio State University<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;=
&gt;&gt;&gt;&gt;<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt=
;&gt; --<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Yo=
u received this message because you are subscribed to the Google<br class=
=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Groups &quot;singul=
arity&quot; group.<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&=
gt;&gt; To unsubscribe from this group and stop receiving emails from it,<b=
r class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; send an emai=
l to <a href=3D"mailto:singu...@lbl.gov" class=3D"gmail_msg" target=3D"_bla=
nk">singu...@lbl.gov</a>.<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&g=
t;&gt;&gt;<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br c=
lass=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;&gt; --<br class=3D"gmail_ms=
g"><br><br>&gt;&gt;&gt;&gt;&gt;&gt; You received this message because you a=
re subscribed to the Google<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;=
&gt;&gt; Groups &quot;singularity&quot; group.<br class=3D"gmail_msg"><br><=
br>&gt;&gt;&gt;&gt;&gt;&gt; To unsubscribe from this group and stop receivi=
ng emails from it, send<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;=
&gt; an email to <a href=3D"mailto:singu...@lbl.gov" class=3D"gmail_msg" ta=
rget=3D"_blank">singu...@lbl.gov</a>.<br class=3D"gmail_msg"><br><br>&gt;&g=
t;&gt;&gt;&gt;<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt;&gt;<br class=
=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt; --<br class=3D"gmail_msg"><br><br>&=
gt;&gt;&gt;&gt; You received this message because you are subscribed to the=
 Google<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt; Groups &quot;singul=
arity&quot; group.<br class=3D"gmail_msg"><br><br>&gt;&gt;&gt;&gt; To unsub=
scribe from this group and stop receiving emails from it, send<br class=3D"=
gmail_msg"><br><br>&gt;&gt;&gt;&gt; an email to <a href=3D"mailto:singu...@=
lbl.gov" class=3D"gmail_msg" target=3D"_blank">singu...@lbl.gov</a>.<br cla=
ss=3D"gmail_msg"><br><br>&gt;&gt;&gt;<br class=3D"gmail_msg"><br><br>&gt;&g=
t;&gt;<br class=3D"gmail_msg"><br><br>&gt; --<br class=3D"gmail_msg"><br><b=
r>&gt; You received this message because you are subscribed to the Google G=
roups<br class=3D"gmail_msg"><br><br>&gt; &quot;singularity&quot; group.<br=
 class=3D"gmail_msg"><br><br>&gt; To unsubscribe from this group and stop r=
eceiving emails from it, send an<br class=3D"gmail_msg"><br><br>&gt; email =
to <a href=3D"mailto:singularity%...@lbl.gov" class=3D"gmail_msg" target=3D=
"_blank">singu...@lbl.gov</a>.<br class=3D"gmail_msg"><br><br><br class=3D"=
gmail_msg"><br><br>--<br class=3D"gmail_msg"><br><br>You received this mess=
age because you are subscribed to the Google Groups &quot;singularity&quot;=
 group.<br class=3D"gmail_msg"><br><br>To unsubscribe from this group and s=
top receiving emails from it, send an email to <a href=3D"mailto:singularit=
y%...@lbl.gov" class=3D"gmail_msg" target=3D"_blank">singu...@lbl.gov</a>.<=
br class=3D"gmail_msg"><br><br></div></div></blockquote></div><br class=3D"=
gmail_msg"></div><br><br><br><br><p class=3D"gmail_msg"></p><br><br><br><br=
>-- <br class=3D"gmail_msg"><br><br>You received this message because you a=
re subscribed to the Google Groups &quot;singularity&quot; group.<br class=
=3D"gmail_msg"><br><br>To unsubscribe from this group and stop receiving em=
ails from it, send an email to <a href=3D"mailto:singu...@lbl.gov" class=3D=
"gmail_msg" target=3D"_blank">singu...@lbl.gov</a>.<br class=3D"gmail_msg">=
<br><br></div></div></blockquote></div><br class=3D"gmail_msg"></div></div>=
</div><div class=3D"m_-5300382142425417683m_1355088625254818441m_-891770332=
4977184479HOEnZb gmail_msg"><div class=3D"m_-5300382142425417683m_135508862=
5254818441m_-8917703324977184479h5 gmail_msg"><br><br><br><br><p class=3D"g=
mail_msg"></p><br><br><br><br>-- <br class=3D"gmail_msg"><br><br>You receiv=
ed this message because you are subscribed to the Google Groups &quot;singu=
larity&quot; group.<br class=3D"gmail_msg"><br><br>To unsubscribe from this=
 group and stop receiving emails from it, send an email to <a href=3D"mailt=
o:singu...@lbl.gov" class=3D"gmail_msg" target=3D"_blank">singu...@lbl.gov<=
/a>.<br class=3D"gmail_msg"><br><br></div></div></blockquote></div><br clas=
s=3D"gmail_msg"><br clear=3D"all" class=3D"gmail_msg"><div class=3D"gmail_m=
sg"><br class=3D"gmail_msg"></div></div></div><span class=3D"m_-53003821424=
25417683m_1355088625254818441HOEnZb gmail_msg"><font color=3D"#888888" clas=
s=3D"gmail_msg">-- <br class=3D"gmail_msg"><div class=3D"m_-530038214242541=
7683m_1355088625254818441m_-8917703324977184479gmail_signature gmail_msg" d=
ata-smartmail=3D"gmail_signature"><div class=3D"gmail_msg"><div class=3D"gm=
ail_msg"><div class=3D"gmail_msg"><div class=3D"gmail_msg"><div class=3D"gm=
ail_msg"><div class=3D"gmail_msg"><div class=3D"gmail_msg"><div class=3D"gm=
ail_msg"><div class=3D"gmail_msg"><div class=3D"gmail_msg">Gregory M. Kurtz=
er</div><div class=3D"gmail_msg">HPC Systems Architect and Technology Devel=
oper</div><div class=3D"gmail_msg">Lawrence Berkeley National Laboratory HP=
CS<br class=3D"gmail_msg">University of California Berkeley Research IT<br =
class=3D"gmail_msg">Singularity Linux Containers=C2=A0(<a href=3D"http://si=
ngularity.lbl.gov/" class=3D"gmail_msg" target=3D"_blank">http://singularit=
y.lbl.gov/</a>)</div><div class=3D"gmail_msg">Warewulf Cluster Management=
=C2=A0(<a href=3D"http://warewulf.lbl.gov/" class=3D"gmail_msg" target=3D"_=
blank">http://warewulf.lbl.gov/</a>)</div><div class=3D"gmail_msg">GitHub:=
=C2=A0<a href=3D"https://github.com/gmkurtzer" class=3D"gmail_msg" target=
=3D"_blank">https://github.com/gmkurtzer</a>,=C2=A0<span style=3D"font-size=
:12.8px" class=3D"gmail_msg">Twitter:=C2=A0</span><a href=3D"https://twitte=
r.com/gmkurtzer" style=3D"font-size:12.8px" class=3D"gmail_msg" target=3D"_=
blank">https://twitter.com/gmkurtzer</a></div></div></div></div></div></div=
></div></div></div></div></div><br><br></font></span></div><div class=3D"m_=
-5300382142425417683m_1355088625254818441HOEnZb gmail_msg"><div class=3D"m_=
-5300382142425417683m_1355088625254818441h5 gmail_msg"><br><br><br><br><p c=
lass=3D"gmail_msg"></p><br><br><br><br>-- <br class=3D"gmail_msg"><br><br>Y=
ou received this message because you are subscribed to the Google Groups &q=
uot;singularity&quot; group.<br class=3D"gmail_msg"><br><br>To unsubscribe =
from this group and stop receiving emails from it, send an email to <a href=
=3D"mailto:singu...@lbl.gov" class=3D"gmail_msg" target=3D"_blank">singu...=
@lbl.gov</a>.<br class=3D"gmail_msg"><br><br></div></div></blockquote></div=
><br class=3D"gmail_msg"></div><br><br><br><br><p class=3D"gmail_msg"></p><=
br><br><br><br>-- <br class=3D"gmail_msg"><br><br>You received this message=
 because you are subscribed to the Google Groups &quot;singularity&quot; gr=
oup.<br class=3D"gmail_msg"><br><br>To unsubscribe from this group and stop=
 receiving emails from it, send an email to <a href=3D"mailto:singu...@lbl.=
gov" class=3D"gmail_msg" target=3D"_blank">singu...@lbl.gov</a>.<br class=
=3D"gmail_msg"><br><br></div></div></blockquote></div><br class=3D"gmail_ms=
g"><br clear=3D"all" class=3D"gmail_msg"><div class=3D"gmail_msg"><br class=
=3D"gmail_msg"></div>-- <br class=3D"gmail_msg"><div class=3D"m_-5300382142=
425417683gmail_signature gmail_msg" data-smartmail=3D"gmail_signature"><div=
 class=3D"gmail_msg"><div class=3D"gmail_msg"><div class=3D"gmail_msg"><div=
 class=3D"gmail_msg"><div class=3D"gmail_msg"><div class=3D"gmail_msg"><div=
 class=3D"gmail_msg"><div class=3D"gmail_msg"><div class=3D"gmail_msg"><div=
 class=3D"gmail_msg">Gregory M. Kurtzer</div><div class=3D"gmail_msg">HPC S=
ystems Architect and Technology Developer</div><div class=3D"gmail_msg">Law=
rence Berkeley National Laboratory HPCS<br class=3D"gmail_msg">University o=
f California Berkeley Research IT<br class=3D"gmail_msg">Singularity Linux =
Containers=C2=A0(<a href=3D"http://singularity.lbl.gov/" class=3D"gmail_msg=
" target=3D"_blank">http://singularity.lbl.gov/</a>)</div><div class=3D"gma=
il_msg">Warewulf Cluster Management=C2=A0(<a href=3D"http://warewulf.lbl.go=
v/" class=3D"gmail_msg" target=3D"_blank">http://warewulf.lbl.gov/</a>)</di=
v><div class=3D"gmail_msg">GitHub:=C2=A0<a href=3D"https://github.com/gmkur=
tzer" class=3D"gmail_msg" target=3D"_blank">https://github.com/gmkurtzer</a=
>,=C2=A0<span style=3D"font-size:12.8px" class=3D"gmail_msg">Twitter:=C2=A0=
</span><a href=3D"https://twitter.com/gmkurtzer" style=3D"font-size:12.8px"=
 class=3D"gmail_msg" target=3D"_blank">https://twitter.com/gmkurtzer</a></d=
iv></div></div></div></div></div></div></div></div></div></div><br><br></di=
v><br><br><br><br><p class=3D"gmail_msg"></p><br><br><br><br>-- <br class=
=3D"gmail_msg"><br><br>You received this message because you are subscribed=
 to the Google Groups &quot;singularity&quot; group.<br class=3D"gmail_msg"=
><br><br>To unsubscribe from this group and stop receiving emails from it, =
send an email to <a href=3D"mailto:singu...@lbl.gov" class=3D"gmail_msg" ta=
rget=3D"_blank">singu...@lbl.gov</a>.<br class=3D"gmail_msg"><br><br></bloc=
kquote></div></div>

--001a113db2fa8da292054911991b--
